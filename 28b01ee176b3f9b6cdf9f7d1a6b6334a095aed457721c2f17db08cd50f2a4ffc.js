!function(){var e={2002:function(e,t,a){var r={"./catalogConstants.js":7718,"./experimentConstants.js":6280,"./menuConstants.js":582};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id=2002},9630:function(e,t,a){var r={"./breadcrumbsController.js":7450,"./catalogContentController.js":8137,"./catalogController.js":1669,"./genreFiltersController.js":689,"./itemCardController.js":9661,"./itemsContainerController.js":5630,"./searchOptionsController.js":4607};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id=9630},7481:function(e,t,a){var r={"./accordionMenuDirective.js":673,"./catalogBreadcrumbsDirective.js":1443,"./catalogPageDirective.js":9645,"./creatorFiltersDirective.js":7473,"./genreFiltersDirective.js":6714,"./imageLoadDirective.js":7210,"./itemCardDirective.js":4094,"./itemsContainerDirective.js":9766,"./mobileSearchBarDirective.js":7566,"./mobileSearchOptionsDirective.js":6214,"./priceFiltersDirective.js":5156,"./salesTypeFilterDirective.js":8112,"./searchBarDirective.js":6085,"./searchOptionsDirective.js":9068,"./shimmerContainerDirective.js":1969,"./shimmerMenuDirective.js":2601,"./showUnavailableFilterDirective.js":5478,"./sortFilterDirective.js":727};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id=7481},6811:function(e,t,a){var r={"./range.js":1847};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id=6811},7344:function(e,t,a){var r={"./catalogLayoutService.js":2523,"./catalogService.js":9875,"./constantsService.js":769,"./experimentationService.js":7591,"./metricsService.js":575,"./utilityService.js":7820};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id=7344},3634:function(e,t,a){var r={"./directives/templates/catalogBreadcrumbs.html":8935,"./directives/templates/catalogPage.html":3461,"./directives/templates/creatorFilters.html":4515,"./directives/templates/genreFilters.html":6351,"./directives/templates/itemCard.html":4209,"./directives/templates/itemsContainer.html":3771,"./directives/templates/mobileSearchBar.html":4507,"./directives/templates/mobileSearchOptions.html":6003,"./directives/templates/priceFilters.html":6904,"./directives/templates/salesTypeFilter.html":4526,"./directives/templates/searchBar.html":4801,"./directives/templates/searchOptions.html":640,"./directives/templates/shimmerContainer.html":6083,"./directives/templates/shimmerMenu.html":4137,"./directives/templates/showUnavailableFilter.html":904,"./directives/templates/sortFilter.html":9326};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id=3634},3544:function(e){function t(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function a(e){return e.split("/").pop().replace(".html","")}var r={importFilesUnderPath:function(e){e.keys().forEach(e)},templateCacheGenerator:function(e,r,n,i){return e.module(r,[]).run(["$templateCache",function(e){n&&n.keys().forEach((function(r){var i=t(a(r));e.put(i,n(r))})),i&&i.keys().forEach((function(r){var n=t(a(r));e.put(n,i(r).replace(/<\/?script[^>]*>/gi,""))}))}])}};e.exports=r},9597:function(e,t,a){"use strict";var r=a(792),n=a(5734),i=a.n(n)().module("catalog",["robloxApp","cursorPagination","infiniteScroll","thumbnails"]).config(["$locationProvider","languageResourceProvider",function(e,t){e.html5Mode({enabled:!0,requireBase:!1});var a=(new r.TranslationResourceProvider).getTranslationResource("Feature.Catalog");t.setTranslationResources([a])}]);t.Z=i},7718:function(e,t,a){"use strict";a.r(t);var r=a(792),n=a(9597),i={layout:{initialized:!1,isNavigationMenuLoaded:!1,isSearchItemsLoaded:!1,customText:"custom",accordionMenuIdPrefix:"#category-",showNoResultsMessage:!1,showErrorMessage:!1,isSearchOptionsOpen:!1,isSearchBarFixed:!1,loading:!1,adsInitialized:!1,showFirstLast:!1,isItemDetailsLoaded:!1,isAssetThumbnailLoaded:!1,isBundleThumbnailLoaded:!1,isItemDetailsLoadingFailed:!1,preventLocationChange:!1},defaults:{subcategory:"0"},allGearSubcategoryId:"0",clearFiltersEvent:"Roblox.Catalog.ClearFilters",itemType:{asset:1,bundle:2},templateUrls:{cardItemTemplate:"item-card",catalogBreadcrumbsTemplate:"catalog-breadcrumbs",creatorFiltersTemplate:"creator-filters",genreFiltersTemplate:"genre-filters",mobileSearchBarTemplate:"mobile-search-bar",catalogPageTemplate:"catalog-page",mobileSearchOptionsTemplate:"mobile-search-options",priceFiltersTemplate:"price-filters",searchBarTemplate:"search-bar",searchOptionsTemplate:"search-options",showUnavailableFilterTemplate:"show-unavailable-filter",itemsContainer:"items-container",shimmerContainer:"shimmer-container",shimmerMenu:"shimmer-menu",salesTypeFilterTemplate:"sales-type-filter",sortFilterTemplate:"sort-filter"},buyRobuxUrl:"".concat(r.EnvironmentUrls.websiteUrl,"/upgrades/robux?ctx=catalogNew"),catalogUrl:"".concat(r.EnvironmentUrls.websiteUrl,"/catalog"),numberOfSearchItems:30,numberOfSearchItemsForFullScreen:60,numberOfSearchItemsExpanded:120,expandedCategoryList:["Recommended"],endpoints:{getMetadata:{url:"".concat(r.EnvironmentUrls.catalogApi,"/v1/catalog/metadata"),retryable:!0,withCredentials:!0},enrollAbTesting:{url:"".concat(r.EnvironmentUrls.abtestingApiSite,"/v1/enrollments"),retryable:!1,withCredentials:!0,timeout:500},getPageItems:{url:r.Endpoints?r.Endpoints.getAbsoluteUrl("/catalog/items"):"/catalog/items"},getSearchOptionsUrl:{url:r.Endpoints?r.Endpoints.getAbsoluteUrl("/catalog/search-options"):"/catalog/search-options"},getNavigationMenuItems:{url:"".concat(r.EnvironmentUrls.catalogApi,"/v1/search/navigation-menu-items"),retryable:!0},getSearchItems:{url:"".concat(r.EnvironmentUrls.catalogApi,"/v1/search/items"),retryable:!0},getCatalogItemDetails:{url:"".concat(r.EnvironmentUrls.catalogApi,"/v1/catalog/items/details"),retryable:!1,withCredentials:!0},getCatalogThumbnails:{url:"".concat(r.EnvironmentUrls.thumbnailsApi,"/v1/assets?format=Png"),retryable:!0,withCredentials:!0},getBundleThumbnails:{url:"".concat(r.EnvironmentUrls.thumbnailsApi,"/v1/bundles/thumbnails?format=Png"),retryable:!0,withCredentials:!0},performanceMeasurements:{url:"".concat(r.EnvironmentUrls.metricsApi,"/v1/performance/measurements"),retryable:!1,withCredentials:!0},avatarRequestSuggestion:{url:"".concat(r.EnvironmentUrls.apiGatewayUrl,"/autocomplete-avatar/v2/suggest"),withCredentials:!0,timeout:5e3},avatarRequestCdnSuggestion:{url:"".concat(r.EnvironmentUrls.apiGatewayCdnUrl,"/autocomplete-avatar/v2/suggest"),withCredentials:!0,timeout:5e3},postGetTopics:{url:"".concat(r.EnvironmentUrls.catalogApi,"/v1/topic/get-topics"),withCredentials:!0,timeout:5e3},getUserCurrency:{url:"/v1/users/{userId}/currency",withCredentials:!0,timeout:5e3}},abTestingParams:{subjectType:"User",status:{enrolled:"Enrolled"},apiTimeout:500,variations:{fullScreenCatalogVariation:1}},defaultMetadata:{numberOfCatalogItemsToDisplayOnSplash:25,numberOfCatalogItemsToDisplayOnSplashOnPhone:15},categories:{featured:0},subCategories:{allFeaturedItems:0},queryNames:{category:"Category",subcategory:"Subcategory",pageNumber:"PageNumber",catalogContext:"CatalogContext",sortType:"SortType",sortAggregation:"SortAggregation",sortCurrency:"SortCurrency",currencyType:"CurrencyType",genres:"Genres",gears:"Gears",resultsPerPage:"ResultsPerPage",creatorId:"CreatorID",creatorName:"CreatorName",keyword:"Keyword",pxMin:"PxMin",pxMax:"PxMax",includeNotForSale:"IncludeNotForSale",legendExpanded:"LegendExpanded"},queryValueIsInt:["category","subcategory","catalogcontext","sorttype","sortaggregation","sortcurrency","currencytype","gears","creatorid","pxmin","pxmax"],itemTypes:{bundle:"Bundle",asset:"Asset"},priceStatus:{free:"Free",noResellers:"NoResellers"},itemRestrictionTypes:{thirteenPlus:"ThirteenPlus",limitedUnique:"LimitedUnique",limited:"Limited",rthro:"Rthro",dynamicHead:"Live",collectible:"Collectible"},itemRestrictionIcons:{thirteenPlus:"icon-thirteen-plus-label",limited:"icon-limited-label",limitedUnique:"icon-limited-unique-label",thirteenPlusLimited:"icon-thirteen-plus-limited-label",thirteenPlusLimitedUnique:"icon-thirteen-plus-limited-unique-label",rthroLabel:"icon-rthro-label",rthroLimitedLabel:"icon-rthro-limited-label",dynamicHead:"icon-default-dynamichead",collectible:"icon-limited-unique-label"},itemStatusClasses:{New:"status-new",Sale:"status-sale",XboxExclusive:"status-default has-text",AmazonExclusive:"status-default has-text",GooglePlayExclusive:"status-default has-text",IosExclusive:"status-default has-text"},itemStatusHasIcons:["SaleTimer"],itemStatusIcons:{SaleTimer:"icon-clock"},robloxSystemUserId:1,pageDirection:{prev:"prev",next:"next"},initializedPaginations:{currentPage:0,isEnabled:!1,direction:"next",startPaging:!1,previousPageCursor:null,nextPageCursor:null},thumbnailValidationStatus:{error:"Error",complete:"Completed",inReview:"InReview",pending:"Pending",blocked:"Blocked"},thumbnailValidationClasses:{error:"icon-error",inReview:"icon-in-review",pending:"icon-pending",blocked:"icon-blocked",placeholder:"icon-placeholder-asset"},userTypes:{user:"User",group:"Group"},errorMessages:{categoryName:"CatalogPageAjaxErrors",endpointNames:{getSearchItems:"SearchItems",getCatalogItemDetails:"CatalogItemDetails"}},englishLanguageCode:"en",autocompleteQueryAmount:10,autocompleteSuggestionEventData:{autocompleteSuggestionEventContext:"webAvatarShop",autocompleteSuggestionEventTimeoutDelay:200,searchAutocompleteEvent:"searchAutocomplete",searchTextTrimEvent:"searchTextTrim",catalogSearchEvent:"catalogSearch",searchClearEvent:"searchClear",searchSuggestionClickedEvent:"searchSuggestionClicked",pageName:"Avatar Shop",searchBox:"avatarShopDesktop",searchType:"avatarshopsearch",suggestionSource:"server"},layeredClothingSubcategories:[59,58,62,61,60,65,63,64],topics:{categoriesToShowTopics:[1,15],maxTopicsToRequest:40,numberOfItemsToSend:10,topicCarouselId:"topic-carousel",topicCarouselScrollValue:500},topicEventData:{topicEventContext:"webAvatarShop",topicSelectEventName:"selectCatalogTopic",topicDeselectEventName:"deselectCatalogTopic",topicClearEventName:"clearAllTopics"},itemTypeIds:{asset:1,bundle:2},topUp:{resetTime:6048e5,robuxThreshold:50,displayCategories:[1]}};n.Z.constant("catalogConstants",i),t.default=i},6280:function(e,t,a){"use strict";a.r(t);var r=a(792),n=r.EnvironmentUrls.apiGatewayUrl,i={getExperimentationValues:function(e,t,a){return{url:"".concat(n,"/product-experimentation-platform/v1/projects/").concat(e,"/layers/").concat(t,"/values?parameters=").concat(a.join(",")),withCredentials:!0}}};t.default={url:i,parameterNames:{avatarShopPage:["justinUiChangesCategoryChange","justinUiChangesLeftSearchBar","infiniteScrollEnabled","areGenreFiltersShownForClothingCategories","avatarShopPlacement","isItemDetailsEnabled","hideCreatorName","creatorNameLinksToAvatarShop","stickyUiEnabled"],avatarShopRecommendationsAndSearchWeb:["increaseRecommendations120Mobile"],avatarShopRecommendationsAndSearch:["infiniteScroll"],avatarMarketplaceGuidedFeatures:["topicsEnabledWeb"],avatarMarketplaceShoppingCart:["shoppingCartEnabled","autoSelectItems"],avatarMarketplaceSorts:[]},layerNames:{avatarShopPage:"AvatarMarketplace.UI",avatarShopRecommendationsAndSearchWeb:"AvatarMarketplace.RecommendationsAndSearch.Web",avatarShopRecommendationsAndSearch:"AvatarMarketplace.RecommendationsAndSearch",avatarMarketplaceGuidedFeatures:"AvatarMarketplace.GuidedFeatures",avatarMarketplaceShoppingCart:"AvatarMarketplace.ShoppingCart",avatarMarketplaceSorts:"AvatarMarketplace.Sorts"},defaultProjectId:1}},582:function(e,t,a){"use strict";a.r(t);var r={categoryTypes:{Featured:0,All:1,Collectibles:2,Clothing:3,BodyParts:4,Gear:5,Models:6,Plugins:7,Decals:8,Audio:9,Meshes:10,Accessories:11,AvatarAnimations:12,CommunityCreations:13,Recommended:15},defaultGearSubcategoryId:0,mappingToApiParameters:{category:"category",subcategory:"subcategory",gears:"subcategory",sortaggregation:"sortAggregation",sortcurrency:"sortCurrency",genres:"genres",sorttype:"sortType",creatortype:"creatorType",creatorid:"creatorTargetId",creatorname:"creatorName",pxmin:"minPrice",pxmax:"maxPrice",keyword:"keyword",includenotforsale:"includeNotForSale",triggeredbytopicdiscovery:"TriggeredByTopicDiscovery",topics:"topics",salestypefilter:"salesTypeFilter"}};a(9597).Z.constant("menuConstants",r),t.default=r},7450:function(e,t,a){"use strict";a.r(t);var r=a(9597);a(582);function n(e,t,a,r){t.isSortAvailable=function(){return t.isSearchableCategory(t.currentQuery.category)},t.showGenreBreadcrumb=function(){var e=t.getGenreBreadcrumb();return e&&e.length>0},t.getGenreBreadcrumb=function(){var e=t.navigationMenu.genres;if(!e)return null;var a=e.filter((function(e){return e.isSelected})),n=a.length;return 1===n?a[0].name:2===n?r.genreOrText(a[0].name,a[1].name):n>2?r.genreTextSelected(n):null},t.showCreatorBreadcrumb=function(){return t.data.creatorBreadcrumb&&t.data.creatorBreadcrumb.length>0},t.showPriceBreadcrumb=function(){return t.showFreeBreadcrumb()||t.showCustomPriceBreadcrumb()},t.showFreeBreadcrumb=function(){return t.data.showFreeBreadcrumb},t.showCustomPriceBreadcrumb=function(){if(!t.data.currencyType||t.data.currencyType.currencyType!==t.library.customRobuxFilterId)return!1;if(!t.data.minPriceBreadcrumb&&!t.data.maxPriceBreadcrumb)return t.data.showFreeBreadcrumb=!0,!1;var e=t.data.minPriceBreadcrumb;return"number"==typeof e&&e%1==0},t.isNonDefaultSubcategorySelected=function(){var e=t.getCategoryOption(t.currentQuery.category);return!!(e&&e.subcategories&&t.currentQuery.subcategory)&&e.subcategories[0].subcategoryId!==t.currentQuery.subcategory.subcategoryId},t.clearSubcategory=function(){var e=t.getCategoryOption(t.currentQuery.category);if(e&&e.subcategories){var a=e.subcategories[0];t.currentQuery.subcategory=a}else t.currentQuery.subcategory=null;t.clearGenres()},t.clearGenres=function(e,a){var r=t.navigationMenu.genres;if(r)for(var n=0;n<r.length;n++)r[n].isSelected=!1;e?t.clearKeyword():t.clearCreator(!1,a)},t.clearCreator=function(e,a){t.data.creator=t.data.creators.find((function(e){return e.userId===t.library.defaultCreatorId})),e?t.clearKeyword():t.clearPrice(a)},t.clearPrice=function(e){t.data.currencyType=t.data.currencyTypes?t.data.currencyTypes[0]:null,e?t.applySearch(!0):t.clearKeyword()},t.clearKeyword=function(){t.searchLayout.keyword=null,t.applySearch(!0)};var n=t.$on(a.clearFiltersEvent,(function(e,a){var r=!1;a&&a.keepKeyword&&(r=!0),t.clearGenres(!1,r)}));t.$on("$destroy",(function(){n&&n()}))}n.$inject=["$log","$scope","catalogConstants","constantsService"],r.Z.controller("breadcrumbsController",n),t.default=n},8137:function(e,t,a){"use strict";a.r(t);var r=a(5734),n=a.n(r),i=a(9597);function o(e,t){t.initializeScrollbar=function(){var e=n().element(document.getElementById("search-options-scrollbar-container"));null!==e&&void 0===t.simpleBar&&e.mCustomScrollbar({autoHideScrollbar:!0,autoExpandScrollbar:!1,scrollInertia:1,contentTouchScroll:1,mouseWheel:{preventDefault:!0}})},t.isInitializedPage=function(){var e=t.library,a=e.initialized,r=e.isPhone,n=e.isApp;return t.stickyUiEnabled&&t.initializeScrollbar(),a&&!(r&&n)}}o.$inject=["$log","$scope"],i.Z.controller("catalogContentController",o),t.default=o},1669:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ue}});var r=a(792),n=a(292),i=a(5734),o=a.n(i),s=RobloxBadges,l=a(9597),c=a(582),u=a(4720),d=a(7718);function g(e,t,a,n,i,o,s,l){r.EventStream&&r.EventStream.SendEventWithTarget(d.default.autocompleteSuggestionEventData.searchAutocompleteEvent,d.default.autocompleteSuggestionEventData.searchType,{algorithm:e,maxResults:s,timeoutDelay:d.default.autocompleteSuggestionEventData.autocompleteSuggestionEventTimeoutDelay,suggestions:t,kwd:a,previouskwd:n,page:u.pageName.PageNameProvider.getInternalPageName(),searchBox:d.default.autocompleteSuggestionEventData.searchBox,locale:i,searchType:d.default.autocompleteSuggestionEventData.searchType,latency:o,suggestionSource:d.default.autocompleteSuggestionEventData.suggestionSource,isPersonalizedBasedOnPreviousQuery:l},r.EventStream.TargetTypes.WWW)}function p(e,t){r.EventStream&&r.EventStream.SendEventWithTarget(d.default.autocompleteSuggestionEventData.searchTextTrimEvent,d.default.autocompleteSuggestionEventData.searchType,{kwd:e,resultingkwd:t,searchType:d.default.autocompleteSuggestionEventData.searchType},r.EventStream.TargetTypes.WWW)}function m(e){r.EventStream&&r.EventStream.SendEventWithTarget(d.default.autocompleteSuggestionEventData.catalogSearchEvent,d.default.autocompleteSuggestionEventData.searchType,{autoCompleteFlag:e,previousPage:u.pageName.PageNameProvider.getInternalPageName()},r.EventStream.TargetTypes.WWW)}function y(e){r.EventStream&&r.EventStream.SendEventWithTarget(d.default.autocompleteSuggestionEventData.searchClearEvent,d.default.autocompleteSuggestionEventData.searchType,{kwd:e,searchType:d.default.autocompleteSuggestionEventData.searchType,page:u.pageName.PageNameProvider.getInternalPageName()},r.EventStream.TargetTypes.WWW)}function f(e,t,a,n){r.EventStream&&r.EventStream.SendEventWithTarget(d.default.autocompleteSuggestionEventData.searchSuggestionClickedEvent,d.default.autocompleteSuggestionEventData.searchType,{kwd:e,searchType:d.default.autocompleteSuggestionEventData.searchType,suggestionPosition:t,suggestionClicked:a,suggestions:n,maxResults:0},r.EventStream.TargetTypes.WWW)}function b(e,t,a,n,i,o,s){r.EventStream&&r.EventStream.SendEventWithTarget(d.default.topicEventData.topicSelectEventName,d.default.topicEventData.topicEventContext,{topic:e,rank:t+1,categoryName:a,subcategoryName:n,query:i,allTopics:o,previousSelectedTopics:s},r.EventStream.TargetTypes.WWW)}function h(e,t,a,n,i,o){r.EventStream&&r.EventStream.SendEventWithTarget(d.default.topicEventData.topicDeselectEventName,d.default.topicEventData.topicEventContext,{topic:e,rank:t+1,categoryName:a,subcategoryName:n,query:i,allTopics:o},r.EventStream.TargetTypes.WWW)}function v(e,t,a,n){r.EventStream&&r.EventStream.SendEventWithTarget(d.default.topicEventData.topicClearEventName,d.default.topicEventData.topicEventContext,{categoryName:e,subcategoryName:t,query:a,allTopics:n},r.EventStream.TargetTypes.WWW)}var S=a(6280),C=React,I=a.n(C),T=ReactDOM,w=ReactStyleGuide,E=RobloxThumbnails,x=RobloxItemPurchase,P=a(7124),U=a(7904),k=function(e,t,a,r){return new(a||(a=Promise))((function(n,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))},A=function(e,t){var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=2&i[0]?r.return:i[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},F=(0,P.ex)(),L=F.getCartState,N=F.onCartStateChange,O=F.dispatch,R=F.getLatestCachedState;function B(){var e=this,t=(0,C.useState)(R()),a=t[0],r=t[1],n=a.items.map((function(e){return e.itemId})).sort();(0,C.useEffect)((function(){var e=L();r(e),O((0,U.ex)()).catch((function(){console.error("could not refresh cart state")}))}),[]),(0,C.useEffect)((function(){var e=N((function(e){return r(e)}));return function(){var t;return null===(t=null==e?void 0:e.remove)||void 0===t?void 0:t.call(e)}}),[]);var i=(0,C.useCallback)((function(e){return n.includes(e)}),[JSON.stringify(n)]);return{dispatch:O,cart:a,isItemInCart:i,addItemToCart:function(t,a,r){return k(e,void 0,void 0,(function(){return A(this,(function(e){switch(e.label){case 0:return[4,O({type:"ADD_ITEM",item:t,autoSelectItem:a,displaySystemFeedback:r})];case 1:return e.sent(),[2,O((0,U.ex)())]}}))}))},removeItemFromCart:function(t,a,r){return k(e,void 0,void 0,(function(){return A(this,(function(e){switch(e.label){case 0:return[4,O({type:"REMOVE_ITEM",item:{itemId:t,itemType:a},displaySystemFeedback:r})];case 1:return e.sent(),[2,O((0,U.ex)())]}}))}))}}}var D=a(3119),M=a(2722),j=a(3527),G=function(){return(G=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},$=E.Thumbnail2d,Q=E.DefaultThumbnailSize,W=E.ThumbnailTypes,z=E.ThumbnailFormat;function V(e){e.item;var t=e.itemDetails,a=(0,M.jD)(t);if(void 0!==t.collectibleItemId){var r="ShopAndAllExperiences"===t.saleLocationType,n=t.hasResellers;if(!r&&!n)return I().createElement("div",{className:"item-price"},I().createElement("span",{className:"price-text text-alert"},D.K6.labelItemNotForSale()))}if("number"==typeof a&&a>0)return I().createElement("div",{className:"item-price"},I().createElement("span",{className:"icon-robux-16x16"}),I().createElement("span",{className:"price-text text"},u.numberFormat.getNumberFormat(a)));if("number"==typeof a&&a<0)return I().createElement("div",{className:"item-price"},I().createElement("span",{className:"price-text text"},t.priceStatus));if("number"==typeof a&&0===a)return I().createElement("div",{className:"item-price"},I().createElement("span",{className:"price-text text"},D.K6.labelFree()));var i=((null==t?void 0:t.itemRestrictions)||[]).some((function(e){return"Limited"===e||"LimitedUnique"===e||"Collectible"===e}));if(i){if(i&&!!(null==t?void 0:t.lowestPrice)&&"number"!=typeof(null==t?void 0:t.lowestPrice))return I().createElement("div",{className:"item-price"},I().createElement("span",{className:"price-text text-alert"},D.O$.labelNoResellers()))}else if("number"!=typeof a)return I().createElement("div",{className:"item-price"},I().createElement("span",{className:"price-text text-alert"},D.K6.labelItemNotForSale()));return I().createElement("div",{className:"item-price"},I().createElement("span",{className:"price-text"}))}function q(e){var t,a=e.item,r=e.itemDetails,n=e.dispatch,i=e.onCheckboxClicked,o=e.selectedItemsRecord,s=(null==r?void 0:r.name)||a.itemName,l=null==r?void 0:r.creatorName;return I().createElement("div",{className:"cart-item-container"},I().createElement("div",{className:"cart-item"},I().createElement("div",{className:"thumbnail-container",onClick:function(){return i(a)},"aria-hidden":"true"},I().createElement($,{type:"bundle"===(null===(t=a.itemType)||void 0===t?void 0:t.toLowerCase())?W.bundleThumbnail:W.assetThumbnail,size:Q,targetId:a.itemId,containerClass:"cart-item-thumb",format:z.png,altName:(s||"Cart Item")+(l?" by "+l:"")})),I().createElement("div",{className:"checkbox purchase-checkbox-container"},I().createElement("input",{className:"input-checkbox",id:"checkbox-"+a.itemId,type:"checkbox",checked:o[""+a.itemType.toLowerCase()+a.itemId],onChange:function(){i(a)},disabled:!1}),I().createElement("label",{htmlFor:"checkbox-"+a.itemId})),I().createElement("div",{className:"item-details-container"},I().createElement("a",{href:(0,M.vp)(a.itemId,s,a.itemType),target:"_self",className:"item-name"},s),I().createElement(V,{item:a,itemDetails:r}))),I().createElement("div",{className:"rm-item-btn-container icon-actions-clear-sm"},I().createElement("button",{type:"button",onClick:function(){n((0,U.ly)(a,!0)).catch((function(){console.error("Failed to remove item")}))}})))}function _(e){var t,a=e.totalPrice,i=e.remainingBalance,o=e.items,s=e.selectedItemsList,l=e.systemFeedbackService,c=e.totalCartValue,d=e.dispatch,g=(0,C.useCallback)((function(e,t,a){var i={totalNumberOfItemsInCart:o.length,totalValueOfItemsInCart:c,totalNumberOfSelectedItemsInCheckout:t,totalValueOfSelectedItemsInCheckout:a,purchaseData:JSON.stringify(e),userId:r.CurrentUser.userId};n.eventStreamService.sendEvent({name:"shoppingCartPurchaseResult",type:"shoppingCartPurchaseResult",context:"shoppingCart"},i),e.forEach((function(e){"Success"===e.data.reason&&(void 0!==e.data.itemData.assetId?d((0,U.ly)({itemId:e.data.itemData.assetId,itemType:"Asset"})).catch((function(){console.error("Failed to remove item")})):void 0!==e.data.itemData.bundleId&&d((0,U.ly)({itemId:e.data.itemData.bundleId,itemType:"Bundle"})).catch((function(){console.error("Failed to remove item")})))}))}),[]);return I().createElement("div",{className:"shopping-cart-footer"},I().createElement("div",{className:"cart-total-section-container"},I().createElement("div",{className:"total-label"},D.O$.labelTotalItems({itemCount:""+s.length})),I().createElement("div",{className:"total-price-container"},I().createElement("span",{className:"icon-robux-16x16"}),I().createElement("span",{className:"price-text"},a.toLocaleString()))),s.length>j.ZP.maxSelectedItems&&I().createElement(w.Button,{className:"action-button batch-buy-purchase-button",variant:w.Button.variants.growth,size:w.Button.sizes.large,onClick:function(){l.warning(D.O$.messagePurchaseLimit({purchaseLimit:""+j.ZP.maxSelectedItems}),0,2e3)}},D.O$.actionBuy()),s.length<=j.ZP.maxSelectedItems&&I().createElement(x.BatchBuyPriceContainer,{items:(t=[],s.forEach((function(e){t.push({id:e.itemId,itemType:e.itemType})})),t),onTransactionComplete:function(e){g(e,s.length,a)},systemFeedbackService:l}),I().createElement("div",{className:"balance-disclaimer-container"},i>=0?I().createElement("div",{className:"balance-disclaimer-text",dangerouslySetInnerHTML:{__html:D.O$.messageRemainingBalance({remainingBalance:"<span class='icon-robux-16x16'></span><span class='text-robux'>"+(0,u.escapeHtml)()(i.toLocaleString())+"</span>"})}}):I().createElement("div",{className:"balance-disclaimer-text"},D.O$.messageInsufficientFundsForTransaction())))}function K(e){var t,a=B(),r=a.cart,n=a.dispatch,i=r.items,o=r.currentUserBalance,s=r.itemDetails,l=Math.max(null!==(t=o)&&void 0!==t?t:0,0),c=(0,C.useRef)(null),u=(0,C.useState)({windowHeight:window.innerHeight,width:null,height:null,top:null,left:null}),d=u[0],g=u[1],p=(0,C.useState)(0),m=p[0],y=p[1],f=(0,C.useState)(0),b=f[0],h=f[1],v=(0,C.useState)([]),S=v[0],T=v[1],E=(0,C.useState)({}),x=E[0],P=E[1];(0,C.useEffect)((function(){var e=(0,M.rW)();P(e.selectedItems)}),[]),(0,C.useEffect)((function(){var e=(0,M.rW)();P(e.selectedItems)}),[i]),(0,C.useEffect)((function(){var e,t,a=[];i.forEach((function(e){x[""+e.itemType.toLowerCase()+e.itemId]&&a.push(e)})),e=a,t=(0,M.gg)(r,e),y(t),h(l-m),T(a)}),[x]);var U=function(t){var a,r=null==t?void 0:t.target,n=null==c?void 0:c.current;if(r instanceof Element){if(n&&n.contains(r))return;if((0,M.YK)(r))return;null===(a=null==e?void 0:e.setIsCartOpen)||void 0===a||a.call(e,!1)}},k=(0,C.useCallback)((function(e){if(e&&e instanceof HTMLElement){var t=function(e){var t,a,r,n=null===(t=null==e?void 0:e.getBoundingClientRect)||void 0===t?void 0:t.call(e);if(n&&(null==n?void 0:n.width)&&(null==n?void 0:n.height)){var i={windowHeight:window.innerHeight,width:null==n?void 0:n.width,height:null==n?void 0:n.height,top:null!==(a=null==n?void 0:n.top)&&void 0!==a?a:null==n?void 0:n.y,left:null!==(r=null==n?void 0:n.left)&&void 0!==r?r:null==n?void 0:n.x};g(i)}};t(e);var a=new IntersectionObserver((function(a){var r=null==a?void 0:a[0];(null==r?void 0:r.target)&&t(e)}),{root:null,rootMargin:"0px",threshold:[.9,.99,1]}),r=new ResizeObserver((function(a){t(e)}));a.observe(e),r.observe(document.body,{box:"border-box"})}}),[]),A=(0,C.useMemo)((function(){var e=d.height,t=d.top;if("number"!=typeof e||"number"!=typeof t)return 600;var a=e+t;if(a>d.windowHeight){var r=a-d.windowHeight;return Math.max(460,e-r-20)}if(a<d.windowHeight-20){var n=d.windowHeight-20-t;if(n>=460)return Math.min(600,n)}return d.height?d.height:0}),[d.windowHeight,d.height,d.top]),F=function(t,a){var n=x,i=""+t.itemType.toLowerCase()+t.itemId,o=!1;(o=void 0===a?void 0===n[i]||!n[i]:a)&&S.length>=j.ZP.maxSelectedItems&&(o=!1,e.systemFeedbackService.warning(D.O$.messagePurchaseLimit({purchaseLimit:""+j.ZP.maxSelectedItems}),0,2e3)),n[i]=o,P(G({},n)),(0,M.F5)(G(G({},r),{selectedItems:x}))};(0,C.useEffect)((function(){return window.addEventListener("click",U,!0),function(){window.removeEventListener("click",U,!0)}}),[]);var L="("+i.length+")";return I().createElement("div",{ref:c,className:"shopping-cart-modal-container"},I().createElement("div",{ref:k,className:"shopping-cart-modal",style:{height:A+"px"}},I().createElement("div",{className:"shopping-cart-title-container"},I().createElement("h2",{className:"shopping-cart-title"},I().createElement("span",{className:"shopping-cart-title-text"},D.O$.labelShoppingCart())," ",I().createElement("span",{className:"shopping-cart-title-item-count"},L))),I().createElement(w.ScrollBar,{className:"rbx-scrollbar"},I().createElement("div",{className:"shopping-cart-items-list"},i.map((function(e){return I().createElement(q,{key:e.itemId,item:e,itemDetails:s[e.itemId],dispatch:n,onCheckboxClicked:F,selectedItemsRecord:x})})))),I().createElement(_,{totalPrice:m,totalCartValue:(0,M.gg)(r,r.items),remainingBalance:b,items:i,selectedItemsList:S,systemFeedbackService:e.systemFeedbackService,dispatch:n})))}K.propTypes={};var H=K,Z=a(6174);function J(e){var t=e.totalCartItems,a=e.isCartOpen;return I().createElement("div",{className:"shopping-cart-icon-container"},I().createElement("div",{className:(a?"cart-open":"")+" shopping-cart-icon"}),I().createElement("span",{className:"cart-number-container"},I().createElement("span",{className:"cart-number"},t||0)))}var Y=(0,w.createSystemFeedback)(),X=Y[0],ee=Y[1];function te(){var e=(0,C.useState)(!1),t=e[0],a=e[1],r=B().cart;(0,Z.mP)(ee);var n=r.items;return I().createElement(C.Fragment,null,I().createElement(X,null),I().createElement("div",{className:"shopping-cart-btn-container"},I().createElement("button",{className:"shopping-cart-btn",onClick:function(){a(!t)},type:"button"},I().createElement(J,{totalCartItems:null==n?void 0:n.length,isCartOpen:t})),!!t&&I().createElement(H,{setIsCartOpen:a,systemFeedbackService:ee})))}te.propTypes={};var ae=te,re=function(e,t,a,r){return new(a||(a=Promise))((function(n,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))},ne=function(e,t){var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=2&i[0]?r.return:i[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};var ie=function(e,t){return void 0===t&&(t=0),re(void 0,void 0,Promise,(function(){return ne(this,(function(a){switch(a.label){case 0:return function(e){var t=document.getElementById(e);return!!t&&(t.querySelector(".shopping-cart-btn-container")||(0,T.render)(I().createElement(ae,null),t),!0)}(e)?[3,2]:t>=20?[2,!1]:[4,(r=100,void 0===r&&(r=100),new Promise((function(e,t){setTimeout((function(){e(void 0)}),r)})))];case 1:return a.sent(),[2,ie(e,t+1)];case 2:return[2,!0]}var r}))}))};function oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(a),!0).forEach((function(t){le(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function le(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ce(e,t,a,i,l,u,d,C,I,T,w,E,x,P,U){l.splashTiles=[],l.showSplashTiles=!0,l.currentUserId=r.CurrentUser?r.CurrentUser.userId:null,l.increaseRecommendations120=!0,l.infiniteScrollEnabled=!0,l.landingPageInfiniteScrollEnabled=!0,l.hideCreatorName=!1,l.creatorNameLinksToAvatarShop=!1,l.isJustinUiChangesEnabled=!1,l.isAutocompleteEnabled=!1,l.autocompleteAvatarSearchNumToDisplay=0,l.isCatalogAdsRowOnRecommendedPageEnabled=!1,l.genreAllowed=!0,l.useAutocompleteFallback=!1,l.categoryOptimizationEnabled=!1,l.topicBasedBrowsingEnabled=!0,l.topicBasedBrowsingDisplayEnabled=!0,l.topicBasedBrowsingEnabledForCategory=!1,l.triggeredByTopicDiscovery=!1,l.topics=[],l.selectedTopics=[],l.topicCarouselWidth=0,l.shoppingCartEnabled=!1,l.autoSelectItems=!1,l.$on("$locationChangeSuccess",(function(){if(l.layout.initialized)if(l.layout.preventLocationChange)l.layout.preventLocationChange=!1;else{if(l.navigationMenu.filtersInitialized&&l.setSelectedFilters(),l.queries&&!l.queries.category){var e=l.currentQuery,t=e.category,a=e.subcategory;l.queries.category=t&&t.categoryId,l.queries.subcategory=a&&a.subcategoryId}l.expandSelectedCategoryMenu(),l.library.isSplashPage||(l.getPagedItems(!0),l.adRefresh())}})),l.setupAds=function(){l.layout.adsInitialized||(l.layout.adsInitialized=!0,d.registerAd(d.adIds.leaderboardAbp))},l.adRefresh=function(){d.refreshAllAds()},l.setupLibrary=function(){l.library={};var e={isPhone:!!r.DeviceMeta&&(0,r.DeviceMeta)().isPhone,isDesktop:!r.DeviceMeta||(0,r.DeviceMeta)().isDesktop,isApp:!!r.DeviceMeta&&(0,r.DeviceMeta)().isInApp,buyRobuxUrl:I.buyRobuxUrl,catalogUrl:I.catalogUrl,isSplashPage:E.isSplashPage()};l.library=se({},e)},l.checkIfFullScreen=function(){var e=o().element("#container-main").hasClass("full-screen");l.library.isFullScreen=e},l.initialize=function(){l.layout&&l.layout.initialized||(l.forms={},l.data={},l.navigationMenu={},l.searchResultDict={},l.searchResultList=[],l.paginations=se({},I.initializedPaginations),l.searchLayout={keyword:null,keywordForDisplay:null},l.queries={},l.currentQuery={},l.autocompleteSuggestions=[],l.layout=o().copy(I.layout),l.autocompleteSuggestions={show:!1,timeSinceLastSearchAutocompleteEvent:0,suggestions:[],textSuggestions:[],previousQuery:"",previousQueryBeforeRemoval:"",previousCharInput:-1,backspaceInput:!1,startTime:0,keyboardPosition:-1,locale:""},l.topUp={featureEnabled:!1,showTopUp:!1,currentUserBalance:-1},l.userLocale={},l.setupLibrary(),l.checkIfFullScreen(),l.getMetadataFromApi(),l.setupAds(),l.getUserLocale(),l.getUserCurrency(),l.justinUiChangesCategoryChange=!0,l.justinUiChangesLeftSearchBar=!1,l.avatarShopPlacement=void 0,l.isItemDetailsEnabled=!1,l.stickyUiEnabled=!1,l.getAvatarShopPageEnrollment(),l.getAvatarShopRecommendationsAndSearchWebEnrollment(),l.getavatarShopRecommendationsAndSearchEnrollment(),l.getAvatarMarketplaceGuidedFeaturesEnrollment(),l.getAvatarMarketplaceShoppingCartEnrollment(),l.getAvatarSortsEnrollment())},l.getAvatarShopPageEnrollment=function(){U.getABTestEnrollment(S.default.defaultProjectId,S.default.layerNames.avatarShopPage,S.default.parameterNames.avatarShopPage).then((function(e){void 0!==(null==e?void 0:e.justinUiChangesCategoryChange)&&null!==(null==e?void 0:e.justinUiChangesCategoryChange)&&(l.justinUiChangesCategoryChange=e.justinUiChangesCategoryChange),void 0!==(null==e?void 0:e.justinUiChangesLeftSearchBar)&&null!==(null==e?void 0:e.infiniteScrollEnabled)&&(l.justinUiChangesLeftSearchBar=e.justinUiChangesLeftSearchBar),void 0!==(null==e?void 0:e.infiniteScrollEnabled)&&null!==(null==e?void 0:e.infiniteScrollEnabled)&&(l.infiniteScrollEnabled=e.infiniteScrollEnabled),void 0!==(null==e?void 0:e.hideCreatorName)&&null!==(null==e?void 0:e.hideCreatorName)&&(l.hideCreatorName=e.hideCreatorName),void 0!==(null==e?void 0:e.creatorNameLinksToAvatarShop)&&null!==(null==e?void 0:e.creatorNameLinksToAvatarShop)&&(l.creatorNameLinksToAvatarShop=e.creatorNameLinksToAvatarShop),void 0!==(null==e?void 0:e.stickyUiEnabled)&&null!==(null==e?void 0:e.stickyUiEnabled)&&(l.stickyUiEnabled=e.stickyUiEnabled)}),(function(){}))},l.getAvatarShopRecommendationsAndSearchWebEnrollment=function(){U.getABTestEnrollment(S.default.defaultProjectId,S.default.layerNames.avatarShopRecommendationsAndSearchWeb,S.default.parameterNames.avatarShopRecommendationsAndSearchWeb).then((function(e){void 0!==(null==e?void 0:e.increaseRecommendations120Mobile)&&null!==(null==e?void 0:e.increaseRecommendations120Mobile)&&(l.increaseRecommendations120=e.increaseRecommendations120Mobile)}),(function(){}))},l.getavatarShopRecommendationsAndSearchEnrollment=function(){U.getABTestEnrollment(S.default.defaultProjectId,S.default.layerNames.avatarShopRecommendationsAndSearch,S.default.parameterNames.avatarShopRecommendationsAndSearch).then((function(e){void 0!==(null==e?void 0:e.infiniteScroll)&&null!==(null==e?void 0:e.infiniteScroll)&&(l.landingPageInfiniteScrollEnabled=e.infiniteScroll)}),(function(){}))},l.getAvatarMarketplaceGuidedFeaturesEnrollment=function(){U.getABTestEnrollment(S.default.defaultProjectId,S.default.layerNames.avatarMarketplaceGuidedFeatures,S.default.parameterNames.avatarMarketplaceGuidedFeatures).then((function(e){void 0!==(null==e?void 0:e.topUpEnabled)&&null!==(null==e?void 0:e.topUpEnabled)&&(l.topUp.featureEnabled=null==e?void 0:e.topUpEnabled,l.topUp.featureEnabled&&void 0!==(null==e?void 0:e.topUpVariant)&&null!==(null==e?void 0:e.topUpVariant)&&("zeroBalance"===(null==e?void 0:e.topUpVariant)?l.topUp=se(se({},l.topUp),{},{featureEnabled:!0,robuxMinThreshold:-1,robuxMaxThreshold:0,displayCategories:I.topUp.displayCategories,headerText:"Heading.NeedMoreRobux",messageText:"Message.WithRobux",buttonText:"Action.BuyRobux",buttonUrl:"".concat(r.EnvironmentUrls.websiteUrl,"/upgrades/robux?ctx=catalogNew")}):"lowBalance"===(null==e?void 0:e.topUpVariant)?l.topUp=se(se({},l.topUp),{},{featureEnabled:!0,robuxMinThreshold:1,robuxMaxThreshold:I.topUp.robuxThreshold,displayCategories:I.topUp.displayCategories,headerText:"Heading.NeedMoreRobux",messageText:"Message.RunningLowRobux",buttonText:"Action.BuyRobux",buttonUrl:"".concat(r.EnvironmentUrls.websiteUrl,"/upgrades/robux?ctx=catalogNew")}):"giftCard"===(null==e?void 0:e.topUpVariant)&&(l.topUp=se(se({},l.topUp),{},{featureEnabled:!0,robuxMinThreshold:-1,robuxMaxThreshold:0,displayCategories:I.topUp.displayCategories,headerText:"Heading.TreatYourself",messageText:"Message.GiftCardPurchase",buttonText:"Action.ShopGiftCards",buttonUrl:"https://roblox.cashstar.com/gift-card/buy/?ref=1023gcwidget",giftCard:!0})),l.checkShowTopUpWidget()))}),(function(){}))},l.getAvatarMarketplaceShoppingCartEnrollment=function(){U.getABTestEnrollment(S.default.defaultProjectId,S.default.layerNames.avatarShopRecommendationsAndSearchWeb,S.default.parameterNames.avatarMarketplaceShoppingCart).then((function(e){void 0!==(null==e?void 0:e.shoppingCartEnabled)&&null!==(null==e?void 0:e.shoppingCartEnabled)&&(l.shoppingCartEnabled=e.shoppingCartEnabled,l.shoppingCartEnabled&&void 0!==(null==e?void 0:e.autoSelectItems)&&null!==(null==e?void 0:e.autoSelectItems)&&(l.autoSelectItems=e.autoSelectItems))}),(function(){}))},l.getAvatarSortsEnrollment=function(){U.getABTestEnrollment(S.default.defaultProjectId,S.default.layerNames.avatarMarketplaceSorts,S.default.parameterNames.avatarMarketplaceSorts).then((function(e){}),(function(){}))},l.isInfiniteScrollWebEnabled=function(){return!l.library.isPhone&&l.infiniteScrollEnabled},l.getMetadataFromApi=function(){C.getMetadataFromApi().then((function(e){var t=e.isPremiumPriceOnItemTilesEnabled,a=e.isPremiumIconOnItemTilesEnabled,r=e.isJustinUiChangesEnabled,n=e.isAutocompleteEnabled,i=e.autocompleteAvatarSearchNumToDisplay,o=e.isCatalogAdsRowOnRecommendedPageEnabled,s=e.categoryOptimizationEnabled,c={initialized:!0,isPremiumPriceOnItemTilesEnabled:t,isPremiumIconOnItemTilesEnabled:a};Object.assign(l.library,c),l.getSearchOptions(),l.isJustinUiChangesEnabled=r,l.isAutocompleteEnabled=n,l.autocompleteAvatarSearchNumToDisplay=i,l.isCatalogAdsRowOnRecommendedPageEnabled=o,l.categoryOptimizationEnabled=s}),(function(){l.library.initialized=!0,l.getSearchOptions()}))},l.getUserCurrency=function(){!0===r.CurrentUser.isAuthenticated&&C.getUserCurrency().then((function(e){l.topUp.currentUserBalance=e.robux}),(function(){}))},l.onTopicBasedBrowsingInitialized=function(){document.addEventListener("scroll",(function(e){var t=document.getElementById(I.topics.topicCarouselId);e.target===t&&(l.topicCarouselPosition=t.scrollLeft,l.topicCarouselWidth=t.scrollWidth-t.clientWidth,l.updateTopicNavigationButtons())}),!0)},l.postGetTopics=function(e,t){var a=[],r=[],n=0;t.length>0?t.forEach((function(e){r.push(l.formatTopic(e.displayName))})):e.length>0&&e.forEach((function(e){n<I.topics.numberOfItemsToSend&&a.push({targetId:e.id,itemType:"Asset"===e.itemType?I.itemTypeIds.asset:I.itemTypeIds.bundle}),n+=1})),l.topics=[],C.postGetTopics(a,r,l.searchLayout.keyword).then((function(e){l.topics=e.topics,l.topicCarouselPosition=0}),(function(){l.clearTopics()}))},l.onTopicClicked=function(e){if(0===l.selectedTopics.length){var t,a,r=null===(t=l.currentQuery)||void 0===t||null===(a=t.category)||void 0===a?void 0:a.categoryId;l.topicOrigin=r}var n,i,o=l.selectedTopics.indexOf(e);o>-1?(h(e.displayName,l.selectedTopics.indexOf(e),l.currentQuery.category.name,null===(n=l.currentQuery.subcategory)||void 0===n?void 0:n.name,l.searchLayout.keyword,l.buildTopicKeyword(l.topics,",")),l.selectedTopics.splice(o,1)):(b(e.displayName,l.topics.indexOf(e),l.currentQuery.category.name,null===(i=l.currentQuery.subcategory)||void 0===i?void 0:i.name,l.searchLayout.keyword,l.buildTopicKeyword(l.topics,","),l.buildTopicKeyword(l.selectedTopics,",")),l.selectedTopics.push(e));l.searchLayout.topics=l.buildTopicKeyword(l.selectedTopics," "),l.selectedTopics.length>0?(l.searchKeyword(!0),l.triggeredByTopicDiscovery=!0,l.postGetTopics([],l.selectedTopics)):l.onTopicsCleared(),l.resetTopicView()},l.formatTopic=function(e){return e.toLowerCase()},l.buildTopicKeyword=function(e,t){var a="";return e.forEach((function(e){a.length>0&&(a+=t),a+=l.formatTopic(e.displayName)})),a},l.parseTopicsFromString=function(e,t){if(!e||0===e.length)return[];var a=e.split(t),r=[];return a.forEach((function(e){r.push({displayName:e,originalTopicName:""})})),r},l.onTopicsCleared=function(){l.topicOrigin===c.default.categoryTypes.Recommended?(l.currentQuery.category=l.getCategoryOptionFromCategoryId(c.default.categoryTypes.Recommended),l.$broadcast(I.clearFiltersEvent,{keepKeyword:!0})):l.$broadcast(I.clearFiltersEvent,{keepKeyword:!0})},l.showTopicNavigationButton=function(e){var t=document.getElementById(I.topics.topicCarouselId);return l.topicCarouselWidth=t.scrollWidth-t.clientWidth,!(l.topics&&l.selectedTopics&&l.topics.length<=0&&l.selectedTopics.length<=0)&&(e?l.topicCarouselWidth>0&&l.topicCarouselPosition>0:l.topicCarouselWidth>0&&l.topicCarouselPosition+1<l.topicCarouselWidth)},l.showTopicNavigationClearButton=function(){return!l.showTopicNavigationButton(!0)&&l.selectedTopics.length>1},l.updateTopicNavigationButtons=function(){var e=document.getElementById(I.topics.topicCarouselId),t=document.getElementById("topic-navigation-left"),a=document.getElementById("topic-navigation-right"),r=document.getElementById("topic-navigation-clear");l.topicCarouselWidth=e.scrollWidth-e.clientWidth,l.showTopicNavigationButton(!0)?t.classList.remove("ng-hide"):t.classList.add("ng-hide"),l.showTopicNavigationButton(!1)?a.classList.remove("ng-hide"):a.classList.add("ng-hide"),l.showTopicNavigationClearButton()?r.classList.remove("ng-hide"):r.classList.add("ng-hide")},l.resetTopicView=function(){document.getElementById(I.topics.topicCarouselId).scrollLeft=0,l.updateTopicNavigationButtons()},window.onresize=function(){l.topicBasedBrowsingDisplayEnabled&&l.updateTopicNavigationButtons()},l.onTopicNavigationButtonClicked=function(e){var t=document.getElementById(I.topics.topicCarouselId);l.topicCarouselPosition=t.scrollLeft,e?(t.scrollLeft-=I.topics.topicCarouselScrollValue,l.topicCarouselPosition-=I.topics.topicCarouselScrollValue):(t.scrollLeft+=I.topics.topicCarouselScrollValue,l.topicCarouselPosition+=I.topics.topicCarouselScrollValue)},l.clearTopics=function(){l.searchLayout.topics=null,l.topics=[],l.selectedTopics=[]},l.onTopicClearButtonClicked=function(){var e;v(l.currentQuery.category.name,null===(e=l.currentQuery.subcategory)||void 0===e?void 0:e.name,l.searchLayout.keyword,l.buildTopicKeyword(l.topics,",")),l.clearTopics(),l.searchLayout.topics=l.buildTopicKeyword(l.selectedTopics," "),l.onTopicsCleared()},l.getCatalogAdsABTestEnrollment=function(){U.getABTestEnrollment(S.default.defaultProjectId,S.default.layerNames.avatarShopPage,S.default.parameterNames.catalogItemAds).then((function(e){void 0!==(null==e?void 0:e.avatarShopPlacement)&&void 0!==(null==e?void 0:e.isItemDetailsEnabled)&&(l.avatarShopPlacement=e.avatarShopPlacement,l.isItemDetailsEnabled=e.isItemDetailsEnabled)}),(function(){}))},l.callBackForSearchOptions=function(){l.setSelectedFilters(),l.setQuery(!0),l.getPagedItems(!0,!0);e((function t(){a.pendingRequests.length>0?e(t):(l.expandSelectedCategoryMenu(),l.layout.resetVerticalMenu=!0)}))},l.getSearchOptions=function(){l.layout.hasSearchOptionsError=!1,C.getNavigationMenuItems().then((function(e){void 0!==e.isGenreAllowed&&(l.genreAllowed=e.isGenreAllowed),E.buildNavigationMenu(e,l.library),l.setNavigationMenu(e),l.callBackForSearchOptions()})).finally((function(){l.layout.isNavigationMenuLoaded=!0}))},l.getUserLocale=function(){var e=(new r.TranslationResourceProvider).intl.locale;l.autocompleteSuggestions.locale=e;var t=e.indexOf("-");(e=e.substring(0,-1!==t?t:e.length))!==I.englishLanguageCode&&(e+=",".concat(I.englishLanguageCode)),l.autocompleteLanguageCode=e},l.resetPaginations=function(){Object.assign(l.paginations,I.initializedPaginations)},l.resetPageContentAndLoading=function(e){l.layout.showNoResultsMessage=!1,l.layout.showErrorMessage=!1,l.layout.loading=!1,l.layout.isItemDetailsLoaded=!1,l.layout.isAssetThumbnailLoaded=!1,l.layout.isBundleThumbnailLoaded=!1,l.layout.isItemDetailsLoadingFailed=!1,e&&(l.searchResultDict={},l.searchResultList=[],l.paginations.startPaging||l.resetPaginations())},l.setPaginations=function(e){if(l.showViewAllFeaturedItemsButton())return!1;var t=l.isPaginationEnabled(),a=e.previousPageCursor,r=e.nextPageCursor;Object.assign(l.paginations,{previousPageCursor:a,nextPageCursor:r});var n=l.paginations.currentPage;l.paginations.direction===I.pageDirection.next?l.paginations.currentPage++:l.paginations.direction===I.pageDirection.prev?l.paginations.currentPage=n>0?n-1:0:t=r||a,l.paginations.isEnabled=t},l.isPaginationEnabled=function(){var e=l.library,t=e.isPhone,a=e.isSplashPage;return!(t||!l.landingPageInfiniteScrollEnabled&&l.isCurrentCategoryRecommended()||a)},l.buildSearchResultData=function(e){if(0===l.searchResultList.length&&(!e||0===e.length))return l.layout.showNoResultsMessage=!0,!1;var t=I.itemTypes,a={};e.forEach((function(e){var r=E.getCatalogContentKey(e);e.key=r,l.searchResultDict[r]=e,l.searchResultList.indexOf(r)<0&&l.searchResultList.push(r);var n=e.id;e&&e.itemType===t.bundle?e.thumbnailType=P.thumbnailTypes.bundleThumbnail:e.thumbnailType=P.thumbnailTypes.assetThumbnail,a[n]=e})),C.getCatalogItemDetails(a,l.creatorNameLinksToAvatarShop).then((function(e){E.updateSearchItemDetails(e,l.searchResultDict)}),(function(e){var t=I.errorMessages.endpointNames;x.sendErrorsToGoogleAnalytics(e,t.getCatalogItemDetails),x.sendErrorsToLogCount(e,t.getCatalogItemDetails),l.layout.isItemDetailsLoadingFailed=!0})).finally((function(){l.layout.isItemDetailsLoaded=!0;try{(0,s.initRobloxBadgesFrameworkAgnostic)({overrideIconClass:"verified-badge-icon-catalog-item"})}catch(e){}}))},l.getSearchItems=function(e,t){E.translateToEnumStrings(l.library,e),C.getSearchItems(e,l.library.isFullScreen,l.increaseRecommendations120&&I.expandedCategoryList.includes(e.category)||!I.expandedCategoryList.includes(e.category)&&l.isInfiniteScrollWebEnabled()).then((function(e){if(l.resetPageContentAndLoading(t),e){var a=e.data,r=e.keyword;l.selectedTopics.length<=0&&(l.searchLayout.keyword=r,l.searchLayout.keywordForDisplay=r),l.topicBasedBrowsingEnabled&&l.topicBasedBrowsingEnabledForCategory&&!l.searchResultList.length>0&&l.topicBasedBrowsingDisplayEnabled&&(!l.selectedTopics.length>0?a.length>0&&l.postGetTopics(a,[]):l.postGetTopics([],l.selectedTopics)),l.setPaginations(e),l.buildSearchResultData(a)}}),(function(e){i.debug(" ------ getCatalogResults error -------"),l.resetPageContentAndLoading(t),l.layout.showErrorMessage=!0;var a=I.errorMessages.endpointNames;x.sendErrorsToGoogleAnalytics(e,a.getSearchItems),x.sendErrorsToLogCount(e,a.getSearchItems)})).finally((function(){l.layout.initialized||(l.layout.initialized=!0),l.paginations.startPaging=!1,l.layout.isSearchItemsLoaded=!0}))},l.getPagedItems=function(e,t){e&&!t&&(l.searchResultDict={},l.searchResultList=[]),l.layout.loading=!0,l.getSearchItems(l.queries,e)},l.setNavigationMenu=function(e){var t=e.priceFilters,a=e.categories,r=e.genres,n=e.sortMenu,i=e.creatorFilters,o={categories:a,currencyTypes:t,genres:r,sortMenus:n,salesTypeFilters:e.salesTypeFilters};Object.assign(l.navigationMenu,o),l.setCreatorFilters(i),l.navigationMenu.filtersInitialized=!0,l.navigationMenu.categories.forEach((function(e){e.categoryId===l.library.gearCategoryId&&e.subcategories.sort(l.gearSubcategoryCompare)})),t&&t.length>0&&(l.library.defaultCurrencyType=t[0]),Object.assign(l.data,l.navigationMenu)},l.gearSubcategoryCompare=function(e,t){return e.subcategoryId===I.allGearSubcategoryId?-1:t.subcategoryId===I.allGearSubcategoryId?1:w.intl.langSensitiveCompare(e.name,t.name)},l.setSelectedFilters=function(){var e=E.getQueriesValueIntoInt();if(l.data.query=e,l.queries=E.formatQueries(e),l.topicBasedBrowsingEnabledForCategory=I.topics.categoriesToShowTopics.includes(e.Category),l.triggeredByTopicDiscovery=e.TriggeredByTopicDiscovery,l.selectedTopics=l.parseTopicsFromString(e.topics,","),l.searchLayout.topics=l.buildTopicKeyword(l.selectedTopics," "),!l.topicBasedBrowsingDisplayEnabled&&e.topics?(l.searchLayout.topics=null,l.triggeredByTopicDiscovery=!1,l.searchKeyword(!0)):(l.searchLayout.keyword=e.Keyword,l.searchLayout.keywordForDisaply=e.Keyword),l.setSelectedNavigationMenu(e.Category,e.Subcategory,e.Gears,e.CatalogContext),l.setCreatorValue(e.CreatorID,e.CreatorName,e.CreatorType),l.setCurrencyValue(e.CurrencyType,e.pxMin,e.pxMax),l.data.includeNotForSale=e.IncludeNotForSale||!1,l.categoryOptimizationEnabled){var t=e.salesTypeFilter?parseInt(e.salesTypeFilter,10):1,a=l.data.salesTypeFilters.find((function(e){return e.filter===t}));l.data.salesTypeFilter=a}else l.data.salesTypeFilter=void 0,l.searchKeyword(!0);l.setGenresInMenuOptions(e.Genres),l.setSortMenus(e.SortType,e.SortAggregation)},l.setSearchOptionsOpenValue=function(e){l.layout.isSearchOptionsOpen=e,l.layout.hideMainView=e,r.SharedElementManipulator.toggleChat(e),r.SharedElementManipulator.toggleFooter(e),r.SharedElementManipulator.togglePagification(e),e||u()},l.toggleSearchOptions=function(e){l.setSearchOptionsOpenValue(e),e||(l.setSelectedFilters(),l.closeWarning())},l.onKeywordKeypress=function(t,a){13===t.which&&(-1===l.autocompleteSuggestions.keyboardPosition?(t.target.blur(),l.clearTopics(),l.triggeredByTopicDiscovery=!1,l.searchKeyword(a),!0===l.isAutocompleteEnabled&&(l.autocompleteSuggestions.show=!1,m(0))):!0===l.isAutocompleteEnabled&&e((function(){o().element(document.querySelector("#autocomplete-suggestion-".concat(l.autocompleteSuggestions.keyboardPosition))).triggerHandler("click")}),0))},l.onKeywordKeydown=function(e){if(!1!==l.isAutocompleteEnabled){if(8===e.which&&(l.autocompleteSuggestions.previousQueryBeforeRemoval=l.searchLayout.keyword,l.autocompleteSuggestions.backspaceInput=!0),40===e.which||9===e.which){var t=l.autocompleteSuggestions.keyboardPosition+1,a=o().element("#autocomplete-suggestion-li-".concat(t));if(t<l.autocompleteSuggestions.suggestions.length){e.stopPropagation(),e.preventDefault();var r=o().element("#autocomplete-suggestion-li-".concat(l.autocompleteSuggestions.keyboardPosition));null!==r&&r.removeClass("selected"),l.autocompleteSuggestions.keyboardPosition=t,a.addClass("selected")}else 9!==e.which?(e.stopPropagation(),e.preventDefault()):(o().element("#autocomplete-suggestion-li-".concat(l.autocompleteSuggestions.suggestions.length-1)).removeClass("selected"),l.autocompleteSuggestions.show=!1,l.autocompleteSuggestions.keyboardPosition=-1)}if(38===e.which){e.stopPropagation(),e.preventDefault();var n=o().element("#autocomplete-suggestion-li-".concat(l.autocompleteSuggestions.keyboardPosition));null!==n&&n.removeClass("selected");var i=l.autocompleteSuggestions.keyboardPosition-1,s=o().element("#autocomplete-suggestion-li-".concat(i));i>-1?(l.autocompleteSuggestions.keyboardPosition=i,s.addClass("selected")):l.autocompleteSuggestions.keyboardPosition=-1}l.autocompleteSuggestions.previousCharInput=e.which}},l.keywordChanged=function(){!1!==l.isAutocompleteEnabled&&(l.searchLayout.keyword?(l.autocompleteSuggestions.show=!0,l.getAutocompleteSuggestions(l.searchLayout.keyword)):(l.autocompleteSuggestions.suggestions=[],l.autocompleteSuggestions.textSuggestions=[]))},l.getAutocompleteSuggestions=function(e){l.autocompleteSuggestions.startTime=Date.now(),C.getAvatarRequestSuggestion(e,l.autocompleteLanguageCode,I.autocompleteQueryAmount,l.autocompleteSuggestions.previousQuery,l.useAutocompleteFallback).then((function(e){if(e.Args.Prefix===l.searchLayout.keyword){l.autocompleteSuggestions.suggestions=[],l.autocompleteSuggestions.textSuggestions=[];var t=e.Data;(t=t.slice(0,l.autocompleteAvatarSearchNumToDisplay)).forEach((function(e){l.autocompleteSuggestions.suggestions.push(e),l.autocompleteSuggestions.textSuggestions.push(e.Query)})),(Date.now()>l.autocompleteSuggestions.timeSinceLastSearchAutocompleteEvent+I.autocompleteSuggestionEventData.autocompleteSuggestionEventTimeoutDelay||null===l.autocompleteSuggestions.timeSinceLastSearchAutocompleteEvent)&&(l.autocompleteSuggestions.previousQuery=e.Args.Prefix,g(e.Algo,l.autocompleteSuggestions.textSuggestions,e.Args.Prefix,l.autocompleteSuggestions.previousQuery,l.autocompleteSuggestions.locale,Date.now()-l.autocompleteSuggestions.startTime,l.autocompleteAvatarSearchNumToDisplay,""!==l.autocompleteSuggestions.previousQuery)),!0===l.autocompleteSuggestions.backspaceInput&&p(l.autocompleteSuggestions.previousQueryBeforeRemoval,e.Args.Prefix),l.autocompleteSuggestions.timeSinceLastSearchAutocompleteEvent=Date.now(),l.autocompleteSuggestions.backspaceInput=!1}}),(function(){l.useAutocompleteFallback=!0}))},l.onKeywordInputClicked=function(e){!1!==l.isAutocompleteEnabled&&(e.stopPropagation(),l.autocompleteSuggestions.show=!0)},l.onClickOutsideAutocomplete=function(){!1!==l.isAutocompleteEnabled&&(l.autocompleteSuggestions.show=!1,l.autocompleteSuggestions.keyboardPosition=-1)},l.onAutocompleteSuggestionClicked=function(e,t){!1!==l.isAutocompleteEnabled&&(l.searchLayout.keyword=e,l.searchKeyword(!0),l.autocompleteSuggestions.keyboardPosition=-1,l.getAutocompleteSuggestions(e),f(l.searchLayout.keyword,t,e,l.autocompleteSuggestions.textSuggestions),m(1),l.autocompleteSuggestions.show=!1,l.autocompleteSuggestions.keyboardPosition=-1)},l.onKeywordClear=function(e){!1!==l.isAutocompleteEnabled&&(e.stopPropagation(),y(l.searchLayout.keyword),document.getElementById("avatar-shop-keyword-input").focus(),l.autocompleteSuggestions.show=!0,l.searchLayout.keyword="",l.autocompleteSuggestions.suggestions=[],l.autocompleteSuggestions.textSuggestions=[])},l.searchKeyword=function(e){l.applySearch(e)},l.resetFiltersAndApplySearch=function(){l.$broadcast(I.clearFiltersEvent,{keepKeyword:!1})},l.applyMobileSearch=function(){!l.forms.searchOptionsForm||l.forms.searchOptionsForm.$valid?(l.setSearchOptionsOpenValue(!1),l.closeWarning(),l.library.isSplashPage=!1,l.isCurrentCategoryRecommended()?l.resetFiltersAndApplySearch():l.applySearch()):l.layout.showError=!0},l.closeWarning=function(){l.layout.showError=!1},l.buyRobuxButtonOnClickEvt=function(){n.paymentFlowAnalyticsService.sendUserPurchaseFlowEvent(n.paymentFlowAnalyticsService.ENUM_TRIGGERING_CONTEXT.WEB_ROBUX_PURCHASE,!1,n.paymentFlowAnalyticsService.ENUM_VIEW_NAME.CATALOG_LIST_PAGE,n.paymentFlowAnalyticsService.ENUM_PURCHASE_EVENT_TYPE.USER_INPUT,n.paymentFlowAnalyticsService.ENUM_VIEW_MESSAGE.BUY_ROBUX)},l.fetchNextFromInfiniteScroll=function(){l.layout.isSearchOptionsOpen||l.layout.loading||!l.paginations.nextPageCursor||!l.layout.isItemDetailsLoaded&&l.isInfiniteScrollWebEnabled()||(l.library.isSplashPage&&(l.library.isSplashPage=!1,l.queries.category=l.currentQuery.category&&l.currentQuery.category.categoryId,l.queries.subcategory=l.currentQuery.subcategory&&l.currentQuery.subcategory.subcategoryId),l.queries.cursor=l.paginations.nextPageCursor,l.isInfiniteScrollWebEnabled()?l.getPagedItems(!1,!0):l.getSearchItems(l.queries),l.paginations.direction=I.pageDirection.next)},l.setQuery=function(){var e={};l.setKeywordParam(e),l.setTopicParams(e),l.setCategoryParams(e),l.setGenresForMenuOptions(e),l.setCreatorParam(e),l.setPriceParams(e),l.setSalesTypeParams(e),null!=l.data.sortType&&l.data.sortType.sortType!==l.library.defaultSortTypeId&&(e.SortType=l.data.sortType.sortType),null!=l.data.sortType&&l.data.sortType.hasSubMenu&&null!=l.data.sortAggregation&&l.data.sortAggregation!==l.library.defaultSortAggregationId&&(e.SortAggregation=l.data.sortAggregation.sortAggregation),l.data.includeNotForSale&&(e.IncludeNotForSale=l.data.includeNotForSale),l.data.query=e,l.queries=E.formatQueries(e),l.topicBasedBrowsingEnabledForCategory=I.topics.categoriesToShowTopics.includes(l.queries.category),l.layout.preventLocationChange=!0,t.search(e),l.stickyUiEnabled&&window.scrollTo({top:0,behavior:"smooth"})},l.setKeywordParam=function(e){var t=l.searchLayout,a=t.keyword;t.topics;l.searchLayout.keywordForDisplay=null,a&&(e.Keyword=a,l.searchLayout.keywordForDisplay=a)},l.setCategoryParams=function(e){if(l.isCurrentCategoryRecommended()&&(e.Keyword||e.topics)){var t=l.library.defaultCategoryIdForRecommendedSearch;return l.currentQuery.category=l.getCategoryMenu({categoryId:t}),l.currentQuery.subcategory=null,e.Category=t,void(e.Subcategory=null)}l.currentQuery.category&&(!l.library.displaySplash||l.paginations.currentPage>1)&&(e.Category=l.currentQuery.category.categoryId,null!=l.currentQuery.subcategory&&(l.currentQuery.category.categoryId===l.library.gearCategoryId?l.currentQuery.subcategory.subcategoryId!==I.defaults.subcategory&&(e.Gears=l.currentQuery.subcategory.subcategoryId,e.Subcategory=l.currentQuery.subcategory.subcategoryId):e.Subcategory=l.currentQuery.subcategory.subcategoryId))},l.setGenresForMenuOptions=function(e){var t=[],a=l.navigationMenu.genres;if(a)for(var r=0;r<a.length;r++){var n=a[r];n.isSelected&&t.push(n.genre)}t.length>0&&(e.Genres=t)},l.setCreatorParam=function(e){l.data.creatorBreadcrumb=null,l.data.creator&&l.data.creator.userId!==l.library.defaultCreatorId&&(l.data.creator.userId===l.library.robloxUserId?(e.CreatorID=l.data.creator.userId,l.data.creatorBreadcrumb=l.data.creator.name):l.data.creator.userId===l.layout.customText&&null!=l.data.creatorName?(e.CreatorName=l.data.creatorName,l.data.creatorBreadcrumb=l.data.creatorName):l.data.creator.userId&&(e.CreatorID=l.data.creator.userId)),l.data.creator&&l.data.creator.type&&(e.CreatorType=l.data.creator.type)},l.setPriceParams=function(e){var t=l.data.currencyType;if(l.data.showFreeBreadcrumb=t&&t.currencyType===l.library.freeFilterId,l.data.minPriceBreadcrumb=null,l.data.maxPriceBreadcrumb=null,null!=t&&t.currencyType!==l.library.defaultCurrencyId){if(e.CurrencyType=t.currencyType,t.currencyType===l.library.customRobuxFilterId){l.data.minPrice=l.data.minPrice&&l.data.minPrice.toString().length>9?null:l.data.minPrice,l.data.maxPrice=l.data.maxPrice&&l.data.maxPrice.toString().length>9?null:l.data.maxPrice;var a=l.data.minPrice,r=l.data.maxPrice;r&&a>r&&(l.data.minPrice=r,l.data.maxPrice=a),l.data.minPriceBreadcrumb=l.data.minPrice||0,l.data.maxPriceBreadcrumb=l.data.maxPrice,null===l.data.minPrice&&null===l.data.maxPrice?(e.pxMin=0,e.pxMax=0):(e.pxMin=l.data.minPrice,e.pxMax=l.data.maxPrice)}t.currencyType===l.library.freeFilterId&&(e.pxMin=0,e.pxMax=0)}},l.setTopicParams=function(e){var t=l.searchLayout.topics,a=[];l.selectedTopics.forEach((function(e){a.push(e.displayName.toLowerCase())})),t&&(e.TriggeredByTopicDiscovery=!0,e.topics=l.buildTopicKeyword(l.selectedTopics,","))},l.setSalesTypeParams=function(e){l.categoryOptimizationEnabled?e.salesTypeFilter=l.data.salesTypeFilter.filter:e.salesTypeFilter=void 0},l.setSelectedNavigationMenu=function(e,t,a,r){if(!l.navigationMenu.categories)return!1;Number.isInteger(e,10)||(e=r?l.library.allCategoriesId:l.library.defaultCategoryId);var n=l.navigationMenu.categories.find((function(t){return t.categoryId===e}));if(n||(e=l.library.defaultCategoryId,n=l.navigationMenu.categories.find((function(t){return t.categoryId===e}))),l.currentQuery.category=n,!n||n.subcategories&&0===n.subcategories.length)return l.currentQuery.subcategory=null,!1;if(e===l.library.gearCategoryId){var i=a?a[0]:null;i||(i=n.subcategories[0].subcategoryId),l.currentQuery.subcategory=n.subcategories.find((function(e){return e.subcategoryId===i}))}else t&&(l.isLayeredClothingCategory=I.layeredClothingSubcategories.includes(t),l.currentQuery.subcategory=n.subcategories.find((function(e){return e.subcategoryId===t})));return!1},l.setCreatorFilters=function(e){return e?(e.push({name:null,isSelected:!1,userId:l.layout.customText}),l.data.creators=e,!0):(l.data.creators=null,!1)},l.setGenresInMenuOptions=function(e){if(l.navigationMenu.genres){var t=[];if(e)if(Array.isArray(e))for(var a=0;a<e.length;a++)t.push(parseInt(e[a],10));else t.push(parseInt(e,10));for(var r=l.navigationMenu.genres,n=0;n<r.length;n++){var i=r[n];r[n].isSelected=t.indexOf(i.genre)>=0}}},l.setGenres=function(e){if(l.data.genres){var t=[];if(e)if(Array.isArray(e))for(var a=0;a<e.length;a++)t.push(e[a].toString());else t.push(e.toString());for(var r=0;r<l.data.genres.length;r++){var n=l.data.genres[r];l.data.genres[r].IsSelected=t.indexOf(n.genre)>=0}}},l.setCreatorValue=function(e,t,a){var r=l.data.creators;if(t)l.data.creator=r.find((function(e){return e.userId===l.layout.customText})),l.data.creatorName=t,l.data.creatorBreadcrumb=t;else{e||(e=l.library.defaultCreatorId);var n=parseInt(e,10);n>parseInt(l.library.robloxUserId,10)?(l.data.creator=r.find((function(e){return e.userId===l.layout.customText})),l.data.creator.userId=n):l.data.creator=r.find((function(t){return t.userId===e})),l.data.creatorBreadcrumb=l.data.creator&&l.data.creator.userId!==l.library.defaultCreatorId?l.data.creator.name:null,l.data.creatorName=null}l.data.creator&&a&&(l.data.creator.type=a)},l.setCurrencyValue=function(e,t,a){var r=l.navigationMenu.currencyTypes;return r?(l.data.currencyType=null==e?l.library.defaultCurrencyType:r.find((function(t){return t.currencyType===e})),l.data.showFreeBreadcrumb=l.data.currencyType&&l.data.currencyType.currencyType===l.library.freeFilterId,l.data.minPrice=null,l.data.maxPrice=null,l.data.currencyType.currencyType===l.library.customRobuxFilterId&&(t=t?parseInt(t,10):null,a=a?parseInt(a,10):null,l.data.minPrice=0!==t?t:null,l.data.maxPrice=0!==a?a:null,l.data.minPriceBreadcrumb=t||0,l.data.maxPriceBreadcrumb=a),!1):(l.data.currencyType=null,!1)},l.setSortMenus=function(e,t){var a=l.navigationMenu.sortMenus;if(!a)return l.data.sortType=null,l.data.sortAggregation=null,!1;var r=a.sortOptions,n=a.sortAggregations;return r?(l.data.defaultSortValue=r[0],l.data.sortType=null==e?l.data.defaultSortValue:r.find((function(t){return t.sortType===e}))):l.data.sortType=null,n?(l.data.defaultSortAggregationValue=n[0],l.data.sortAggregation=null==t?l.data.defaultSortAggregationValue:n.find((function(e){return e.sortAggregation===t}))):l.data.sortAggregation=null,!1},l.setSortType=function(e){var t=l.data.sortMenus;return t&&t[0]?(t[0].Sorts&&(l.data.defaultSortValue=t[0].Sorts[0],l.data.sortType=null==e?l.data.defaultSortValue:t[0].Sorts.find((function(t){return t.sortType===e}))),!1):(l.data.sortType=null,!1)},l.setSortAggregation=function(e){var t=l.data.sortMenus;return t&&t[1]?(t[1].Sorts&&(l.data.defaultSortAggregationValue=t[1].Sorts[0],l.data.sortAggregation=null==e?l.data.defaultSortAggregationValue:t[1].Sorts.find((function(t){return t.sortAggregation===e}))),!1):(l.data.sortAggregation=null,!1)},l.getCategoryOptionFromCategoryId=function(e){return e<0?null:l.navigationMenu.categories.find((function(t){return t.categoryId===e}))},l.getCategoryMenu=function(e){return e?l.navigationMenu.categories.find((function(t){return t.categoryId===e.categoryId})):null},l.getCategoryOption=function(e){return l.getCategoryMenu(e)},l.getCategoryDropdownValue=function(){var e,t;if(!l.currentQuery.category)return"";if((null===(e=l.currentQuery)||void 0===e||null===(t=e.category)||void 0===t?void 0:t.categoryId)===c.default.categoryTypes.Recommended){var a=l.library.defaultCategoryIdForRecommendedSearch;if(Number.isInteger(a,10)){var r=l.navigationMenu.categories.find((function(e){return e.categoryId===a}));if(r&&r.name)return r.name}}return l.currentQuery.category.categoryId===l.library.gearCategoryId&&l.currentQuery.subcategory&&l.currentQuery.subcategory.subcategoryId!==l.library.defaultGearSubcategoryId?l.currentQuery.subcategory.name:l.currentQuery.category.name},l.updateCategory=function(e,t,a,r,n){if(a&&(l.searchLayout.keyword=null,l.clearTopics(),l.topicBasedBrowsingEnabledForCategory=I.topics.categoriesToShowTopics.includes(r.categoryId)),n?(l.isLayeredClothingCategory=I.layeredClothingSubcategories.includes(n.subcategoryId),e.stopPropagation()):l.isLayeredClothingCategory=!1,l.currentQuery.category=r,l.currentQuery.subcategory=n,!n){var i=l.getCategoryOption(r);i&&i.subcategories&&(l.currentQuery.subcategory=i.subcategories[0])}l.library.isSplashPage=!1,t?l.$broadcast(I.clearFiltersEvent,{keepKeyword:!a}):l.applySearch(!0)},l.updateSort=function(e){l.data.sortType=e,l.applySearch(!0)},l.updateSortAggregation=function(e){l.data.sortAggregation=e,l.applySearch(!0)},l.filterChanged=function(){if(!l.layout.isSearchOptionsOpen)if(l.data.customCreatorSelected||l.data.creatorName||!l.data.creator||l.data.creator.userId!==l.layout.customText){if(l.data.isCreatorAGroup=!1,l.data.customCreatorSelected=!1,null==l.data.minPriceBreadcrumb&&l.data.currencyType&&l.data.currencyType.currencyType===l.library.customRobuxFilterId){if(!l.data.customPriceSelected)return void(l.data.customPriceSelected=!0);l.data.currencyType=l.data.defaultCurrencyValue,l.data.customPriceSelected=!1}else l.data.customPriceSelected=!1;l.applySearch(!0)}else l.data.customCreatorSelected=!0},l.applySearch=function(e,t){l.layout.isSearchItemsLoaded=!1,l.library.isSplashPage=!1,l.setQuery(t),l.getPagedItems(!0,e),l.adRefresh()},l.applyCreatorName=function(){l.applySearch()},l.mobileCategoryClick=function(e,t){var a=e.subcategories;!e||!t&&a&&a.length>0||(a&&0!==a.length||(l.currentQuery.subcategory=null),l.currentQuery.category=e)},l.getAllFeaturedItems=function(){var e={Category:l.getSearchableCategory()};l.library.isSplashPage=!1,l.data.query=e,l.queries=E.formatQueries(e),t.search(e),l.setSelectedNavigationMenu(e.Category),l.getPagedItems(!0,!1)},l.showViewAllFeaturedItemsButton=function(){var e=l.library,t=e.isSplashPage,a=e.initialized,r=e.isPhone;return!l.landingPageInfiniteScrollEnabled&&(t||l.isCurrentCategoryRecommended()&&a&&!r)},l.getSearchableCategory=function(){var e,t,a=null===(e=l.currentQuery)||void 0===e||null===(t=e.category)||void 0===t?void 0:t.categoryId;return l.isCurrentCategoryRecommended()?l.library.defaultCategoryIdForRecommendedSearch:a},l.getViewAllItemsTranslation=function(e){return e===c.default.categoryTypes.All?l.categoryOptimizationEnabled?"Label.AllItems":"Action.ViewAllItems":"Action.ViewFeaturedItems"},l.getTranslationKeyForViewFeaturedButton=function(){return l.getViewAllItemsTranslation(l.getSearchableCategory())},l.showUnavailableFilter=function(){return l.library&&!l.library.isPhone},l.showCurrencyType=function(e){return!(!l.currentQuery.category||!e)&&!(l.currentQuery.category.categoryId===l.library.defaultCategoryId&&e.currencyType===l.library.freeFilterId)},l.isSearchableCategory=function(e){var t;return null===(t=null==e?void 0:e.isSearchable)||void 0===t||t},l.categoryClick=function(e,t){t.subcategories&&0!==t.subcategories.length||(l.clearTopics(),l.topicBasedBrowsingEnabledForCategory=I.topics.categoriesToShowTopics.includes(t.categoryId),l.library.isSplashPage=!1,l.currentQuery.category=t,l.currentQuery.subcategory=null,l.$broadcast(I.clearFiltersEvent))},l.renderShoppingCartButton=function(){ie("shopping-cart-btn-entry")},l.categoryNameClick=function(e,t){l.clearTopics(),l.topicBasedBrowsingEnabledForCategory=I.topics.categoriesToShowTopics.includes(t.categoryId),(!t.subcategories||0===t.subcategories.length||l.isJustinUiChangesEnabled&&l.justinUiChangesCategoryChange)&&(l.library.isSplashPage=!1,l.currentQuery.category=t,l.currentQuery.subcategory=null,l.$broadcast(I.clearFiltersEvent)),l.isJustinUiChangesEnabled&&l.justinUiChangesCategoryChange&&"true"===document.getElementById("expandable-menu-category-".concat(t.categoryId)).getAttribute("aria-expanded")&&e.stopPropagation()},l.expandSelectedCategoryMenu=function(){var e=l.currentQuery.category;if(e){var t=e.categoryId===c.default.categoryTypes.Recommended?l.library.defaultCategoryIdForRecommendedSearch:e.categoryId,a=l.getCategoryOptionFromCategoryId(t);a&&null!=a.subcategories&&0!=a.subcategories.length&&r.BootstrapWidgets.ShowAccordionMenu(l.layout.accordionMenuIdPrefix+t)}},l.checkShowTopUpWidget=function(){var e=n.localStorageService.getLocalStorage("Roblox.AvatarMarketplace.TopUpClearDate-".concat(r.CurrentUser.userId));l.topUp.showTopUp=Date.now()-e>I.topUp.resetTime},l.onTopUpClear=function(){n.localStorageService.setLocalStorage("Roblox.AvatarMarketplace.TopUpClearDate-".concat(r.CurrentUser.userId),Date.now()),l.topUp.showTopUp=!1},l.isCurrentCategoryRecommended=function(){var e,t;return(null===(e=l.currentQuery)||void 0===e||null===(t=e.category)||void 0===t?void 0:t.categoryId)===c.default.categoryTypes.Recommended};var k=l.$watch("data.currencyType",(function(e){e&&e.excludePriceSorts&&l.data.sortType&&l.data.sortType.isPriceRelated&&(l.data.sortType=l.data.defaultSortValue)})),A=l.$watch("data.category",(function(e){e&&e.categoryId===l.library.defaultCategoryId&&l.data.currencyType&&l.data.currencyType.currencyType===l.library.freeFilterId&&(l.data.currencyType=l.library.defaultCurrencyType,l.data.showFreeBreadcrumb=!1,l.$apply())}));l.$on("$destroy",(function(){k&&k(),A&&A()})),l.initialize()}ce.$inject=["$timeout","$location","$http","$log","$scope","$anchorScroll","abpService","catalogService","catalogConstants","constantsService","languageResource","utilityService","metricsService","thumbnailConstants","experimentationService"],l.Z.controller("catalogController",ce);var ue=ce},689:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e,t){t.clearGenreFilters=function(){t.navigationMenu.genres.forEach((function(e){e.isSelected=!1})),t.applySearch(!0)}}n.$inject=["$log","$scope"],r.Z.controller("genreFiltersController",n),t.default=n},9661:function(e,t,a){"use strict";a.r(t);a(5734);var r=a(9597);function n(e,t,a){t.hasSecondaryInfo=function(){return t.isCreatorNameShown()||t.item.unitsAvailableForConsumption>0&&!1},t.isCreatorNameShown=function(){return t.item&&t.item.creatorTargetId!==a.robloxSystemUserId&&t.item.creatorName&&!t.hideCreatorName},t.isItemThumbnailLoading=function(){return t.item.itemType===a.itemTypes.bundle?!t.layout.isBundleThumbnailLoaded:!t.layout.isAssetThumbnailLoaded},t.isItemThumbnailAvailable=function(){return t.item.thumbnail&&t.item.thumbnail.imageUrl},t.shouldShowPremiumIcon=function(){return!0===t.library.isPremiumIconOnItemTilesEnabled&&void 0!==t.item.premiumPricing},t.getDisplayPrice=function(){return t.library.isPremiumPriceOnItemTilesEnabled&&t.item.premiumPricing?t.item.premiumPricing.premiumPriceInRobux:t.item.lowestPrice?t.item.lowestPrice:t.item.price},t.clickItemCard=function(e){t.item.detailsUrl||e.preventDefault()},t.showVerifiedBadge=function(e){return e&&e.creatorHasVerifiedBadge}}n.$inject=["$log","$scope","catalogConstants"],r.Z.controller("itemCardController",n),t.default=n},5630:function(e,t,a){"use strict";a.r(t);var r=a(9597),n=a(582),i=a(7124),o=a(7904);function s(e,t,a,r,n,i,o){try{var s=e[i](o),l=s.value}catch(e){return void a(e)}s.done?t(l):Promise.resolve(l).then(r,n)}function l(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var i=e.apply(t,a);function o(e){s(i,r,n,o,l,"next",e)}function l(e){s(i,r,n,o,l,"throw",e)}o(void 0)}))}}function c(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(s)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}g.$inject=["$log","$scope","catalogConstants","$anchorScroll"];var d=(0,i.ex)();function g(e,t,a,r){t.getNumberItemToDisplay=function(){return t.increaseRecommendations120&&a.expandedCategoryList.includes(t.queries.category)||t.isInfiniteScrollEnabled()&&t.isInfiniteScrollWebEnabled()?a.numberOfSearchItemsExpanded:t.library.isFullScreen?a.numberOfSearchItemsForFullScreen:t.library.isSplashPage?a.numberOfSearchItems:t.searchResultList.length},t.isInfiniteScrollEnabled=function(){var e=t.library,a=e.initialized,r=e.isPhone;return a&&r||t.isInfiniteScrollWebEnabled()},t.isRegularItemsResultAvailable=function(){var e=t.library,a=e.initialized,r=e.isPhone;return a&&!r},t.isBreadcrumbsAvailable=function(){var e=t.library,a=e.initialized,r=e.isPhone;return a&&!r},t.shouldShowHeading=function(){return t.layout.isNavigationMenuLoaded&&(t.library.isSplashPage&&!t.categoryOptimizationEnabled||t.isCurrentCategoryRecommended())},t.isRecommendedEnabled=function(){return t.library.defaultCategoryId===n.default.categoryTypes.Recommended},t.showRecommendedHeading=function(){return t.library.isSplashPage&&t.isRecommendedEnabled()||t.isCurrentCategoryRecommended()},t.showReturnToTop=function(){return t.searchResultList.length>a.numberOfSearchItemsExpanded},t.returnToTop=function(){window.scrollTo({top:0,behavior:"smooth"})},t.pager={loadNextPage:function(){var e=t.paginations,r=e.nextPageCursor,n=e.startPaging;r&&!n&&(t.queries.cursor=r,t.getSearchItems(t.queries,!0),t.paginations.direction=a.pageDirection.next,t.paginations.startPaging=!0)},loadPreviousPage:function(){var e=t.paginations,r=e.previousPageCursor,n=e.startPaging;r&&!n&&(t.queries.cursor=r,t.getSearchItems(t.queries,!0),t.paginations.direction=a.pageDirection.prev,t.paginations.startPaging=!0)},canLoadNextPage:function(){var e=t.paginations,a=e.nextPageCursor,r=e.startPaging;return a&&!r},canLoadPreviousPage:function(){var e=t.paginations,a=e.previousPageCursor,r=e.startPaging;return a&&!r},getCurrentPageNumber:function(){return t.paginations.currentPage}},t.shoppingCartItemsByItemId=null,t.handleNewCartState=function(e){if(null!=e&&e.items){var a,r={},n=c(e.items);try{for(n.s();!(a=n.n()).done;){var i=a.value;r[i.itemId]=i}}catch(e){n.e(e)}finally{n.f()}t.shoppingCartItemsByItemId=r,setTimeout((function(){var e;null==t||null===(e=t.$apply)||void 0===e||e.call(t)}),10)}},t.loadCartState=l(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.getCartState();case 2:(a=e.sent)&&t.handleNewCartState(a);case 4:case"end":return e.stop()}}),e)}))),t.isItemInCart=function(e){var a;return!(null==t||null===(a=t.shoppingCartItemsByItemId)||void 0===a||!a[e.id])},t.addToCart=function(e,a){var r,n,i;null==e||null===(r=e.preventDefault)||void 0===r||r.call(e),null==e||null===(n=e.stopPropagation)||void 0===n||n.call(e),null==e||null===(i=e.stopImmediatePropagation)||void 0===i||i.call(e),d.dispatch((0,o.uR)(a,t.autoSelectItems,!0))},t.removeFromCart=function(e,t){var a,r,n;null==e||null===(a=e.preventDefault)||void 0===a||a.call(e),null==e||null===(r=e.stopPropagation)||void 0===r||r.call(e),null==e||null===(n=e.stopImmediatePropagation)||void 0===n||n.call(e),d.dispatch((0,o.ly)(t,!0))},t.initializeShoppingCart=function(){t.loadCartState(),d.onCartStateChange((function(e){e&&t.handleNewCartState(e)}))},t.initializeShoppingCart()}r.Z.controller("itemsContainerController",g),t.default=g},4607:function(e,t,a){"use strict";a.r(t);var r=a(9597),n=a(582);function i(e,t,a,r){t.canShowFilters=function(){return(!t.library.isSplashPage||t.categoryOptimizationEnabled)&&t.isSearchableCategory(t.currentQuery.category)},t.canShowGenreFilters=function(){var e,a;if(!t.genreAllowed)return!1;var r=null===(e=t.currentQuery)||void 0===e||null===(a=e.category)||void 0===a?void 0:a.categoryId;return void 0===r||r!==n.default.categoryTypes.CommunityCreations&&(r!==n.default.categoryTypes.Clothing||!1!==t.areGenreFiltersShownForClothingCategories)},t.canToggleSubmenu=function(e){var t=e.subcategories;return t&&t.length>0},t.isUGCOnly=function(){var e,a;return(null===(e=t.currentQuery)||void 0===e||null===(a=e.category)||void 0===a?void 0:a.categoryId)===n.default.categoryTypes.CommunityCreations}}i.$inject=["$log","$scope","catalogConstants","constantsService"],r.Z.controller("searchOptionsController",i),t.default=i},673:function(e,t,a){"use strict";a.r(t);var r=a(792);function n(){return{restrict:"A",scope:!0,link:function(){r.BootstrapWidgets.SetupAccordion()}}}a(9597).Z.directive("accordionMenu",n),t.default=n},1443:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.catalogBreadcrumbsTemplate}}n.$inject=["catalogConstants"],r.Z.directive("catalogBreadcrumbs",n),t.default=n},9645:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.catalogPageTemplate,link:function(e,t){t.ready((function(){e.renderShoppingCartButton()}))}}}n.$inject=["catalogConstants"],r.Z.directive("catalogPage",n),t.default=n},7473:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.creatorFiltersTemplate}}n.$inject=["catalogConstants"],r.Z.directive("creatorFilters",n),t.default=n},6714:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.genreFiltersTemplate}}n.$inject=["catalogConstants"],r.Z.directive("genreFilters",n),t.default=n},7210:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",link:function(t,a,r){a.bind("load",(function(){t.item&&t.item.thumbnail&&e((function(){t.item.thumbnail.isLoaded=!0}))}))}}}n.$inject=["$timeout"],r.Z.directive("imageLoad",n),t.default=n},4094:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.cardItemTemplate}}n.$inject=["catalogConstants"],r.Z.directive("itemCard",n),t.default=n},9766:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.itemsContainer}}n.$inject=["catalogConstants"],r.Z.directive("itemsContainer",n),t.default=n},7566:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.mobileSearchBarTemplate}}n.$inject=["catalogConstants"],r.Z.directive("mobileSearchBar",n),t.default=n},6214:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.mobileSearchOptionsTemplate}}n.$inject=["catalogConstants"],r.Z.directive("mobileSearchOptions",n),t.default=n},5156:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.priceFiltersTemplate}}n.$inject=["catalogConstants"],r.Z.directive("priceFilters",n),t.default=n},8112:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.salesTypeFilterTemplate}}n.$inject=["catalogConstants"],r.Z.directive("salesTypeFilter",n),t.default=n},6085:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.searchBarTemplate}}n.$inject=["catalogConstants"],r.Z.directive("searchBar",n),t.default=n},9068:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.searchOptionsTemplate}}n.$inject=["catalogConstants"],r.Z.directive("searchOptions",n),t.default=n},1969:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.shimmerContainer}}n.$inject=["catalogConstants"],r.Z.directive("shimmerContainer",n),t.default=n},2601:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.shimmerMenu}}n.$inject=["catalogConstants"],r.Z.directive("shimmerMenu",n),t.default=n},5478:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.showUnavailableFilterTemplate}}n.$inject=["catalogConstants"],r.Z.directive("showUnavailableFilter",n),t.default=n},727:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){return{restrict:"A",replace:!1,templateUrl:e.templateUrls.sortFilterTemplate}}n.$inject=["catalogConstants"],r.Z.directive("sortFilter",n),t.default=n},1847:function(e,t,a){"use strict";function r(){return function(e,t){t=t||30,t=parseInt(t,10);for(var a=0;a<t;a++)e.push(a);return e}}a.r(t),a(9597).Z.filter("range",r),t.default=r},2523:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e,t){var a=t;return{itemStatusLabels:{Sale:a.get("Label.Sale"),New:a.get("Label.New"),XboxExclusive:a.get("Label.Xbox"),AmazonExclusive:a.get("Label.Amazon"),GooglePlayExclusive:a.get("Label.GoogleOnly"),IosExclusive:a.get("Label.AppleOnly")}}}n.$inject=["$log","languageResource"],r.Z.factory("catalogLayoutService",n),t.default=n},9875:function(e,t,a){"use strict";a.r(t);var r=a(792),n=a(9597);function i(e,t,a,n,i,o){return{getMetadataFromApi:function(){return a.httpGet(i.endpoints.getMetadata)},getSearchOptions:function(){var e=i.endpoints.getSearchOptionsUrl;return a.httpGet(e)},getNavigationMenuItems:function(){return a.httpGet(i.endpoints.getNavigationMenuItems)},getSearchItems:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=i.numberOfSearchItems,o=i.numberOfSearchItemsForFullScreen,s=i.numberOfSearchItemsExpanded,l=t?o:n;r&&(l=s);var c={limit:l};return Object.assign(c,e),a.httpGet(i.endpoints.getSearchItems,c)},getCatalogItemDetails:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=i.endpoints,n=i.priceStatus,s=[];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&s.push(e[l]);var c={items:s};return a.httpPost(r.getCatalogItemDetails,c).then((function(a){var r=a&&a.data?a.data:[];return r.forEach((function(a){var r=a.id;a.key=e[r].key,a.priceStatus===n.free&&(a.isFree=!0),o.mapItemRestrictionIcons(a),o.mapItemStatusIconsAndLabels(a),t?o.buildUserShopLink(a):o.buildUserLink(a)})),r}))},getAvatarRequestSuggestion:function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=t;null===s&&(s=i.englishLanguageCode);var l={prefix:e,limit:r,lang:s,q:n};return o?a.httpGet(i.endpoints.avatarRequestSuggestion,l):a.httpGet(i.endpoints.avatarRequestCdnSuggestion,l)},postGetTopics:function(e,t,r){var n=!(null==r||""===r),o={maxResult:i.topics.maxTopicsToRequest,items:n?[]:e,selectTopics:t,inputQuery:n?r:void 0};return a.httpPost(i.endpoints.postGetTopics,o)},getUserCurrency:function(){var e=i.endpoints.getUserCurrency,t=r.EnvironmentUrls.economyApi+r.Endpoints.generateAbsoluteUrl(e.url,{userId:r.CurrentUser.userId},!0);return e.url=t,a.httpGet(e)}}}i.$inject=["$log","$q","httpService","eventStreamService","catalogConstants","utilityService"],n.Z.factory("catalogService",i),t.default=i},769:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e){var t=e;return{genreOrText:function(e,a){return t.get("Label.BreadCrumb.GenreOrText",{genreName1:e,genreName2:a})},genreTextSelected:function(e){return t.get("Label.BreadCrumb.GenreSelectedText",{genreCount:e})}}}n.$inject=["languageResource"],r.Z.factory("constantsService",n),t.default=n},7591:function(e,t,a){"use strict";a.r(t);a(4720);var r=a(792);a(6280);function n(){return{getABTestEnrollment:function(e,t,a){var n=r.ExperimentationService.getAllValuesForLayer(t);return n.then((function(){r.ExperimentationService.logLayerExposure(t)})),n}}}a(9597).Z.factory("experimentationService",n),t.default=n},575:function(e,t,a){"use strict";a.r(t);var r=a(9597);function n(e,t,a,r,n){return{sendErrorsToLogCount:function(e,r){var n,i,o=e.errors,s=a.errorMessages.categoryName,l=[];o.forEach((function(e){var t=e.code,a=r+t;l.push({featureName:s,measureName:a,value:1})})),l.length>0&&(n=l,i=a.endpoints.performanceMeasurements,t.httpPost(i,n))},sendErrorsToGoogleAnalytics:function(e,t){var i=e.errors,o=a.errorMessages.categoryName,s=n.buildErrorMessages(i,r.getUserAgent());r.fireEvent(o,t,s)}}}n.$inject=["$log","httpService","catalogConstants","googleAnalyticsEventsService","utilityService"],r.Z.factory("metricsService",n),t.default=n},7820:function(e,t,a){"use strict";a.r(t);var r=a(792),n=a(4720),i=a(9597);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){n=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function l(e,t,a,i,s){function l(e){return encodeURIComponent(e).replace(/[!'()*]/g,escape)}return{isSplashPage:function(){var e=i.search(),a=t.queryNames,r=a.category,n=a.subcategory,o=a.keyword,s=a.catalogContext;return e&&!e[r]&&!e[n]&&!e[o]&&!e[s]},getQueriesValueIntoInt:function(){for(var e=i.search(),a=t.queryValueIsInt,r=0,n=Object.entries(e);r<n.length;r++){var s=o(n[r],2),l=s[0],c=s[1];a.indexOf(l.toLowerCase())>-1?e[l]=parseInt(c):e[l]=c}return e},buildNavigationMenu:function(e,t){var r=[];e.categoriesWithCreator&&e.categoriesWithCreator.forEach((function(e){r.push(e)}));var n={robloxUserId:e.robloxUserId,robloxUserName:e.robloxUserName,defaultCurrencyId:e.defaultCurrency,freeFilterId:e.freeFilter,customRobuxFilterId:e.customRobuxFilter,robuxFilterId:e.robuxFilter,allCategoriesId:e.allCategories,defaultCategoryId:e.defaultCategory,defaultCategoryIdForRecommendedSearch:e.defaultCategoryIdForRecommendedSearch,gearCategoryId:e.gearSubcategory,defaultGearSubcategoryId:a.defaultGearSubcategoryId,defaultSortTypeId:e.defaultSortType,defaultSortAggregationId:e.defaultSortAggregation,categoriesWithCreatorFilters:r,defaultCreatorId:e.defaultCreator};t.categoryEnumLibrary={};var i={};e.categories.forEach((function(e){if(e.typeId=e.categoryId,e.Data=e.typeId.toString(),e.Description=e.name,i[e.categoryId]={categoryEnum:e.category,subcategoryEnums:{}},e.subcategories){var t={};e.subcategories.forEach((function(e){e.typeId=e.subcategoryId,e.Data=e.typeId.toString(),e.Description=e.name,t[e.subcategoryId]=e.subcategory})),Object.assign(i[e.categoryId].subcategoryEnums,t)}})),Object.assign(t.categoryEnumLibrary,i),t.priceEnumLibrary={};var o={};null!==e.priceFilters&&e.priceFilters.forEach((function(e){e.typeId=e.currencyType.toString(),e.Data=e.typeId.toString(),e.Description=e.name,o[e.currencyType]={typeId:e.currencyType,name:e.name}})),Object.assign(t.priceEnumLibrary,o),e.genres.forEach((function(e){e.typeId=e.genre.toString(),e.Data=e.typeId.toString(),e.Description=e.name})),e.creatorFilters.forEach((function(e){e.Data=e.userId.toString(),e.Description=e.name}));var s=e.sortMenu,l=s.sortOptions,c=s.sortAggregations;l.forEach((function(e){e.typeId=e.sortType,e.Data=e.typeId.toString(),e.Description=e.name})),c.forEach((function(e){e.typeId=e.sortAggregation,e.Data=e.typeId.toString(),e.Description=e.name})),t.salesTypeFilters=[];var u=[];e.salesTypeFilters.forEach((function(e){var t={};t.name=e.name.toString(),t.filter=e.filter,u.push(t)})),Object.assign(t.salesTypeFilters,u),Object.assign(t,n)},getCatalogContentKey:function(e){var t=e.id,a=e.itemType;return"".concat(a,"_").concat(t)},updateSearchItemDetails:function(a,i){a&&a.forEach((function(a){var o=a,s=a.key;o.detailsUrl=function(e){var a=e.itemType,n=e.id,i=(e.name,t.itemTypes);switch(a){case i.bundle:return r.Endpoints.getAbsoluteUrl?r.Endpoints.getAbsoluteUrl("/bundles/".concat(n,"/")):"".concat(r.EnvironmentUrls.websiteUrl,"/bundles/").concat(n,"/");case i.asset:default:return r.Endpoints.getAbsoluteUrl?r.Endpoints.getAbsoluteUrl("/catalog/".concat(n,"/")):"".concat(r.EnvironmentUrls.websiteUrl,"/catalog/").concat(n,"/")}}(a),o.nameForDisplay=function(a){var i=t.userTypes,o=t.robloxSystemUserId,s=a.creatorName,l=a.creatorType,c=a.creatorTargetId;return i.user===l&&o!==c&&r.DisplayNames.Enabled()?n.concatTexts.concat(["",e("escapeHtml")(s)]):e("escapeHtml")(s)}(a),o.detailsLoaded=!0,Object.assign(i[s],o)}))},updateSearchItemThumbnails:function(e,t){e&&e.forEach((function(e){var a=e.key,r={thumbnail:e};Object.assign(t[a],r)}))},formatQueries:function(e){var t={},r=a.mappingToApiParameters;for(var n in e){var i=e[n],o=r[n.toLowerCase()];o&&(t[o]=i)}return t},mapItemRestrictionIcons:function(e){if(e&&e.itemRestrictions){var a=t.itemTypes,r=t.itemRestrictionTypes,n=t.itemRestrictionIcons;e.itemType===a.bundle?(e.isLimited=e.itemRestrictions.indexOf(r.limited)>-1,e.isCollectible=e.itemRestrictions.indexOf(r.collectible)>-1,e.isRthro=e.itemRestrictions.indexOf(r.rthro)>-1,e.isDynamicHead=e.itemRestrictions.indexOf(r.dynamicHead)>-1,e.isLimited?e.itemRestrictionIcon=e.isRthro?n.rthroLimitedLabel:n.rthroLabel:e.isDynamicHead?e.itemRestrictionIcon=n.dynamicHead:e.isCollectible&&(e.itemRestrictionIcon=n.collectible)):(e.isThirteenPlus=e.itemRestrictions.indexOf(r.thirteenPlus)>-1,e.isLimitedUnique=e.itemRestrictions.indexOf(r.limitedUnique)>-1,e.isLimited=e.itemRestrictions.indexOf(r.limited)>-1,e.isCollectible=e.itemRestrictions.indexOf(r.collectible)>-1,e.isDynamicHead=e.itemRestrictions.indexOf(r.dynamicHead)>-1,e.isLimitedUnique?e.itemRestrictionIcon=e.isThirteenPlus?n.thirteenPlusLimitedUnique:n.limitedUnique:e.isLimited?e.itemRestrictionIcon=e.isThirteenPlus?n.thirteenPlusLimited:n.limited:e.isThirteenPlus?e.itemRestrictionIcon=n.thirteenPlus:e.isDynamicHead?e.itemRestrictionIcon=n.dynamicHead:e.isCollectible&&(e.itemRestrictionIcon=n.collectible))}},mapItemStatusIconsAndLabels:function(e){if(e&&e.itemStatus){var a=t.itemStatusClasses,r=t.itemStatusHasIcons,n=t.itemStatusIcons,i=s.itemStatusLabels;e.itemStatusIconsAndLabels=[],e.itemStatus.forEach((function(t){r.indexOf(t)>-1?e.itemStatusIconsAndLabels.push({isIcon:!0,type:n[t]}):e.itemStatusIconsAndLabels.push({class:a[t],label:i[t]})}))}},translateToEnumStrings:function(e,t){var a=e.categoryEnumLibrary,r=t.category,n=t.subcategory,i=t.gears;if(a&&a[r]){var o=a[r],s=o.categoryEnum,l=o.subcategoryEnums,c={category:s,subcategory:i?l[i]:l[n]};Object.assign(t,c)}},buildUserLink:function(e){var a=e||{},n=a.creatorType,i=a.creatorTargetId,o=t.userTypes;switch(n){case o.group:e.creatorLink=r.Endpoints.getAbsoluteUrl("/groups/".concat(i));break;case o.user:default:e.creatorLink=r.Endpoints.getAbsoluteUrl("/users/".concat(i,"/profile"))}},buildUserShopLink:function(e){var a=e||{},n=a.creatorType,i=a.creatorName,o=t.userTypes;switch(n){case o.group:e.creatorLink=r.Endpoints.getAbsoluteUrl("/catalog/?Category=1&CreatorName=".concat(l(i),"&CreatorType=Group"));break;case o.user:default:e.creatorLink=r.Endpoints.getAbsoluteUrl("/catalog/?Category=1&CreatorName=".concat(l(i)))}},buildErrorMessages:function(e,t){var a="userId-".concat(r.CurrentUser.userId);return e&&e.length>0&&e.forEach((function(e){var t=e.code,r=e.message;a+="-code-".concat(t,"-message-").concat(r)})),a+="-userAgent-".concat(t)}}}l.$inject=["$filter","catalogConstants","menuConstants","$location","catalogLayoutService"],i.Z.factory("utilityService",l),t.default=l},8935:function(e){e.exports='<div class="breadcrumbs" ng-controller="breadcrumbsController"> <ul class="breadcrumb-container"> <li ng-click="clearSubcategory()"> <a class="text-link breadcrumb-link">{{ currentQuery.category.name }}</a> </li> <li ng-show="isNonDefaultSubcategorySelected()" ng-click="clearGenres()"> <span class="icon-right-16x16"></span> <a class="text-link breadcrumb-link">{{ currentQuery.subcategory.name }}</a> </li> <li ng-show="showPriceBreadcrumb() || showCreatorBreadcrumb() || showGenreBreadcrumb()"> <span class="icon-right-16x16"></span> </li> <li class="breadcrumb-filter" ng-show="showGenreBreadcrumb()" ng-click="clearCreator()"> <span class="breadcrumb-filter-name">{{ getGenreBreadcrumb() }}</span> </li> <li class="breadcrumb-filter" ng-show="showCreatorBreadcrumb()" ng-click="clearPrice()"> <span class="breadcrumb-filter-name"> <span class="breadcrumb-group-label" ng-show="data.isCreatorAGroup" ng-bind="\'Label.BreadCrumb.Group\' | translate"></span>{{ data.creatorBreadcrumb }} </span> </li> <li class="breadcrumb-filter" ng-show="showPriceBreadcrumb()" ng-click="clearKeyword()"> <span class="breadcrumb-filter-name" ng-show="showFreeBreadcrumb()" ng-bind="\'Label.BreadCrumb.Free\' | translate"></span> <span class="breadcrumb-filter-name" ng-show="showCustomPriceBreadcrumb()"> <span ng-show="data.minPriceBreadcrumb && !data.maxPriceBreadcrumb"> <span class="icon-robux-gray-16x16"></span> <span ng-bind="\'Label.BreadCrumb.PriceAbove\' | translate:{price: data.minPriceBreadcrumb}"></span> </span> <span ng-show="data.maxPriceBreadcrumb && data.minPriceBreadcrumb"> <span class="icon-robux-gray-16x16"></span> {{data.minPriceBreadcrumb}} - <span class="icon-robux-gray-16x16"></span> {{data.maxPriceBreadcrumb}} </span> <span ng-show="data.maxPriceBreadcrumb && !data.minPriceBreadcrumb"> <span class="icon-robux-gray-16x16"></span> <span ng-bind="\'Label.BreadCrumb.PriceBelow\' | translate:{price: data.maxPriceBreadcrumb}"></span> </span> </span> </li> <li ng-show="searchLayout.keywordForDisplay && searchLayout.keywordForDisplay.length > 0"> <span class="icon-right-16x16"></span> <a class="text-link breadcrumb-link">{{ searchLayout.keywordForDisplay }}</a> </li> </ul> <br ng-if="isJustinUiChangesEnabled && justinUiChangesLeftSearchBar"/> <br ng-if="isJustinUiChangesEnabled && justinUiChangesLeftSearchBar"/> <div ng-class="{ \'sort-menus-original\': !(isJustinUiChangesEnabled && justinUiChangesLeftSearchBar), \'sort-menus-layered-clothing-ui\': isJustinUiChangesEnabled && justinUiChangesLeftSearchBar}"> <div class="sort-search" ng-show="isJustinUiChangesEnabled && justinUiChangesLeftSearchBar"> <div ng-if="library.initialized && !library.isPhone" class="clearfix"> <div search-bar ng-if="isJustinUiChangesEnabled && justinUiChangesLeftSearchBar"></div> </div> </div> <div ng-if="!categoryOptimizationEnabled" class="input-group-btn sort-dropdown" ng-show="isSortAvailable()"> <button type="button" data-toggle="dropdown" class="input-dropdown-btn" ng-disabled="disabled" aria-haspopup="true" aria-expanded="false"> <span class="rbx-selection-label ng-binding">{{ data.sortType.name }}</span> <span class="icon-down-16x16"></span> </button> <ul class="dropdown-menu" ng-class="{ \'dropdown-menu-shifted\': isJustinUiChangesEnabled && justinUiChangesLeftSearchBar}" data-toggle="dropdown-menu" role="menu"> <li ng-repeat="sort in navigationMenu.sortMenus.sortOptions" ng-hide="sort.isPriceRelated && data.currencyType && data.currencyType.excludePriceSorts" ng-model="data.sortType" ng-value="sort"> <a class="text-overflow" title="{{ sort.name }}" ng-click="updateSort(sort)">{{ sort.name }}</a> </li> </ul> </div> <div ng-if="!categoryOptimizationEnabled" ng-show="data.sortType.HasSubMenu || data.sortType.hasSubMenu" class="input-group-btn subsort-dropdown"> <button type="button" data-toggle="dropdown" class="input-dropdown-btn" ng-disabled="disabled" aria-haspopup="true" aria-expanded="false"> <span class="rbx-selection-label ng-binding">{{ data.sortAggregation.name }}</span> <span class="icon-down-16x16"></span> </button> <ul class="dropdown-menu" ng-class="{ \'dropdown-menu-shifted\': isJustinUiChangesEnabled && justinUiChangesLeftSearchBar}" data-toggle="dropdown-menu" role="menu"> <li ng-repeat="sort in navigationMenu.sortMenus.sortAggregations" ng-model="data.sortAggregation" ng-value="sort"> <a class="text-overflow" title="{{ sort.name }}" ng-click="updateSortAggregation(sort)">{{ sort.name }}</a> </li> </ul> </div> </div> </div>'},3461:function(e){e.exports='<div class="alert-system-feedback"> <div class="alert alert-warning" ng-class="{\'on\': layout.showError}"> <span class="alert-content" ng-bind="\'Response.Error.Filter\' | translate"></span> <span ng-click="closeWarning()" class="icon-close-white"></span> </div> </div> <div id="catalog-content" class="clearfix catalog-content" ng-controller="catalogContentController" ng-class="{\'splash\': library.isSplashPage && !library.isFullScreen,\'catalog-full-screen\': library.isFullScreen, \'sticky\': stickyUiEnabled, \'shopping-cart\': shoppingCartEnabled}"> <div class="search-bars" ng-class="{ \'search-bar-placement-right\': !(isJustinUiChangesEnabled && justinUiChangesLeftSearchBar) }" ng-hide="layout.hideMainView"> <h1 ng-if="isInitializedPage()" class="heading"> <a href="{{library.catalogUrl}}" target="_self" ng-bind="\'Heading.Marketplace\' | translate"></a> </h1> <a ng-if="isInitializedPage()" ng-click="buyRobuxButtonOnClickEvt()" class="btn-growth-md buy-robux" href="{{ library.buyRobuxUrl }}" target="_self" ng-bind="\'Action.BuyRobux\' | translate"> </a> <div mobile-search-bar></div> <div ng-if="library.initialized && !library.isPhone" class="clearfix" ng-show="!(isJustinUiChangesEnabled && justinUiChangesLeftSearchBar)"> <div search-bar ng-if="!(isJustinUiChangesEnabled && justinUiChangesLeftSearchBar)"></div> </div> </div> <div id="main-view" ng-hide="layout.hideMainView"> <div items-container></div> </div> <div search-options ng-if="library.initialized && !library.isPhone && layout.isNavigationMenuLoaded" id="search-options-scrollbar-container" class="rbx-scrollbar search-options-scrollbar-container search-options" ng-hide="layout.hideMainView"></div> <div shimmer-menu class="search-options" ng-if="library.initialized && !library.isPhone && !layout.isNavigationMenuLoaded" ng-hide="layout.hideMainView"></div> <div mobile-search-options></div> </div> '},4515:function(e){e.exports='<ul ng-if="data.creators"> <li ng-repeat="creator in data.creators" class="radio top-border font-caption-body" ng-hide="creator.userId === library.robloxUserId && isUGCOnly()"> <input type="radio" name="radio-creator" id="radio-creator-{{ creator.userId }}" ng-model="data.creator" ng-value="creator" ng-change="filterChanged()"/> <label for="radio-creator-{{ creator.userId }}" ng-if="creator.userId < 2">{{ creator.name }}</label> <label for="radio-creator-custom" class="has-input" ng-if="(creator.userId >= 2 || creator.userId === layout.customText)" ng-class="{\'form-has-error\': forms.searchOptionsForm.creatorName.$error.required}"> <input class="form-control input-field username-input font-caption-body" type="text" name="creatorName" placeholder="{{ \'Label.Username\' | translate }}" maxlength="20" ng-model="data.creatorName" ng-focus="data.creator = creator" ng-required="library.isPhone && data.creator === creator"/> <button class="btn-secondary-xs btn-update-filter" ng-disabled="!data.creatorName || data.creatorName.length === 0" ng-click="applyCreatorName()" ng-bind="\'Action.Go\' | translate"></button> </label> </li> </ul>'},6351:function(e){e.exports='<a class="small text all-genres-filter menu-link" ng-click="clearGenreFilters()" ng-bind="\'Label.AllGenres\' | translate"></a> <ul> <li ng-repeat="genre in data.genres" class="checkbox top-border font-caption-body"> <input id="genre-{{ genre.genre }}" type="checkbox" ng-model="genre.isSelected" ng-change="filterChanged()"/> <label for="genre-{{ genre.genre }}">{{ genre.name }}</label> </li> </ul>'},4209:function(e){e.exports='<a href="{{item.detailsUrl}}" target="_self" class="item-card-container" ng-click="clickItemCard($event)" title="{{item.name}}"> <div ng-if="item.itemStatusIconsAndLabels.length > 0" class="asset-status-icon"> <div ng-repeat="itemStatus in item.itemStatusIconsAndLabels" ng-class="[{\'has-icon\' : itemStatus.isIcon}, itemStatus.class]"> <span ng-if="itemStatus.isIcon" ng-class="[itemStatus.type]"></span> <span ng-if="itemStatus.label"> {{itemStatus.label}} </span> </div> </div> <div class="item-card-link"> <div class="item-card-thumb-container"> <thumbnail-2d class="item-card-thumb" thumbnail-type="item.thumbnailType" thumbnail-target-id="item.id" alt-name="item.name"> </thumbnail-2d> <span ng-show="item.itemRestrictionIcon" ng-class="item.itemRestrictionIcon"> </span> <div ng-if="shoppingCartEnabled" class="add-to-cart-btn-container" data-item-in-cart="{{isItemInCart(item)}}"> <button class="btn-primary-md add-to-cart" ng-click="addToCart($event, item)" ng-hide="isItemInCart(item)">Add to Cart</button> <button class="btn-secondary-md remove-from-cart" ng-click="removeFromCart($event, item)" ng-hide="!isItemInCart(item)">Remove from Cart</button> </div> </div> </div> <div class="item-card-caption" ng-if="layout.isItemDetailsLoaded || (item.detailsLoaded && isInfiniteScrollWebEnabled())"> <div class="item-card-name-link"> <div class="item-card-name" title="{{ item.name }}"><span class="icon-premium-small" ng-if="shouldShowPremiumIcon()"></span> {{item.name}}</div> </div> <div ng-if="hasSecondaryInfo()" ng-class="{\'margin-top-none\' : !hasSecondaryInfo()}" class="item-card-secondary-info text-secondary"> <div ng-if="item.unitsAvailableForConsumption && false" class="text-overflow item-card-label"> <span ng-bind="\'Label.Card.Remaining\' | translate"></span> <span ng-bind="item.unitsAvailableForConsumption | number"></span> </div> <div ng-if="isCreatorNameShown()"> <div class="creator-name-container"> <div class="text-overflow item-card-label"> <span ng-bind-html="\'Label.ByCreatorLink\'| translate:{\r\n                            linkStart: \'<a target=_self class=\\\'creator-name text-link\\\' href=\\\'\' + item.creatorLink + \'\\\'>\', linkEnd: \'</a>\', creator: item.nameForDisplay }"> </span> <span class="mobile-creator-name">{{ item.nameForDisplay }}</span> </div> <span ng-if="showVerifiedBadge(item)" class="verified-badge-icon-catalog-item" data-size="Title" data-overrideimgclass="verified-badge-icon-catalog-item-rendered"> </span> </div> </div> <div ng-if="getDisplayPrice() && item.lowestPrice && false" class="text-overflow item-card-label"> <span ng-bind="\'Label.Card.PriceWas\' | translate"></span> <span class="icon-robux-gray-16x16"></span> <span class="strike-through" ng-bind="getDisplayPrice() | number"></span> </div> </div> <div class="text-overflow item-card-price font-header-2 text-subheader" ng-class="{\'margin-top-none\' : hasSecondaryInfo()}" ng-if="item.priceStatus"> <span class="text text-label" ng-class="{\'text-robux-tile\': item.isFree}"> {{item.priceStatus}} </span> </div> <div class="text-overflow item-card-price font-header-2 text-subheader" ng-class="{\'margin-top-none\' : hasSecondaryInfo()}" ng-if="!item.priceStatus"> <span class="icon icon-robux-16x16" ng-if="getDisplayPrice() || item.lowestPrice"></span> <span class="text-robux-tile" ng-if="getDisplayPrice() && !item.lowestPrice" ng-bind="getDisplayPrice() | number"></span> <span class="text-robux-tile" ng-if="item.lowestPrice" ng-bind="item.lowestPrice | number"></span> </div> </div> <ul class="item-card-caption-progressive-loading shimmer-lines" ng-if="!layout.isItemDetailsLoaded && (!item.detailsLoaded || !isInfiniteScrollWebEnabled())"> <li class="placeholder shimmer-line"></li> <li class="placeholder shimmer-line"></li> <li class="placeholder shimmer-line"></li> </ul> </a> '},3771:function(e,t,a){e.exports='<div class="catalog-results" ng-controller="itemsContainerController"> <h2 class="featured-items-heading" ng-if="!layout.isNavigationMenuLoaded"> <span class="shimmer-lines"> <span class="placeholder shimmer-line"></span> </span> </h2> <a ng-if="!categoryOptimizationEnabled" class="btn-growth-md buy-robux" href="{{ library.buyRobuxUrl }}" target="_self" ng-click="buyRobuxButtonOnClickEvt()" ng-bind="\'Action.BuyRobux\' | translate"></a> <div id="sponsored-catalog-items" data-placement-location="AvatarShop" ng-if="isCurrentCategoryRecommended() && isCatalogAdsRowOnRecommendedPageEnabled && avatarShopPlacement == \'top\'"></div> <h2 ng-show="shouldShowHeading()" class="featured-items-heading"> <span class="line-height" ng-bind-html="showRecommendedHeading() ? (\'Label.RecommendedItemsForYou\' | translate ) : (\'Label.FeaturedItemsOnRoblox\' | translate:{spanStart: \'<span class=text-roblox>\', spanEnd: \'</span>\', roblox: \'Roblox\'})"> </span> <div class="sort-search" ng-show="isJustinUiChangesEnabled && justinUiChangesLeftSearchBar"> <div ng-if="library.initialized && !library.isPhone" class="recommended-search-bar clearfix"> <div search-bar ng-if="isJustinUiChangesEnabled && justinUiChangesLeftSearchBar"></div> </div> </div> </h2> <div ng-if="isBreadcrumbsAvailable()" ng-show="!shouldShowHeading()"> <div catalog-breadcrumbs></div> </div> <div class="topic-container" ng-if="topicBasedBrowsingEnabled && topicBasedBrowsingDisplayEnabled && topicBasedBrowsingEnabledForCategory"> <span id="topic-navigation-left" class="topic-navigation-left topic-navigation-blur-left" ng-show="topicCarouselWidth > 0 && showTopicNavigationButton(true)"> <button class="topic-navigation-button" ng-click="onTopicNavigationButtonClicked(true)"> <span class="icon-left-gray"> </button> </span> <span id="topic-navigation-clear" ng-show="showTopicNavigationClearButton()" class="topic-navigation-left"> <button class="topic-navigation-button" ng-click="onTopicClearButtonClicked()"> <span class="icon-actions-clear-sm"> </button> </span> <span class="topic-carousel" id="topic-carousel"> <span ng-repeat="topic in selectedTopics" class="topic selected-topic" ng-click="onTopicClicked(topic)"> {{formatTopic(topic.displayName)}} <span class="icon-close"></span> </span> <span ng-repeat="topic in topics" class="topic unselected-topic" ng-click="onTopicClicked(topic)"> {{formatTopic(topic.displayName)}}</span> </span> <span class="topic-carousel-placeholder" ng-if="(!selectedTopics && !topics) || (selectedTopics.length === 0 && topics.length === 0)"> </span> <span id="topic-navigation-right" class="topic-navigation-right topic-navigation-blur-right" ng-show="topicCarouselWidth > 0 && showTopicNavigationButton(false)"> <button class="topic-navigation-button" ng-click="onTopicNavigationButtonClicked(false)"> <span class="icon-right-gray"> </button> </span> </div> <div ng-if="topUp.featureEnabled && topUp.showTopUp && \r\n        topUp.currentUserBalance > topUp.robuxMinThreshold && \r\n        topUp.currentUserBalance <= topUp.robuxMaxThreshold &&\r\n        topUp.displayCategories.includes(data.query.Category) &&\r\n        data.query.Keyword === undefined && data.query.topics === undefined" class="top-up-container"> <div class="robux" ng-if="!topUp.giftCard"> <div class="top-up-background"></div> <div class="top-up-robux"></div> <img src="'+a(990)+'" class="top-up-chest"> <div class="top-up-body"> <h1 class="top-up-header" ng-bind="topUp.headerText | translate"> </h1> <div class="top-up-message" ng-bind="topUp.messageText | translate"> </div> <a class="top-up-button btn-cta-md" ng-bind="topUp.buttonText | translate" target="_self" href="{{ topUp.buttonUrl }}"> </a> </div> <a class="top-up-click-background" target="_self" href="{{ topUp.buttonUrl }}"></a> <a class="top-up-close-background" ng-click="onTopUpClear()"></a> <a class="top-up-close icon-close" ng-click="onTopUpClear()"></a> </div> <div class="gift-card" ng-if="topUp.giftCard"> <div class="top-up-background"></div> <img src="'+a(7723)+'" class="top-up-gift-card-back"> <img src="'+a(9127)+'" class="top-up-gift-card-front"> <div class="top-up-body"> <h1 class="top-up-header" ng-bind="topUp.headerText | translate"> </h1> <div class="top-up-message" ng-bind="topUp.messageText | translate"> </div> <a class="top-up-button btn-cta-md" ng-bind="topUp.buttonText | translate" target="_self" href="{{ topUp.buttonUrl }}"> </a> </div> <a class="top-up-click-background" target="_self" href="{{ topUp.buttonUrl }}"></a> <a class="top-up-close-background" ng-click="onTopUpClear()"></a> <a class="top-up-close icon-close" ng-click="onTopUpClear()"></a> </div> </div> <div id="results" class="results-container"> <div class="section-content-off" ng-if="!isLayeredClothingCategory" ng-show="layout.showNoResultsMessage && layout.isSearchItemsLoaded" ng-bind="\'Response.NoItemsFound\' | translate"> </div> <div class="section-content-off" ng-if="isLayeredClothingCategory" ng-show="layout.showNoResultsMessage && layout.isSearchItemsLoaded" ng-bind="\'Label.ComingSoon\' | translate"> </div> <div class="section-content-off" ng-show="layout.showErrorMessage && layout.isSearchItemsLoaded" ng-bind="\'Response.TemporarilyUnavailable\' | translate"> </div> <ul class="hlist item-cards-stackable" ng-if="isInfiniteScrollEnabled()" infinite-scroll="fetchNextFromInfiniteScroll()"> <li class="list-item item-card" item-card ng-repeat="item in searchResultDict | orderList: searchResultList | limitTo: !isInfiniteScrollWebEnabled()? getNumberItemToDisplay(): Infinity" ng-controller="itemCardController"> </li> </ul> <ul class="hlist item-cards-stackable" ng-if="isRegularItemsResultAvailable() && (!isInfiniteScrollEnabled() || !isInfiniteScrollWebEnabled())" ng-class="{\'faded\' : layout.loading}"> <li class="list-item item-card" item-card ng-repeat="item in searchResultDict | orderList: searchResultList | limitTo: getNumberItemToDisplay()" ng-controller="itemCardController"> </li> </ul> <div class="spinner spinner-sm" ng-if="layout.initialized" ng-show="layout.loading && (!isInfiniteScrollEnabled() || !isInfiniteScrollWebEnabled())"> </div> <div shimmer-container ng-if="!layout.initialized && !layout.isSearchItemsLoaded"></div> </div> <div ng-if="topUp.featureEnabled && topUp.showTopUp && \r\n            (topUp.currentUserBalance <= topUp.robuxMinThreshold || \r\n            topUp.currentUserBalance > topUp.robuxMaxThreshold) &&\r\n            topUp.displayCategories.includes(data.query.Category) &&\r\n            data.query.Keyword === undefined && data.query.topics === undefined" class="top-up-container"> <div class="robux" ng-if="!topUp.giftCard"> <div class="top-up-background"></div> <div class="top-up-robux"></div> <img src="'+a(990)+'" class="top-up-chest"> <div class="top-up-body"> <h1 class="top-up-header" ng-bind="topUp.headerText | translate"> </h1> <div class="top-up-message" ng-bind="topUp.messageText | translate"> </div> <a class="top-up-button btn-cta-md" ng-bind="topUp.buttonText | translate" target="_self" href="{{ topUp.buttonUrl }}"> </a> </div> <a class="top-up-click-background" target="_self" href="{{ topUp.buttonUrl }}"></a> <a class="top-up-close-background" ng-click="onTopUpClear()"></a> <a class="top-up-close icon-close" ng-click="onTopUpClear()"></a> </div> <div class="gift-card" ng-if="topUp.giftCard"> <div class="top-up-background"></div> <img src="'+a(7723)+'" class="top-up-gift-card-back"> <img src="'+a(9127)+'" class="top-up-gift-card-front"> <div class="top-up-body"> <h1 class="top-up-header" ng-bind="topUp.headerText | translate"> </h1> <div class="top-up-message" ng-bind="topUp.messageText | translate"> </div> <a class="top-up-button btn-cta-md" ng-bind="topUp.buttonText | translate" target="_self" href="{{ topUp.buttonUrl }}"> </a> </div> <a class="top-up-click-background" target="_self" href="{{ topUp.buttonUrl }}"></a> <a class="top-up-close-background" ng-click="onTopUpClear()"></a> <a class="top-up-close icon-close" ng-click="onTopUpClear()"></a> </div> </div> <button ng-if="showViewAllFeaturedItemsButton()" ng-click="getAllFeaturedItems()" class="btn-control-md btn-full-width view-all" ng-bind="getTranslationKeyForViewFeaturedButton() | translate"></button> <div class="pager-holder" cursor-pagination="pager" ng-show="paginations.isEnabled" ng-if="!isInfiniteScrollEnabled()"></div> <div class="spinner spinner-default spinner-infinite-scroll" ng-show="layout.loading && isInfiniteScrollEnabled()" ng-if="isInfiniteScrollWebEnabled()"></div> <button class="scroll-to-top icon-back-to-top" ng-click="returnToTop()" ng-show="!layout.loading && isInfiniteScrollEnabled() && !showViewAllFeaturedItemsButton() && showReturnToTop()"> </div> <div id="sponsored-catalog-items" data-placement-location="AvatarShop" ng-if="isCurrentCategoryRecommended() && isCatalogAdsRowOnRecommendedPageEnabled && avatarShopPlacement == \'bottom\'"></div> '},4507:function(e){e.exports='<div class="mobile-search-container" stick-to-top is-element-at-top="layout.isSearchBarFixed" ng-class="{\'stick-to-top\': library.isPhone && layout.isSearchBarFixed}"> <div class="search-bar"> <button id="search-options-button" type="button" class="btn-generic-menu-black-md mobile-menu-button" ng-click="toggleSearchOptions(true)"> <span class="icon-menu-black"></span> </button> <form name="forms.keywordForm" class="form-horizontal search-form"> <div class="form-group"> <div class="input-group"> <input class="form-control input-field" placeholder="{{ \'Label.SearchField\' | translate }}" type="text" maxlength="50" ng-keypress="onKeywordKeypress($event)" ng-model="searchLayout.keyword"/> <div class="input-group-btn"> <button class="input-addon-btn" type="submit" ng-click="searchKeyword()"> <span class="icon-search"></span> </button> </div> </div> </div> </form> </div> </div>'},6003:function(e){e.exports='<div id="mobile-search-options" class="mobile-panel mobile-search-options" ng-show="layout.isSearchOptionsOpen"> <form name="forms.searchOptionsForm" class="search-options-form" role="form" novalidate> <div class="section-content-off" ng-if="layout.hasSearchOptionsError" ng-bind="\'Response.GenericError\' | translate"> </div> <div class="rbx-tabs-horizontal" ng-if="!layout.hasSearchOptionsError"> <ul id="horizontal-tabs" class="nav nav-tabs" role="tablist"> <li class="rbx-tab active"> <a class="rbx-tab-heading" data-toggle="tab" data-target="#category-tab"> <span class="font-header-1" ng-bind="\'Label.Filter.Category\' | translate"></span> </a> </li> <li class="rbx-tab" ng-class="{ \'disabled\' : isCurrentCategoryRecommended() }"> <a ng-show="!isCurrentCategoryRecommended()" class="rbx-tab-heading" data-toggle="tab" data-target="#filter-tab"> <span class="font-header-1" ng-bind="\'Label.Filter.Filter\' | translate"></span> </a> <a ng-show="isCurrentCategoryRecommended()" class="rbx-tab-heading"> <span class="font-header-1" ng-bind="\'Label.Filter.Filter\' | translate"></span> </a> </li> <li class="rbx-tab" ng-class="{ \'disabled\' : isCurrentCategoryRecommended() }"> <a ng-show="!isCurrentCategoryRecommended()" class="rbx-tab-heading" data-toggle="tab" data-target="#sorting-tab"> <span class="font-header-1" ng-bind="\'Label.Filter.Sorting\' | translate"></span> </a> <a ng-show="isCurrentCategoryRecommended()" class="rbx-tab-heading"> <span class="font-header-1" ng-bind="\'Label.Filter.Sorting\' | translate"></span> </a> </li> </ul> <div class="tab-content rbx-tab-content"> <div id="category-tab" class="section-content tab-pane active"> <ul id="category-panel-group" class="panel-group"> <li ng-repeat="category in navigationMenu.categories" class="panel panel-default"> <a data-target="#mobile-category-{{ category.categoryId }}" class="panel-heading" ng-class="{\'font-bold\' : category.categoryId === currentQuery.category.categoryId}" ng-click="mobileCategoryClick(category)" data-toggle="collapse" data-parent="#category-panel-group" role="tab"> <span ng-show="category.categoryId === currentQuery.category.categoryId" class="icon-checkmark-blue selected-icon"></span> {{ category.name }} <span ng-show="category.categoryId === currentQuery.category.categoryId && currentQuery.subcategory.length > 0">({{currentQuery.subcategory.shortName\r\n                                    || currentQuery.subcategory.name}})</span> <span ng-if="category.subcategories.length > 0" class="icon-down-16x16 arrow-icon"></span> </a> <div id="mobile-category-{{ category.categoryId }}" class="panel-collapse collapse" accordion-menu data-toggle="collapsible-element" role="tabpanel"> <ul ng-if="category.subcategories"> <li ng-repeat="subcategory in category.subcategories" class="radio top-border"> <input type="radio" name="radio-category" id="mobile-radio-cat-{{ category.categoryId }}-{{ subcategory.subcategoryId }}" ng-model="currentQuery.subcategory" ng-value="subcategory" ng-click="mobileCategoryClick(category, true)"/> <label for="mobile-radio-cat-{{ category.categoryId }}-{{ subcategory.subcategoryId }}">{{\r\n                                            subcategory.name }}</label> </li> </ul> </div> </li> </ul> </div> <div id="filter-tab" class="tab-pane"> <h4 ng-if="data.currencyTypes" class="font-header-2" ng-bind="\'Label.Filter.Price\' | translate"> </h4> <div ng-if="data.currencyTypes" class="section-content"> <div price-filters></div> </div> <div ng-if="data.salesTypeFilters && data.salesTypeFilters.length > 0" class="filter-label font-header-2" ng-bind="\'Label.Filter.SalesType\' | translate"> </div> <div ng-if="data.salesTypeFilters && data.salesTypeFilters.length > 0" sales-type-filter></div> <div ng-if="categoryOptimizationEnabled && data.sortMenus.sortOptions && data.sortMenus.sortOptions.length > 0" class="filter-label font-header-2" ng-bind="\'Label.Filter.Sorts\' | translate"> </div> <div ng-if="categoryOptimizationEnabled && data.sortMenus.sortOptions && data.sortMenus.sortOptions.length > 0" sort-filter></div> <div ng-if="data.creators" class="font-header-2" ng-bind="\'Label.Filter.Creator\' | translate"></div> <div ng-if="data.creators" class="section-content"> <div creator-filters></div> </div> <div ng-if="data.genres && canShowGenreFilters()" ng-controller="genreFiltersController"> <div class="text-label" ng-bind="\'Label.Filter.Genre\' | translate"></div> <div class="section-content"> <div genre-filters></div> </div> </div> <div ng-if="showUnavailableFilter()" class="font-header-2" ng-bind="\'Label.Filter.UnavailableItems\' | translate"></div> <div ng-if="showUnavailableFilter()" class="section-content"> <div show-unavailable-filter></div> </div> </div> <div id="sorting-tab" class="tab-pane"> <div class="section-content"> <ul> <li ng-repeat="sort in navigationMenu.sortMenus.sortOptions" ng-hide="sort.isPriceRelated && data.currencyType && data.currencyType.excludePriceSorts" class="radio top-border"> <input type="radio" name="radio-sort" id="radio-sort-{{ sort.sortType }}" ng-model="data.sortType" ng-value="sort"/> <label for="radio-sort-{{ sort.sortType }}">{{ sort.name }}</label> </li> </ul> </div> <div ng-show="data.sortType.hasSubMenu"> <div class="text-label" ng-bind="\'Label.Filter.ByTime\' | translate"></div> <div class="section-content"> <ul> <li ng-repeat="sort in navigationMenu.sortMenus.sortAggregations" class="radio top-border"> <input type="radio" name="radio-sub-sort" id="radio-sub-sort-{{ sort.sortAggregation }}" ng-model="data.sortAggregation" ng-value="sort"/> <label for="radio-sub-sort-{{ sort.sortAggregation }}">{{ sort.name }}</label> </li> </ul> </div> </div> </div> </div> </div> <div class="button-container"> <button id="cancel-button" class="btn-control-lg" ng-click="toggleSearchOptions(false)" ng-bind="\'Action.Filter.Cancel\' | translate"></button> <button class="btn-primary-lg apply-button" ng-if="!layout.hasSearchOptionsError" ng-click="applyMobileSearch()" ng-bind="\'Action.Filter.Apply\' | translate"></button> </div> </form> </div>'},6904:function(e){e.exports='<ul ng-if="data.currencyTypes"> <li ng-repeat="currencyType in data.currencyTypes" class="radio top-border font-caption-body" ng-show="showCurrencyType(currencyType)"> <input type="radio" name="radio-price" id="radio-price-{{ currencyType.currencyType }}" ng-model="data.currencyType" ng-value="currencyType" ng-change="filterChanged()"/> <label ng-if="currencyType.currencyType !== library.robuxFilterId && currencyType.currencyType !== library.customRobuxFilterId" for="radio-price-{{ currencyType.currencyType }}"> {{ currencyType.name }} </label> <label for="radio-price-{{ currencyType.currencyType }}" class="has-input" ng-if="(currencyType.currencyType === library.robuxFilterId || currencyType.currencyType === library.customRobuxFilterId)"> <input class="form-control input-field input-number price-input font-caption-body" type="number" pattern="[0-9]*" min="0" name="minPrice" placeholder="{{ \'Label.Filter.PriceMin\' | translate }}" ng-model="data.minPrice" ng-focus="data.currencyType = currencyType"/> <input class="form-control input-field input-number price-input font-caption-body" type="number" pattern="[0-9]*" min="0" name="maxPrice" placeholder="{{ \'Label.Filter.PriceMax\' | translate }}" ng-model="data.maxPrice" ng-focus="data.currencyType = currencyType"/> <button class="btn-secondary-xs btn-update-filter" ng-disabled="data.currencyType.currencyType !== library.robuxFilterId && data.currencyType.currencyType !== library.customRobuxFilterId" ng-click="applySearch(true)" ng-bind="\'Action.Go\' | translate"></button> </label> </li> </ul>'},4526:function(e){e.exports='<ul> <li ng-repeat="salesType in data.salesTypeFilters" class="radio top-border font-caption-body"> <input type="radio" name="radio-sales-type" id="radio-sales-type-{{ salesType.filter }}" ng-value="salesType" ng-model="data.salesTypeFilter" ng-change="filterChanged()"/> <label for="radio-sales-type-{{ salesType.filter }}"> {{ salesType.name }} </label> </li> </ul> '},4801:function(e){e.exports='<div class="search-container" ng-class="{ \'search-container-categories\': !categoryOptimizationEnabled, \'search-container-no-categories\': categoryOptimizationEnabled, \'search-container-original\': !(isJustinUiChangesEnabled && justinUiChangesLeftSearchBar), \'search-container-layered-clothing-ui\': isJustinUiChangesEnabled && justinUiChangesLeftSearchBar}"> <div class="input-group"> <div id="search-bar-container" click-outside="onClickOutsideAutocomplete()"> <input id="avatar-shop-keyword-input" ng-class="{\'input-rounded\': categoryOptimizationEnabled}" class="form-control input-field search-input" placeholder="{{ \'Label.SearchField\' | translate }}" maxlength="50" ng-keypress="onKeywordKeypress($event, true)" ng-keydown="onKeywordKeydown($event)" ng-model="searchLayout.keyword" ng-change="keywordChanged()" ng-click="onKeywordInputClicked($event)" autocomplete="off" autocorrect="off" spellcheck="false" name="searchField" type="text"/> <span id="navbar-search-clear-btn" tabIndex="{0}" role="button" aria-label="Clear Search" class="clear-search icon-actions-clear-sm" ng-if="isAutocompleteEnabled && searchLayout.keyword.length > 0" ng-click="onKeywordClear($event)"> </span> <div class="autocomplete-dropdown-menu" ng-if="isAutocompleteEnabled" ng-class="{\'open\': searchLayout.keyword.length > 0 && autocompleteSuggestions.show}"> <ul id="autocomplete-list" class="dropdown-menu" role="menu" data-toggle="dropdown-menu"> <li id="autocomplete-suggestion-li-{{$index}}" ng-repeat="suggestion in autocompleteSuggestions.suggestions"> <a id="autocomplete-suggestion-{{$index}}" ng-click="onAutocompleteSuggestionClicked(suggestion.Query, $index)"> <span class="icon navbar-list-option-icon icon-search"> </span> <span> {{suggestion.Query}} </span> </a> </li> </ul> </div> </div> <div class="input-group-btn-category input-group-btn"> <button ng-if="!layout.hasSearchOptionsError" type="button" data-toggle="dropdown" class="input-dropdown-btn category-options" ng-disabled="disabled" aria-haspopup="true" aria-expanded="false" ng-show="!(isJustinUiChangesEnabled && justinUiChangesLeftSearchBar)"> <span class="text-overflow rbx-selection-label">{{ getCategoryDropdownValue() }}</span> <span class="icon-down-16x16"></span> </button> <ul class="dropdown-menu" data-toggle="dropdown-menu" role="menu" ng-show="!(isJustinUiChangesEnabled && justinUiChangesLeftSearchBar)"> <li ng-repeat="category in navigationMenu.categories | filter: isSearchableCategory | orderBy : \'orderIndex\'"> <a ng-click="updateCategory($event, true, false, category)">{{category.name}}</a> </li> </ul> <button class="input-addon-btn" type="submit" ng-click="applySearch(true)"> <span class="icon-search"></span> </button> </div> <div class="buy-btns-container"> <a ng-if="categoryOptimizationEnabled" class="btn-growth-md buy-robux" href="{{ library.buyRobuxUrl }}" target="_self" ng-click="buyRobuxButtonOnClickEvt()" ng-bind="\'Action.BuyRobux\' | translate"></a> <div ng-if="shoppingCartEnabled" id="shopping-cart-btn-entry" class="shopping-cart-btn-entry"></div> </div> </div> </div> '},640:function(e){e.exports='<div id="search-options" class="search-options" ng-controller="searchOptionsController"> <form name="forms.searchOptionsForm" class="border-right search-options-form" role="form" novalidate> <div class="section-content-off" ng-if="layout.hasSearchOptionsError" ng-bind="\'Response.GenericError\' | translate"> </div> <div ng-if="!layout.hasSearchOptionsError"> <div class="border-bottom category-section"> <h2 class="font-header-1 search-options-header" ng-bind="\'Heading.CatalogCategory\' | translate"></h2> <ul id="category-panel-group" class="panel-group"> <li ng-repeat="category in navigationMenu.categories" class="font-header-2 text-subheader panel panel-default"> <a id="expandable-menu-category-{{ category.categoryId }}" data-target="#category-{{ category.categoryId }}" class="small text menu-link text-link-secondary panel-heading" data-toggle="collapse" data-parent="#category-panel-group" role="tab" ng-class="{\'panel-heading-layered-clothing-ui\': isJustinUiChangesEnabled && justinUiChangesCategoryChange}"> <button ng-if="category.categoryId === library.allCategoriesId && !categoryOptimizationEnabled" class="category-view-all btn-text" ng-bind="\'Action.ViewAllItems\' | translate" ng-click="categoryClick($event, category)">View All Items</button> <button class="category-name btn-text" ng-if="category.categoryId !== library.allCategoriesId || categoryOptimizationEnabled" ng-click="categoryNameClick($event, category)">{{ category.name }}</button> <button ng-show="canToggleSubmenu(category)" class="toggle-submenu btn-text" ng-class="{ \'icon-plus\': !(isJustinUiChangesEnabled && justinUiChangesCategoryChange), \'icon-down\': isJustinUiChangesEnabled && justinUiChangesCategoryChange}" ng-click="categoryClick($event, category)"></button> </a> <div id="category-{{ category.categoryId }}" class="panel-collapse collapse" accordion-menu use-secondary-icons="true" data-toggle="collapsible-element" role="tabpanel" ng-attr-data-expanded-icon="{{isJustinUiChangesEnabled && justinUiChangesCategoryChange ? \'icon-up\' : \'icon-minus\'}}" ng-attr-data-collapsed-icon="{{isJustinUiChangesEnabled && justinUiChangesCategoryChange ? \'icon-down\' : \'icon-plus\'}}"> <ul ng-if="category.subcategories" class="subcategory-menu"> <li ng-repeat="subcategory in category.subcategories" class="top-border"> <button class="small text menu-link text-link-secondary btn-text" ng-class="{\'active\' : currentQuery.category.categoryId === category.categoryId && currentQuery.subcategory.subcategoryId == subcategory.subcategoryId}" ng-click="updateCategory($event, false, true, category, subcategory)"> {{ subcategory.name }} </button> </li> </ul> </div> </li> </ul> </div> <div ng-show="canShowFilters()"> <h2 class="font-header-1 search-options-header filters-header" ng-bind="\'Label.Filter.Filters\' | translate"> </h2> <div class="border-bottom filters-section"> <div ng-if="data.genres && canShowGenreFilters()" ng-controller="genreFiltersController" ng-show="!(isJustinUiChangesEnabled && justinUiChangesCategoryChange)" ng-if="{\'panel-heading-layered-clothing-ui\': isJustinUiChangesEnabled && justinUiChangesCategoryChange}"> <div class="font-header-2 filter-label" ng-bind="\'Label.Filter.Genre\' | translate"></div> <div genre-filters></div> </div> <div ng-if="data.salesTypeFilters && data.salesTypeFilters.length > 0" class="filter-label font-header-2" ng-bind="\'Label.Filter.SalesType\' | translate"> </div> <div ng-if="data.salesTypeFilters && data.salesTypeFilters.length > 0" sales-type-filter></div> <div ng-if="data.creators" class="filter-label font-header-2" ng-bind="\'Label.Filter.Creator\' | translate"> Creator </div> <div creator-filters></div> <div ng-if="data.currencyTypes" class="filter-label font-header-2" ng-bind="\'Label.Filter.Price\' | translate"> </div> <div price-filters></div> <div ng-if="categoryOptimizationEnabled && data.sortMenus.sortOptions && data.sortMenus.sortOptions.length > 0" class="filter-label font-header-2" ng-bind="\'Label.Filter.Sorts\' | translate"> </div> <div ng-if="categoryOptimizationEnabled && data.sortMenus.sortOptions && data.sortMenus.sortOptions.length > 0" sort-filter></div> <div id="genres" class="font-header-2 filter-label" ng-if="data.genres && canShowGenreFilters()" ng-controller="genreFiltersController" ng-show="isJustinUiChangesEnabled && justinUiChangesCategoryChange"> <a data-target="#genre-dropdown" data-toggle="collapse" data-parent="#genres" role="tab" class="panel-heading"> <span class="font-header-2 filter-label" ng-bind="\'Label.Filter.Genre\' | translate"></span> <span class="filter-expand-icon icon-down"></span> </a> <div id="genre-dropdown" class="panel-collapse collapse" accordion-menu use-secondary-icons="true" data-toggle="collapsible-element" role="tabpanel" data-expanded-icon="icon-up" data-collapsed-icon="icon-down"> <div genre-filters></div> </div> </div> <div class="font-header-2 filter-label" ng-bind="\'Label.Filter.UnavailableItems\' | translate"></div> <div show-unavailable-filter></div> </div> </div> </div> </form> </div>'},6083:function(e){e.exports='<ul class="hlist item-cards-stackable"> <li class="list-item item-card" ng-repeat="i in [] | range: getNumberItemToDisplay()"> <div class="item-card-container"> <div class="item-card-link"> <div class="item-card-thumb-container"> <div class="shimmer item-card-thumb-progressive-loading"></div> </div> </div> <ul class="item-card-caption-progressive-loading shimmer-lines"> <li class="placeholder shimmer-line"></li> <li class="placeholder shimmer-line"></li> <li class="placeholder shimmer-line"></li> </ul> </div> </li> </ul>'},4137:function(e){e.exports='<div id="search-options" class="search-options"> <ul class="search-options-progressive-loading shimmer-lines"> <li class="placeholder shimmer-line" ng-repeat="i in [] | range: 9"></li> </ul> </div> '},904:function(e){e.exports='<ul> <li class="radio top-border font-caption-body"> <input type="radio" name="radio-unavailable" id="radio-unavailable-hide" ng-value="false" ng-model="data.includeNotForSale" ng-change="filterChanged()"/> <label for="radio-unavailable-hide" ng-bind="\'Label.Filter.Hide\' | translate"></label> </li> <li class="radio top-border font-caption-body"> <input type="radio" name="radio-unavailable" id="radio-unavailable-show" ng-value="true" ng-model="data.includeNotForSale" ng-change="filterChanged()"/> <label for="radio-unavailable-show" ng-bind="\'Label.Filter.Show\' | translate"></label> </li> </ul>'},9326:function(e){e.exports='<ul> <li ng-repeat="sortOption in data.sortMenus.sortOptions" class="radio top-border font-caption-body"> <input type="radio" name="radio-sort-option" id="radio-sort-option-{{ sortOption.sortType }}" ng-value="sortOption" ng-model="data.sortType" ng-change="filterChanged()"/> <label for="radio-sort-option-{{ sortOption.sortType }}"> {{ sortOption.name }} </label> <ul ng-if="sortOption.hasSubMenu && data.sortType === sortOption"> <li ng-repeat="sortAggregation in data.sortMenus.sortAggregations" class="radio top-border font-caption-body"> <input type="radio" name="radio-sort-aggregation" id="radio-sort-aggregation-{{ sortAggregation.sortAggregation }}" ng-value="sortAggregation" ng-model="data.sortAggregation" ng-change="filterChanged()"/> <label for="radio-sort-aggregation-{{ sortAggregation.sortAggregation }}"> {{ sortAggregation.name }} </label> </li> </ul> </li> </ul> '},3527:function(e,t,a){"use strict";a.d(t,{_u:function(){return r},cs:function(){return n}});var r={assetRootUrlTemplate:"catalog",bundleRootUrlTemplate:"bundles"},n={bundle:"bundle",asset:"asset"};t.ZP={maxSelectedItems:10}},7124:function(e,t,a){"use strict";a.d(t,{LE:function(){return g},G0:function(){return p},Co:function(){return m},ex:function(){return y}});var r=a(792),n=a(4720),i=a(6174),o=a(2722),s=function(e,t,a,r){return new(a||(a=Promise))((function(n,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))},l=function(e,t){var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=2&i[0]?r.return:i[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},c=r.EnvironmentUrls.economyApi,u=[];function d(e){return void 0===e&&(e=[]),s(this,void 0,Promise,(function(){var t,a;return l(this,(function(n){switch(n.label){case 0:return t=e.map((function(e){return{id:e.itemId,itemType:e.itemType}})),[4,r.ItemDetailsHydrationService.getItemDetails(t,!1,!0)];case 1:return(a=n.sent())?[2,a.map(o.Fi)]:[2,[]]}}))}))}function g(e){return void 0===e&&(e=[]),s(this,void 0,Promise,(function(){var t,a;return l(this,(function(r){switch(r.label){case 0:return t={},(null==e?void 0:e.length)?(a=(0,o.Pc)(e),a[0],a[1],[4,d(e)]):[2,t];case 1:return r.sent().forEach((function(e){t[e.id]=e})),[2,t]}}))}))}function p(e){return s(this,void 0,Promise,(function(){var t,a,i,u,d,g,p,m;return l(this,(function(y){switch(y.label){case 0:return t={},e.items,e.itemDetails,a=(0,o.os)(e),i=a.limited1,u=a.limited2,i.length||u.length?i.length?[4,Promise.all(i.map((function(e){return function(e){var t;return s(this,void 0,Promise,(function(){var a,r;return l(this,(function(i){switch(i.label){case 0:return e?(a={url:c+"/v1/assets/"+e+"/resellers?cursor=&limit=100",withCredentials:!0},[4,n.httpService.get(a)]):[2,{itemId:e,resellers:[]}];case 1:return 200===(r=i.sent()).status&&(null===(t=r.data)||void 0===t?void 0:t.data)?[2,{itemId:e,resellers:r.data.data||[]}]:[2,{itemId:e,resellers:[]}]}}))}))}(e.itemId)})))]:[3,2]:[2,t];case 1:return g=y.sent(),[3,3];case 2:g=[],y.label=3;case 3:return d=g,u.length?[4,Promise.all(u.map((function(e){return function(e,t){var a;return s(this,void 0,Promise,(function(){var i,o;return l(this,(function(s){switch(s.label){case 0:return e&&t?[4,n.httpService.get({url:r.EnvironmentUrls.apiGatewayUrl+"/marketplace-sales/v1/item/"+t+"/resellers?limit=30",retryable:!0,withCredentials:!0})]:[2,{itemId:e,collectibleItemId:t,resellers:[]}];case 1:return i=s.sent(),o=((null===(a=i.data)||void 0===a?void 0:a.data)||[]).filter((function(e){var t,a;return(null===(a=null===(t=e.seller)||void 0===t?void 0:t.sellerId)||void 0===a?void 0:a.toString())!==r.CurrentUser.userId})),[2,{itemId:e,collectibleItemId:t,resellers:o}]}}))}))}(e.itemId,e.collectibleItemId)})))]:[3,5];case 4:return m=y.sent(),[3,6];case 5:m=[],y.label=6;case 6:return p=m,d.forEach((function(e){e.itemId&&(t[e.itemId]=e.resellers)})),p.forEach((function(e){e.itemId&&(t[e.itemId]=e.resellers)})),[2,t]}}))}))}function m(){var e,t;return s(this,void 0,Promise,(function(){var a,i;return l(this,(function(o){switch(o.label){case 0:return a={url:c+"/v1/users/"+r.CurrentUser.userId+"/currency",withCredentials:!0},[4,n.httpService.get(a)];case 1:return 200===(i=o.sent()).status?[2,null!==(t=null===(e=null==i?void 0:i.data)||void 0===e?void 0:e.robux)&&void 0!==t?t:null]:[2,null]}}))}))}var y=function(){var e={state:{items:[],selectedItems:{},totalPrice:null,currentUserBalance:null,resellers:{},itemDetails:{}}};function t(e){var t=function(e){var t="s_"+(0,o.TN)(8)+Date.now(),a={subscriptionId:t,handler:e};return u.push(a),{listeners:u,listener:a,subscriptionId:t}}(e);return{remove:function(){var e;e=t.subscriptionId,u=u.filter((function(t){var a=t.subscriptionId;return!(a&&a===e)}))}}}var a=function(t){return s(void 0,void 0,void 0,(function(){var a;return l(this,(function(r){switch(r.label){case 0:return[4,(0,i.ZP)(t)];case 1:return(a=r.sent())&&(e.state=a,n=a,u.forEach((function(e){e.subscriptionId;var t=e.handler;try{null==t||t(n)}catch(e){console.error("emitStateChange err:",e)}}))),[2]}var n}))}))};return function(){return{getCartState:o.rW,onCartStateChange:t,dispatch:a,getLatestCachedState:function(){return e.state}}}}()},3119:function(e,t,a){"use strict";a.d(t,{O$:function(){return l},K6:function(){return c}});var r=a(792),n=a(4720),i=a(9849),o=new r.TranslationResourceProvider,s={featureCatalog:o.getTranslationResource(i.ip.feature),featureItem:o.getTranslationResource(i.SW.feature),featureItemModel:o.getTranslationResource(i.lj.feature)},l={actionSeeMoreReseller:function(){return s.featureCatalog.get("Action.SeeMoreReseller",{linkStart:'<a href="#resellers" class="text-link">',resellerLink:s.featureCatalog.get("Heading.Resellers",{}),linkEnd:"</a>"})},actionBuy:function(){return s.featureCatalog.get("Action.Buy",{})},labelCategoryType:function(){return s.featureCatalog.get("Label.CategoryType",{})},labelTags:function(){return s.featureCatalog.get("Label.Tags",{})},labelSalesType:function(){return s.featureCatalog.get("Label.Filter.SalesType",{})},labelCollectibles:function(){return s.featureCatalog.get("LabelCollectibles",{})},messageCollectiblesInfo:function(){return s.featureCatalog.get("Message.CollectiblesInfo",{})},labelNewCollectibles:function(){return s.featureCatalog.get("Label.NewCollectibles",{})},labelByCreatorLink:function(e){return s.featureCatalog.get("Label.ByCreatorLink",e)},labelTradable:function(){return s.featureCatalog.get("Label.Tradable",{})},labelDescription:function(){return s.featureCatalog.get("Label.Description",{})},labelNotAvailable:function(){return s.featureCatalog.get("Label.NotAvailable",{})},labelNoResellers:function(){return s.featureCatalog.get("LabelNoResellers",{})},actionAddToCart:function(){return s.featureCatalog.get("Action.AddToCart",{})},actionRemoveFromCart:function(){return s.featureCatalog.get("Action.RemoveFromCart",{})},headingItemAddedToCart:function(e){return s.featureCatalog.get("Heading.ItemAddedToCart",e)},headingItemRemovedFromCart:function(e){return s.featureCatalog.get("Heading.ItemRemovedFromCart",e)},labelTotalUnformatted:function(){return s.featureCatalog.get("Label.TotalUnformatted",{})},messageRemainingBalance:function(e){return s.featureCatalog.get("Message.RemainingBalance",e)},messageInsufficientFundsForTransaction:function(){return s.featureCatalog.get("Message.InsufficientFundsForTransaction",{})},labelShoppingCart:function(){return s.featureCatalog.get("Label.ShoppingCart",{})},labelTotalItems:function(e){return s.featureCatalog.get("Label.TotalItems",e)},messagePurchaseLimit:function(e){return s.featureCatalog.get("Message.PurchaseLimit",e)}},c={labelShowLess:function(){return s.featureItem.get("Label.ShowLess",{})},labelReadMore:function(){return s.featureItem.get("Label.ReadMore",{})},labelFree:function(){return s.featureItem.get("Label.Free",{})},actionGetPremium:function(){return s.featureItem.get("Action.GetPremium",{})},actionBuy:function(){return s.featureItem.get("Action.Buy",{})},labelPremiumDiscountSavings:function(e,t){var a='<span class="discount-savings-original-price"><span class="icon-robux-16x16"></span>'+n.numberFormat.getNumberFormat(t)+"</span>";return s.featureItem.get("Label.PremiumDiscountSavings",{discountPercentage:n.numberFormat.getNumberFormat(e),originalPrice:a})},labelPremiumDiscountOpportunityPrompt:function(e){var t='<span class="discount-savings-original-price"><span class="icon-robux-16x16"></span>'+n.numberFormat.getNumberFormat(e)+"</span>";return s.featureItem.get("Label.PremiumDiscountOpportunityPrompt",{premiumDiscountedPrice:t})},labelBestPrice:function(){return s.featureItem.get("Label.BestPrice",{})},labelPrice:function(){return s.featureItem.get("Label.Price",{})},actionYes:function(){return s.featureItem.get("Action.Yes",{})},actionNo:function(){return s.featureItem.get("Action.No",{})},actionInventory:function(){return s.featureItem.get("Action.Inventory",{})},labelItemNotForSale:function(){return s.featureItem.get("Label.ItemNotForSale",{})}}},9849:function(e,t,a){"use strict";a.d(t,{ip:function(){return r},SW:function(){return n},lj:function(){return i}});var r={common:[""],feature:"Feature.Catalog"},n={common:[""],feature:"Feature.Item"},i={common:[""],feature:"Feature.ItemModel"}},6174:function(e,t,a){"use strict";a.d(t,{mP:function(){return d},ZP:function(){return y}});var r,n=a(2722),i=a(7124),o=a(3119),s=function(){return(s=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},l=function(e,t,a,r){return new(a||(a=Promise))((function(n,i){function o(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))},c=function(e,t){var a,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=2&i[0]?r.return:i[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{a=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=function(e,t){for(var a=0,r=t.length,n=e.length;a<r;a++,n++)e[n]=t[a];return e},d=function(e){r=e};function g(e){var t;return l(this,void 0,Promise,(function(){var a,l,d,g,p,m;return c(this,(function(c){switch(c.label){case 0:return a=(0,n.rW)(),(null==e?void 0:e.item)?(null===(t=a.items)||void 0===t?void 0:t.find((function(t){return t.itemId&&t.itemId===e.item.itemId})))?[2,a]:(l={itemId:e.item.itemId,itemType:e.item.itemType,itemName:e.item.itemName,collectibleItemId:e.item.collectibleItemId,addedToCardAt:Date.now()},[4,(0,i.LE)([l])]):[2,a];case 1:return d=c.sent(),(g=a.itemDetails)[l.itemId]=d[l.itemId],p=a.selectedItems,e.autoSelectItem&&(p[""+e.item.itemType.toLowerCase()+e.item.itemId]=!0),m=(0,n.iO)(s(s({},a),{itemDetails:g,items:u(u([],a.items),[l]),selectedItems:p})),(0,n.F5)(m),e.displaySystemFeedback&&void 0!==r&&r.success(o.O$.headingItemAddedToCart({itemName:l.itemName?l.itemName:""}),0,2e3),[2,m]}}))}))}function p(e){var t,a,i,l=null===(t=null==e?void 0:e.item)||void 0===t?void 0:t.itemId,c=null===(a=null==e?void 0:e.item)||void 0===a?void 0:a.itemType,u=(0,n.rW)(),d="";if(!l)return u;var g=null===(i=(null==u?void 0:u.items)||[])||void 0===i?void 0:i.filter((function(e){return!e.itemId||e.itemId!==l||!e.itemType||e.itemType!==c||(e,d=e.itemName?e.itemName:"",!1)})),p=u.selectedItems,m=u.resellers;delete p[""+c.toLowerCase()+l],delete m[l];var y=(0,n.iO)(s(s({},u),{selectedItems:s({},p),resellers:s({},m),items:g}));return(0,n.F5)(y),e.displaySystemFeedback&&void 0!==r&&r.success(o.O$.headingItemRemovedFromCart({itemName:d}),0,2e3),y}function m(){var e;return l(this,void 0,Promise,(function(){var t,a,r,o,l,u,d,g,p;return c(this,(function(c){switch(c.label){case 0:t=(0,n.rW)(),c.label=1;case 1:return c.trys.push([1,6,,7]),(a={items:t.items,selectedItems:t.selectedItems,totalPrice:t.totalPrice,currentUserBalance:t.currentUserBalance,resellers:t.resellers,itemDetails:t.itemDetails}).items||(a.items=[]),(null===(e=a.items)||void 0===e?void 0:e.length)?[4,(0,i.LE)(a.items)]:[3,4];case 2:return r=c.sent(),a.items=a.items.map((function(e){var t=null==r?void 0:r[e.itemId];return t?s(s({},e),{itemName:t.name,collectibleItemId:t.collectibleItemId||null}):e})),Object.keys(r).length&&(a.itemDetails=s(s({},a.itemDetails),r)),[4,(0,i.G0)(a)];case 3:o=c.sent(),Object.keys(o).length&&(a.resellers=s(s({},a.resellers),o)),c.label=4;case 4:return l=a.items.map((function(e){return e.itemId.toString()})),u=Object.keys(a.itemDetails),d=Object.keys(a.resellers),l.length!==u.length&&u.forEach((function(e){l.includes(e)||delete a.itemDetails[e]})),l.length!==d.length&&d.forEach((function(e){l.includes(e)||delete a.resellers[e]})),[4,(0,i.Co)()];case 5:return g=c.sent(),a.currentUserBalance=g,p=(0,n.iO)(a),(0,n.F5)(p),[2,p];case 6:return c.sent(),[2,t];case 7:return[2]}}))}))}function y(e){return l(this,void 0,Promise,(function(){return c(this,(function(t){return(null==e?void 0:e.type)?"ADD_ITEM"===e.type?[2,g(e)]:"REMOVE_ITEM"===e.type?[2,p(e)]:"REFRESH_CART"===e.type?[2,m()]:[2,console.error('reducer action unknown a "type" property',e)]:[2,console.error('reducer action missing a "type" property',e)]}))}))}},7904:function(e,t,a){"use strict";a.d(t,{uR:function(){return i},ly:function(){return o},ex:function(){return s}});var r=a(2722),n=function(){return(n=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},i=function(e,t,a){return{type:"ADD_ITEM",item:(0,r.EI)(e),autoSelectItem:t,displaySystemFeedback:a}},o=function(e,t){var a,r,i;return{type:"REMOVE_ITEM",item:n(n({},e),{itemId:null!==(r=null!==(a=e.itemId)&&void 0!==a?a:e.id)&&void 0!==r?r:null===(i=null==e?void 0:e.item)||void 0===i?void 0:i.id}),displaySystemFeedback:t}},s=function(){return{type:"REFRESH_CART"}}},2722:function(e,t,a){"use strict";a.d(t,{TN:function(){return u},rW:function(){return g},F5:function(){return p},jD:function(){return m},iO:function(){return y},gg:function(){return f},EI:function(){return b},Fi:function(){return h},Pc:function(){return v},os:function(){return S},YK:function(){return I},vp:function(){return T}});var r,n=a(792),i=a(292),o=a(4720),s=a(3527),l=function(){return(l=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},c=function(e,t){for(var a=0,r=t.length,n=e.length;a<r;a++,n++)e[n]=t[a];return e},u=(r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",function(e){void 0===e&&(e=12);for(var t="",a=0;a<e;a++)t+=r.charAt(Math.floor(Math.random()*r.length));return t});function d(){return"Roblox.AvatarMarketplace.Cart:"+(n.CurrentUser.isAuthenticated&&n.CurrentUser.userId||"")}function g(){var e=d();return l({totalPrice:null,currentUserBalance:null,items:[],selectedItems:{},resellers:{},purchaseParams:{},itemDetails:{}},i.localStorageService.getLocalStorage(e))}function p(e){var t=d();i.localStorageService.setLocalStorage(t,e)}function m(e){var t,a,r=e.lowestPrice;return n.CurrentUser.isPremiumUser&&void 0!==e.premiumPricing&&void 0!==(null===(t=e.premiumPricing)||void 0===t?void 0:t.premiumPriceInRobux)?r=null===(a=e.premiumPricing)||void 0===a?void 0:a.premiumPriceInRobux:void 0===r&&(r=e.price),r||0}function y(e){var t=e.items,a=e.itemDetails,r=t.reduce((function(e,t){var r=a[t.itemId];if(void 0===r)return e;var n=m(r);return n<0&&(n=0),e+(n||0)}),0);return l(l({},e),{totalPrice:r})}function f(e,t){var a=e.itemDetails;return t.reduce((function(e,t){if(void 0===a[t.itemId])return e;var r=m(a[t.itemId]);return r<0&&(r=0),e+(r||0)}),0)}function b(e){var t;return l(l({},e),{itemId:e.itemId||e.id||e.itemTargetId,itemName:null!==(t=e.name)&&void 0!==t?t:e.itemName})}function h(e){return l(l({},e),{creatorType:"Group"===e.creatorType?"Group":"User",itemType:"Bundle"===e.itemType?"Bundle":"Asset",price:void 0===e.price?-1:e.price,bundledItems:[]})}function v(e){void 0===e&&(e=[]);return e.reduce((function(e,t){var a=e[0],r=e[1];return t.collectibleItemId?[a,c(c([],r),[t])]:[c(c([],a),[t]),r]}),[[],[]])}function S(e){var t=e.items,a=e.itemDetails;return t.reduce((function(e,t){var r=e.limited1,n=e.limited2,i=a[t.itemId],o=t.collectibleItemId||i.collectibleItemId;if(o){var s=l(l({},t),{collectibleItemId:o});return{limited1:r,limited2:c(c([],n),[s])}}return(null==i?void 0:i.itemRestrictions.includes("Limited"))||(null==i?void 0:i.itemRestrictions.includes("LimitedUnique"))?{limited1:c(c([],r),[t]),limited2:n}:{limited1:r,limited2:n}}),{limited1:[],limited2:[]})}function C(e,t){var a,r=document.querySelectorAll(t);if(null==r?void 0:r.length)for(var n=0;n<r.length;n++){var i=r[n];if(null===(a=i.contains)||void 0===a?void 0:a.call(i,e))return!0}return!1}function I(e){return C(e,".shopping-cart-btn")||C(e,".modal-backdrop.in")||C(e,".in.modal")||C(e,".add-to-cart-btn-container")}var T=function(e,t,a){var r=s._u.assetRootUrlTemplate;return function(e){return e.toLowerCase().includes(s.cs.bundle)}(a)&&(r=s._u.bundleRootUrlTemplate),n.EnvironmentUrls.websiteUrl+"/"+r+"/"+e+"/"+o.seoName.formatSeoName(t)}},990:function(e){e.exports="../181357c91bc2235e4ab4d3027aebf1f2-TopUpChest.png"},7723:function(e){e.exports="../2d611259a987824e8e1a6b2a9363dd27-TopUpGiftCardBackDec.png"},9127:function(e){e.exports="../b9a4639670c8c1cd0683ccbc13484618-TopUpGiftCardFrontDec.png"},292:function(e){"use strict";e.exports=CoreRobloxUtilities},4720:function(e){"use strict";e.exports=CoreUtilities},792:function(e){"use strict";e.exports=Roblox},5734:function(e){"use strict";e.exports=angular}},t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={exports:{}};return e[r](n,n.exports,a),n.exports}a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e=a(5734),t=a.n(e),r=a(3544),n=a(9597);(0,r.importFilesUnderPath)(a(6811)),(0,r.importFilesUnderPath)(a(2002)),(0,r.importFilesUnderPath)(a(7481)),(0,r.importFilesUnderPath)(a(6811)),(0,r.importFilesUnderPath)(a(7344)),(0,r.importFilesUnderPath)(a(9630));var i=a(3634),o=a(3634),s=(0,r.templateCacheGenerator)(t(),"catalogPageTemplates",i,o);t().element((function(){t().bootstrap("#catalog-container",[n.Z.name,s.name])}))}()}();
//# sourceMappingURL=https://js.rbxcdn.com/a189b637901dae018523ed6f5f1a9181-catalog.bundle.min.js.map

!function(){"use strict";var e,t={n:function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n},d:function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},n=React,r=t.n(n),i=(ReactDOM,ReactStyleGuide),a=RobloxThumbnails,l=CoreUtilities,o=RobloxItemPurchase,c=Roblox,s=CoreRobloxUtilities,u="catalog",m="bundles",d="bundle",f={maxSelectedItems:10},v=function(){return(v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},p=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},h=(e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",function(t){void 0===t&&(t=12);for(var n="",r=0;r<t;r++)n+=e.charAt(Math.floor(Math.random()*e.length));return n});function b(){return"Roblox.AvatarMarketplace.Cart:"+(c.CurrentUser.isAuthenticated&&c.CurrentUser.userId||"")}function g(){var e=b();return v({totalPrice:null,currentUserBalance:null,items:[],selectedItems:{},resellers:{},purchaseParams:{},itemDetails:{}},s.localStorageService.getLocalStorage(e))}function I(e){var t=b();s.localStorageService.setLocalStorage(t,e)}function y(e){var t,n,r=e.lowestPrice;return c.CurrentUser.isPremiumUser&&void 0!==e.premiumPricing&&void 0!==(null===(t=e.premiumPricing)||void 0===t?void 0:t.premiumPriceInRobux)?r=null===(n=e.premiumPricing)||void 0===n?void 0:n.premiumPriceInRobux:void 0===r&&(r=e.price),r||0}function E(e){var t=e.items,n=e.itemDetails,r=t.reduce((function(e,t){var r=n[t.itemId];if(void 0===r)return e;var i=y(r);return i<0&&(i=0),e+(i||0)}),0);return v(v({},e),{totalPrice:r})}function w(e,t){var n=e.itemDetails;return t.reduce((function(e,t){if(void 0===n[t.itemId])return e;var r=y(n[t.itemId]);return r<0&&(r=0),e+(r||0)}),0)}function C(e){return v(v({},e),{creatorType:"Group"===e.creatorType?"Group":"User",itemType:"Bundle"===e.itemType?"Bundle":"Asset",price:void 0===e.price?-1:e.price,bundledItems:[]})}function S(e,t){var n,r=document.querySelectorAll(t);if(null==r?void 0:r.length)for(var i=0;i<r.length;i++){var a=r[i];if(null===(n=a.contains)||void 0===n?void 0:n.call(a,e))return!0}return!1}var N,x=function(e,t,n){var r=u;return function(e){return e.toLowerCase().includes(d)}(n)&&(r=m),c.EnvironmentUrls.websiteUrl+"/"+r+"/"+e+"/"+l.seoName.formatSeoName(t)},T={common:[""],feature:"Feature.Catalog"},k=new c.TranslationResourceProvider,P={featureCatalog:k.getTranslationResource(T.feature),featureItem:k.getTranslationResource("Feature.Item"),featureItemModel:k.getTranslationResource("Feature.ItemModel")},R=function(){return P.featureCatalog.get("Action.Buy",{})},U=function(){return P.featureCatalog.get("LabelNoResellers",{})},A=function(){return P.featureCatalog.get("Action.AddToCart",{})},F=function(){return P.featureCatalog.get("Action.RemoveFromCart",{})},O=function(e){return P.featureCatalog.get("Heading.ItemAddedToCart",e)},D=function(e){return P.featureCatalog.get("Heading.ItemRemovedFromCart",e)},L=function(e){return P.featureCatalog.get("Message.RemainingBalance",e)},M=function(){return P.featureCatalog.get("Message.InsufficientFundsForTransaction",{})},B=function(){return P.featureCatalog.get("Label.ShoppingCart",{})},H=function(e){return P.featureCatalog.get("Label.TotalItems",e)},j=function(e){return P.featureCatalog.get("Message.PurchaseLimit",e)},_=function(){return P.featureItem.get("Label.Free",{})},G=function(){return P.featureItem.get("Label.ItemNotForSale",{})},V=function(){return(V=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},z=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function l(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}c((r=r.apply(e,t||[])).next())}))},q=function(e,t){var n,r,i,a,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(i=l.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){l.label=a[1];break}if(6===a[0]&&l.label<i[1]){l.label=i[1],i=a;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(a);break}i[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},J=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};function K(e){var t;return z(this,void 0,Promise,(function(){var n,r,i,a,l,o;return q(this,(function(c){switch(c.label){case 0:return n=g(),(null==e?void 0:e.item)?(null===(t=n.items)||void 0===t?void 0:t.find((function(t){return t.itemId&&t.itemId===e.item.itemId})))?[2,n]:[4,ne([r={itemId:e.item.itemId,itemType:e.item.itemType,itemName:e.item.itemName,collectibleItemId:e.item.collectibleItemId,addedToCardAt:Date.now()}])]:[2,n];case 1:return i=c.sent(),(a=n.itemDetails)[r.itemId]=i[r.itemId],l=n.selectedItems,e.autoSelectItem&&(l[""+e.item.itemType.toLowerCase()+e.item.itemId]=!0),I(o=E(V(V({},n),{itemDetails:a,items:J(J([],n.items),[r]),selectedItems:l}))),e.displaySystemFeedback&&void 0!==N&&N.success(O({itemName:r.itemName?r.itemName:""}),0,2e3),[2,o]}}))}))}function Q(e){var t,n,r,i=null===(t=null==e?void 0:e.item)||void 0===t?void 0:t.itemId,a=null===(n=null==e?void 0:e.item)||void 0===n?void 0:n.itemType,l=g(),o="";if(!i)return l;var c=null===(r=(null==l?void 0:l.items)||[])||void 0===r?void 0:r.filter((function(e){return!e.itemId||e.itemId!==i||!e.itemType||e.itemType!==a||(e,o=e.itemName?e.itemName:"",!1)})),s=l.selectedItems,u=l.resellers;delete s[""+a.toLowerCase()+i],delete u[i];var m=E(V(V({},l),{selectedItems:V({},s),resellers:V({},u),items:c}));return I(m),e.displaySystemFeedback&&void 0!==N&&N.success(D({itemName:o}),0,2e3),m}function W(){var e;return z(this,void 0,Promise,(function(){var t,n,r,i,a,l,o,c,s;return q(this,(function(u){switch(u.label){case 0:t=g(),u.label=1;case 1:return u.trys.push([1,6,,7]),(n={items:t.items,selectedItems:t.selectedItems,totalPrice:t.totalPrice,currentUserBalance:t.currentUserBalance,resellers:t.resellers,itemDetails:t.itemDetails}).items||(n.items=[]),(null===(e=n.items)||void 0===e?void 0:e.length)?[4,ne(n.items)]:[3,4];case 2:return r=u.sent(),n.items=n.items.map((function(e){var t=null==r?void 0:r[e.itemId];return t?V(V({},e),{itemName:t.name,collectibleItemId:t.collectibleItemId||null}):e})),Object.keys(r).length&&(n.itemDetails=V(V({},n.itemDetails),r)),[4,re(n)];case 3:i=u.sent(),Object.keys(i).length&&(n.resellers=V(V({},n.resellers),i)),u.label=4;case 4:return a=n.items.map((function(e){return e.itemId.toString()})),l=Object.keys(n.itemDetails),o=Object.keys(n.resellers),a.length!==l.length&&l.forEach((function(e){a.includes(e)||delete n.itemDetails[e]})),a.length!==o.length&&o.forEach((function(e){a.includes(e)||delete n.resellers[e]})),[4,ie()];case 5:return c=u.sent(),n.currentUserBalance=c,I(s=E(n)),[2,s];case 6:return u.sent(),[2,t];case 7:return[2]}}))}))}function X(e){return z(this,void 0,Promise,(function(){return q(this,(function(t){return(null==e?void 0:e.type)?"ADD_ITEM"===e.type?[2,K(e)]:"REMOVE_ITEM"===e.type?[2,Q(e)]:"REFRESH_CART"===e.type?[2,W()]:[2,console.error('reducer action unknown a "type" property',e)]:[2,console.error('reducer action missing a "type" property',e)]}))}))}var Y=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function l(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}c((r=r.apply(e,t||[])).next())}))},Z=function(e,t){var n,r,i,a,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(i=l.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){l.label=a[1];break}if(6===a[0]&&l.label<i[1]){l.label=i[1],i=a;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(a);break}i[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},$=c.EnvironmentUrls.economyApi,ee=[];function te(e){return void 0===e&&(e=[]),Y(this,void 0,Promise,(function(){var t,n;return Z(this,(function(r){switch(r.label){case 0:return t=e.map((function(e){return{id:e.itemId,itemType:e.itemType}})),[4,c.ItemDetailsHydrationService.getItemDetails(t,!1,!0)];case 1:return(n=r.sent())?[2,n.map(C)]:[2,[]]}}))}))}function ne(e){return void 0===e&&(e=[]),Y(this,void 0,Promise,(function(){var t,n;return Z(this,(function(r){switch(r.label){case 0:return t={},(null==e?void 0:e.length)?(n=function(e){return void 0===e&&(e=[]),e.reduce((function(e,t){var n=e[0],r=e[1];return t.collectibleItemId?[n,p(p([],r),[t])]:[p(p([],n),[t]),r]}),[[],[]])}(e),n[0],n[1],[4,te(e)]):[2,t];case 1:return r.sent().forEach((function(e){t[e.id]=e})),[2,t]}}))}))}function re(e){return Y(this,void 0,Promise,(function(){var t,n,r,i,a,o,s,u;return Z(this,(function(m){switch(m.label){case 0:return t={},e.items,e.itemDetails,n=function(e){var t=e.items,n=e.itemDetails;return t.reduce((function(e,t){var r=e.limited1,i=e.limited2,a=n[t.itemId],l=t.collectibleItemId||a.collectibleItemId;if(l){var o=v(v({},t),{collectibleItemId:l});return{limited1:r,limited2:p(p([],i),[o])}}return(null==a?void 0:a.itemRestrictions.includes("Limited"))||(null==a?void 0:a.itemRestrictions.includes("LimitedUnique"))?{limited1:p(p([],r),[t]),limited2:i}:{limited1:r,limited2:i}}),{limited1:[],limited2:[]})}(e),r=n.limited1,i=n.limited2,r.length||i.length?r.length?[4,Promise.all(r.map((function(e){return function(e){var t;return Y(this,void 0,Promise,(function(){var n,r;return Z(this,(function(i){switch(i.label){case 0:return e?(n={url:$+"/v1/assets/"+e+"/resellers?cursor=&limit=100",withCredentials:!0},[4,l.httpService.get(n)]):[2,{itemId:e,resellers:[]}];case 1:return 200===(r=i.sent()).status&&(null===(t=r.data)||void 0===t?void 0:t.data)?[2,{itemId:e,resellers:r.data.data||[]}]:[2,{itemId:e,resellers:[]}]}}))}))}(e.itemId)})))]:[3,2]:[2,t];case 1:return o=m.sent(),[3,3];case 2:o=[],m.label=3;case 3:return a=o,i.length?[4,Promise.all(i.map((function(e){return function(e,t){var n;return Y(this,void 0,Promise,(function(){var r,i;return Z(this,(function(a){switch(a.label){case 0:return e&&t?[4,l.httpService.get({url:c.EnvironmentUrls.apiGatewayUrl+"/marketplace-sales/v1/item/"+t+"/resellers?limit=30",retryable:!0,withCredentials:!0})]:[2,{itemId:e,collectibleItemId:t,resellers:[]}];case 1:return r=a.sent(),i=((null===(n=r.data)||void 0===n?void 0:n.data)||[]).filter((function(e){var t,n;return(null===(n=null===(t=e.seller)||void 0===t?void 0:t.sellerId)||void 0===n?void 0:n.toString())!==c.CurrentUser.userId})),[2,{itemId:e,collectibleItemId:t,resellers:i}]}}))}))}(e.itemId,e.collectibleItemId)})))]:[3,5];case 4:return u=m.sent(),[3,6];case 5:u=[],m.label=6;case 6:return s=u,a.forEach((function(e){e.itemId&&(t[e.itemId]=e.resellers)})),s.forEach((function(e){e.itemId&&(t[e.itemId]=e.resellers)})),[2,t]}}))}))}function ie(){var e,t;return Y(this,void 0,Promise,(function(){var n,r;return Z(this,(function(i){switch(i.label){case 0:return n={url:$+"/v1/users/"+c.CurrentUser.userId+"/currency",withCredentials:!0},[4,l.httpService.get(n)];case 1:return 200===(r=i.sent()).status?[2,null!==(t=null===(e=null==r?void 0:r.data)||void 0===e?void 0:e.robux)&&void 0!==t?t:null]:[2,null]}}))}))}var ae=function(){var e={state:{items:[],selectedItems:{},totalPrice:null,currentUserBalance:null,resellers:{},itemDetails:{}}};function t(e){var t=function(e){var t="s_"+h(8)+Date.now(),n={subscriptionId:t,handler:e};return ee.push(n),{listeners:ee,listener:n,subscriptionId:t}}(e);return{remove:function(){var e;e=t.subscriptionId,ee=ee.filter((function(t){var n=t.subscriptionId;return!(n&&n===e)}))}}}var n=function(t){return Y(void 0,void 0,void 0,(function(){var n;return Z(this,(function(r){switch(r.label){case 0:return[4,X(t)];case 1:return(n=r.sent())&&(e.state=n,i=n,ee.forEach((function(e){e.subscriptionId;var t=e.handler;try{null==t||t(i)}catch(e){console.error("emitStateChange err:",e)}}))),[2]}var i}))}))};return function(){return{getCartState:g,onCartStateChange:t,dispatch:n,getLatestCachedState:function(){return e.state}}}}(),le=function(){return(le=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},oe=function(e,t){var n,r,i;return{type:"REMOVE_ITEM",item:le(le({},e),{itemId:null!==(r=null!==(n=e.itemId)&&void 0!==n?n:e.id)&&void 0!==r?r:null===(i=null==e?void 0:e.item)||void 0===i?void 0:i.id}),displaySystemFeedback:t}},ce=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function l(e){try{c(r.next(e))}catch(e){a(e)}}function o(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,o)}c((r=r.apply(e,t||[])).next())}))},se=function(e,t){var n,r,i,a,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,r=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!(i=l.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){l.label=a[1];break}if(6===a[0]&&l.label<i[1]){l.label=i[1],i=a;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(a);break}i[2]&&l.ops.pop(),l.trys.pop();continue}a=t.call(e,l)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},ue=ae(),me=ue.getCartState,de=ue.onCartStateChange,fe=ue.dispatch,ve=ue.getLatestCachedState;function pe(){var e=this,t=(0,n.useState)(ve()),r=t[0],i=t[1],a=r.items.map((function(e){return e.itemId})).sort();(0,n.useEffect)((function(){var e=me();i(e),fe({type:"REFRESH_CART"}).catch((function(){console.error("could not refresh cart state")}))}),[]),(0,n.useEffect)((function(){var e=de((function(e){return i(e)}));return function(){var t;return null===(t=null==e?void 0:e.remove)||void 0===t?void 0:t.call(e)}}),[]);var l=(0,n.useCallback)((function(e){return a.includes(e)}),[JSON.stringify(a)]);return{dispatch:fe,cart:r,isItemInCart:l,addItemToCart:function(t,n,r){return ce(e,void 0,void 0,(function(){return se(this,(function(e){switch(e.label){case 0:return[4,fe({type:"ADD_ITEM",item:t,autoSelectItem:n,displaySystemFeedback:r})];case 1:return e.sent(),[2,fe({type:"REFRESH_CART"})]}}))}))},removeItemFromCart:function(t,n,r){return ce(e,void 0,void 0,(function(){return se(this,(function(e){switch(e.label){case 0:return[4,fe({type:"REMOVE_ITEM",item:{itemId:t,itemType:n},displaySystemFeedback:r})];case 1:return e.sent(),[2,fe({type:"REFRESH_CART"})]}}))}))}}}var he=function(){return(he=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},be=a.Thumbnail2d,ge=a.DefaultThumbnailSize,Ie=a.ThumbnailTypes,ye=a.ThumbnailFormat;function Ee(e){e.item;var t=e.itemDetails,n=y(t);if(void 0!==t.collectibleItemId){var i="ShopAndAllExperiences"===t.saleLocationType,a=t.hasResellers;if(!i&&!a)return r().createElement("div",{className:"item-price"},r().createElement("span",{className:"price-text text-alert"},G()))}if("number"==typeof n&&n>0)return r().createElement("div",{className:"item-price"},r().createElement("span",{className:"icon-robux-16x16"}),r().createElement("span",{className:"price-text text"},l.numberFormat.getNumberFormat(n)));if("number"==typeof n&&n<0)return r().createElement("div",{className:"item-price"},r().createElement("span",{className:"price-text text"},t.priceStatus));if("number"==typeof n&&0===n)return r().createElement("div",{className:"item-price"},r().createElement("span",{className:"price-text text"},_()));var o=((null==t?void 0:t.itemRestrictions)||[]).some((function(e){return"Limited"===e||"LimitedUnique"===e||"Collectible"===e}));if(o){if(o&&!!(null==t?void 0:t.lowestPrice)&&"number"!=typeof(null==t?void 0:t.lowestPrice))return r().createElement("div",{className:"item-price"},r().createElement("span",{className:"price-text text-alert"},U()))}else if("number"!=typeof n)return r().createElement("div",{className:"item-price"},r().createElement("span",{className:"price-text text-alert"},G()));return r().createElement("div",{className:"item-price"},r().createElement("span",{className:"price-text"}))}function we(e){var t,n=e.item,i=e.itemDetails,a=e.dispatch,l=e.onCheckboxClicked,o=e.selectedItemsRecord,c=(null==i?void 0:i.name)||n.itemName,s=null==i?void 0:i.creatorName;return r().createElement("div",{className:"cart-item-container"},r().createElement("div",{className:"cart-item"},r().createElement("div",{className:"thumbnail-container",onClick:function(){return l(n)},"aria-hidden":"true"},r().createElement(be,{type:"bundle"===(null===(t=n.itemType)||void 0===t?void 0:t.toLowerCase())?Ie.bundleThumbnail:Ie.assetThumbnail,size:ge,targetId:n.itemId,containerClass:"cart-item-thumb",format:ye.png,altName:(c||"Cart Item")+(s?" by "+s:"")})),r().createElement("div",{className:"checkbox purchase-checkbox-container"},r().createElement("input",{className:"input-checkbox",id:"checkbox-"+n.itemId,type:"checkbox",checked:o[""+n.itemType.toLowerCase()+n.itemId],onChange:function(){l(n)},disabled:!1}),r().createElement("label",{htmlFor:"checkbox-"+n.itemId})),r().createElement("div",{className:"item-details-container"},r().createElement("a",{href:x(n.itemId,c,n.itemType),target:"_self",className:"item-name"},c),r().createElement(Ee,{item:n,itemDetails:i}))),r().createElement("div",{className:"rm-item-btn-container icon-actions-clear-sm"},r().createElement("button",{type:"button",onClick:function(){a(oe(n,!0)).catch((function(){console.error("Failed to remove item")}))}})))}function Ce(e){var t,a=e.totalPrice,u=e.remainingBalance,m=e.items,d=e.selectedItemsList,v=e.systemFeedbackService,p=e.totalCartValue,h=e.dispatch,b=(0,n.useCallback)((function(e,t,n){var r={totalNumberOfItemsInCart:m.length,totalValueOfItemsInCart:p,totalNumberOfSelectedItemsInCheckout:t,totalValueOfSelectedItemsInCheckout:n,purchaseData:JSON.stringify(e),userId:c.CurrentUser.userId};s.eventStreamService.sendEvent({name:"shoppingCartPurchaseResult",type:"shoppingCartPurchaseResult",context:"shoppingCart"},r),e.forEach((function(e){"Success"===e.data.reason&&(void 0!==e.data.itemData.assetId?h(oe({itemId:e.data.itemData.assetId,itemType:"Asset"})).catch((function(){console.error("Failed to remove item")})):void 0!==e.data.itemData.bundleId&&h(oe({itemId:e.data.itemData.bundleId,itemType:"Bundle"})).catch((function(){console.error("Failed to remove item")})))}))}),[]);return r().createElement("div",{className:"shopping-cart-footer"},r().createElement("div",{className:"cart-total-section-container"},r().createElement("div",{className:"total-label"},H({itemCount:""+d.length})),r().createElement("div",{className:"total-price-container"},r().createElement("span",{className:"icon-robux-16x16"}),r().createElement("span",{className:"price-text"},a.toLocaleString()))),d.length>f.maxSelectedItems&&r().createElement(i.Button,{className:"action-button batch-buy-purchase-button",variant:i.Button.variants.growth,size:i.Button.sizes.large,onClick:function(){v.warning(j({purchaseLimit:""+f.maxSelectedItems}),0,2e3)}},R()),d.length<=f.maxSelectedItems&&r().createElement(o.BatchBuyPriceContainer,{items:(t=[],d.forEach((function(e){t.push({id:e.itemId,itemType:e.itemType})})),t),onTransactionComplete:function(e){b(e,d.length,a)},systemFeedbackService:v}),r().createElement("div",{className:"balance-disclaimer-container"},u>=0?r().createElement("div",{className:"balance-disclaimer-text",dangerouslySetInnerHTML:{__html:L({remainingBalance:"<span class='icon-robux-16x16'></span><span class='text-robux'>"+(0,l.escapeHtml)()(u.toLocaleString())+"</span>"})}}):r().createElement("div",{className:"balance-disclaimer-text"},M())))}function Se(e){var t,a=pe(),l=a.cart,o=a.dispatch,c=l.items,s=l.currentUserBalance,u=l.itemDetails,m=Math.max(null!==(t=s)&&void 0!==t?t:0,0),d=(0,n.useRef)(null),v=(0,n.useState)({windowHeight:window.innerHeight,width:null,height:null,top:null,left:null}),p=v[0],h=v[1],b=(0,n.useState)(0),y=b[0],E=b[1],C=(0,n.useState)(0),N=C[0],x=C[1],T=(0,n.useState)([]),k=T[0],P=T[1],R=(0,n.useState)({}),U=R[0],A=R[1];(0,n.useEffect)((function(){var e=g();A(e.selectedItems)}),[]),(0,n.useEffect)((function(){var e=g();A(e.selectedItems)}),[c]),(0,n.useEffect)((function(){var e,t=[];c.forEach((function(e){U[""+e.itemType.toLowerCase()+e.itemId]&&t.push(e)})),e=w(l,t),E(e),x(m-y),P(t)}),[U]);var F=function(t){var n,r=null==t?void 0:t.target,i=null==d?void 0:d.current;if(r instanceof Element){if(i&&i.contains(r))return;if(function(e){return S(e,".shopping-cart-btn")||S(e,".modal-backdrop.in")||S(e,".in.modal")||S(e,".add-to-cart-btn-container")}(r))return;null===(n=null==e?void 0:e.setIsCartOpen)||void 0===n||n.call(e,!1)}},O=(0,n.useCallback)((function(e){if(e&&e instanceof HTMLElement){var t=function(e){var t,n,r,i=null===(t=null==e?void 0:e.getBoundingClientRect)||void 0===t?void 0:t.call(e);if(i&&(null==i?void 0:i.width)&&(null==i?void 0:i.height)){var a={windowHeight:window.innerHeight,width:null==i?void 0:i.width,height:null==i?void 0:i.height,top:null!==(n=null==i?void 0:i.top)&&void 0!==n?n:null==i?void 0:i.y,left:null!==(r=null==i?void 0:i.left)&&void 0!==r?r:null==i?void 0:i.x};h(a)}};t(e);var n=new IntersectionObserver((function(n){var r=null==n?void 0:n[0];(null==r?void 0:r.target)&&t(e)}),{root:null,rootMargin:"0px",threshold:[.9,.99,1]}),r=new ResizeObserver((function(n){t(e)}));n.observe(e),r.observe(document.body,{box:"border-box"})}}),[]),D=(0,n.useMemo)((function(){var e=p.height,t=p.top;if("number"!=typeof e||"number"!=typeof t)return 600;var n=e+t;if(n>p.windowHeight){var r=n-p.windowHeight;return Math.max(460,e-r-20)}if(n<p.windowHeight-20){var i=p.windowHeight-20-t;if(i>=460)return Math.min(600,i)}return p.height?p.height:0}),[p.windowHeight,p.height,p.top]),L=function(t,n){var r=U,i=""+t.itemType.toLowerCase()+t.itemId,a=!1;(a=void 0===n?void 0===r[i]||!r[i]:n)&&k.length>=f.maxSelectedItems&&(a=!1,e.systemFeedbackService.warning(j({purchaseLimit:""+f.maxSelectedItems}),0,2e3)),r[i]=a,A(he({},r)),I(he(he({},l),{selectedItems:U}))};(0,n.useEffect)((function(){return window.addEventListener("click",F,!0),function(){window.removeEventListener("click",F,!0)}}),[]);var M="("+c.length+")";return r().createElement("div",{ref:d,className:"shopping-cart-modal-container"},r().createElement("div",{ref:O,className:"shopping-cart-modal",style:{height:D+"px"}},r().createElement("div",{className:"shopping-cart-title-container"},r().createElement("h2",{className:"shopping-cart-title"},r().createElement("span",{className:"shopping-cart-title-text"},B())," ",r().createElement("span",{className:"shopping-cart-title-item-count"},M))),r().createElement(i.ScrollBar,{className:"rbx-scrollbar"},r().createElement("div",{className:"shopping-cart-items-list"},c.map((function(e){return r().createElement(we,{key:e.itemId,item:e,itemDetails:u[e.itemId],dispatch:o,onCheckboxClicked:L,selectedItemsRecord:U})})))),r().createElement(Ce,{totalPrice:y,totalCartValue:w(l,l.items),remainingBalance:N,items:c,selectedItemsList:k,systemFeedbackService:e.systemFeedbackService,dispatch:o})))}Se.propTypes={};var Ne=Se;function xe(e){var t=e.totalCartItems,n=e.isCartOpen;return r().createElement("div",{className:"shopping-cart-icon-container"},r().createElement("div",{className:(n?"cart-open":"")+" shopping-cart-icon"}),r().createElement("span",{className:"cart-number-container"},r().createElement("span",{className:"cart-number"},t||0)))}var Te=(0,i.createSystemFeedback)(),ke=Te[0],Pe=Te[1];function Re(){var e=(0,n.useState)(!1),t=e[0],i=e[1],a=pe().cart;N=Pe;var l=a.items;return r().createElement(n.Fragment,null,r().createElement(ke,null),r().createElement("div",{className:"shopping-cart-btn-container"},r().createElement("button",{className:"shopping-cart-btn",onClick:function(){i(!t)},type:"button"},r().createElement(xe,{totalCartItems:null==l?void 0:l.length,isCartOpen:t})),!!t&&r().createElement(Ne,{setIsCartOpen:i,systemFeedbackService:Pe})))}Re.propTypes={};var Ue=function(e){var t=e.itemId,n=e.itemType,i=e.collectibleItemId,a=e.itemName,l=e.buttonClass,o=e.autoSelectItems,c=pe(),s=c.isItemInCart,u=c.addItemToCart,m=c.removeItemFromCart,d=s(t);return r().createElement("div",{className:"btn-container shopping-cart-add-remove-btn-container"},r().createElement("button",{className:(null!=l?l:!d)?"btn-primary-lg":"btn-secondary-lg",type:"button",onClick:function(){d?m(t,n,!0).catch((function(){d=!0})):u({itemId:t,itemType:n,collectibleItemId:i,itemName:a},o,!0).catch((function(){d=!1}))}},d?F():A()))};Ue.defaultProps={collectibleItemId:null,itemName:null,buttonClass:""};c.EnvironmentUrls.avatarApi,c.EnvironmentUrls.avatarApi,c.EnvironmentUrls.avatarApi,c.EnvironmentUrls.catalogApi,c.EnvironmentUrls.catalogApi,c.EnvironmentUrls.catalogApi,c.EnvironmentUrls.catalogApi,c.EnvironmentUrls.catalogApi,c.EnvironmentUrls.catalogApi,c.EnvironmentUrls.catalogApi,c.EnvironmentUrls.thumbnailsApi,c.EnvironmentUrls.thumbnailsApi,c.EnvironmentUrls.thumbnailsApi,c.EnvironmentUrls.thumbnailsApi,c.EnvironmentUrls.thumbnailsApi,c.EnvironmentUrls.apiGatewayUrl}();
//# sourceMappingURL=https://js.rbxcdn.com/602452030af9c957c3c3668516843856-shoppingCart.bundle.min.js.map

/* Bundle detector */
window.Roblox && window.Roblox.BundleDetector && window.Roblox.BundleDetector.bundleDetected("Catalog");