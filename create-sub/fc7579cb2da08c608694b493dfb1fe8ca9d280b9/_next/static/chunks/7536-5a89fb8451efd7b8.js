"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7536],{87536:function(e,c,a){a.d(c,{Dq:function(){return Z},Gc:function(){return u},Qr:function(){return H},RV:function(){return v},cI:function(){return aH},qo:function(){return G}});var d=a(67294),f=a=>"checkbox"===a.type,g=a=>a instanceof Date,h=a=>null==a;let i=a=>"object"==typeof a;var j=a=>!h(a)&&!Array.isArray(a)&&i(a)&&!g(a),k=a=>j(a)&&a.target?f(a.target)?a.target.checked:a.target.value:a,l=a=>a.substring(0,a.search(/.\d/))||a,m=(a,b)=>[...a].some(a=>l(b)===a),n=a=>a.filter(Boolean),o=a=>void 0===a,p=(a,b,d)=>{if(!b||!j(a))return d;let c=n(b.split(/[,[\].]+?/)).reduce((a,b)=>h(a)?a:a[b],a);return o(c)||c===a?o(a[b])?d:a[b]:c};let q={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},b={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},r={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};var s=(b,c)=>{let a=Object.assign({},b);return delete a[c],a};let t=d.createContext(null),u=()=>d.useContext(t),v=a=>d.createElement(t.Provider,{value:s(a,"children")},a.children);var w=(c,e,f,g=!0)=>{let a={};for(let d in c)Object.defineProperty(a,d,{get(){let a=d;return e[a]!==b.all&&(e[a]=!g||b.all),f&&(f[a]=!0),c[a]}});return a},x=a=>j(a)&&!Object.keys(a).length,y=(c,d,e)=>{let a=s(c,"name");return x(a)||Object.keys(a).length>=Object.keys(d).length||Object.keys(a).find(a=>d[a]===(!e||b.all))},z=a=>Array.isArray(a)?a:[a],A=(a,b,c)=>c&&b?a===b:!a||!b||a===b||z(a).some(a=>a&&(a.startsWith(b)||b.startsWith(a)));function B(a){let b=d.useRef(a);b.current=a,d.useEffect(()=>{let c=a=>{a&&a.unsubscribe()},d=!a.disabled&&b.current.subject.subscribe({next:b.current.callback});return()=>c(d)},[a.disabled])}var C=a=>"string"==typeof a,D=(a,b,c,d)=>{let e=Array.isArray(a);return C(a)?(d&&b.watch.add(a),p(c,a)):e?a.map(a=>(d&&b.watch.add(a),p(c,a))):(d&&(b.watchAll=!0),c)},E=a=>"function"==typeof a,F=a=>{for(let b in a)if(E(a[b]))return!0;return!1};function G(e){let f=u(),{control:a=f.control,name:b,defaultValue:c,disabled:g,exact:h}=e||{},i=d.useRef(b);i.current=b;let k=d.useCallback(d=>{if(A(i.current,d.name,h)){let b=D(i.current,a._names,d.values||a._formValues);m(o(i.current)||j(b)&&!F(b)?Object.assign({},b):Array.isArray(b)?[...b]:o(b)?c:b)}},[a,h,c]);B({disabled:g,subject:a._subjects.watch,callback:k});let[l,m]=d.useState(o(c)?a._getWatch(b):c);return d.useEffect(()=>{a._removeUnmounted()}),l}let H=a=>a.render(function(c){let g=u(),{name:a,control:b=g.control,shouldUnregister:h}=c,i=m(b._names.array,a),e=G({control:b,name:a,defaultValue:p(b._formValues,a,p(b._defaultValues,a,c.defaultValue)),exact:!0}),f=function(c){let e=u(),{control:a=e.control,disabled:f,name:b,exact:g}=c||{},[h,l]=d.useState(a._formState),i=d.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),j=d.useRef(b),m=d.useRef(!0);j.current=b;let k=d.useCallback(b=>m.current&&A(j.current,b.name,g)&&y(b,i.current)&&l(Object.assign(Object.assign({},a._formState),b)),[a,g]);return B({disabled:f,callback:k,subject:a._subjects.state}),d.useEffect(()=>()=>{m.current=!1},[]),w(h,a._proxyFormState,i.current,!1)}({control:b,name:a}),j=d.useRef(b.register(a,Object.assign(Object.assign({},c.rules),{value:e})));return d.useEffect(()=>{let c=(c,d)=>{let a=p(b._fields,c);a&&(a._f.mount=d)};return c(a,!0),()=>{let d=b._options.shouldUnregister||h;(i?d&&!b._stateFlags.action:d)?b.unregister(a):c(a,!1)}},[a,b,i,h]),{field:{name:a,value:e,onChange:d.useCallback(b=>{j.current.onChange({target:{value:k(b),name:a},type:q.CHANGE})},[a]),onBlur:d.useCallback(()=>{j.current.onBlur({target:{value:p(b._formValues,a),name:a},type:q.BLUR})},[a,b]),ref:d.useCallback(c=>{let d=p(b._fields,a);c&&d&&c.focus&&(d._f.ref={focus:()=>c.focus(),setCustomValidity:a=>c.setCustomValidity(a),reportValidity:()=>c.reportValidity()})},[a,b._fields])},formState:f,fieldState:b.getFieldState(a,f)}}(a));var I=(a,c,b,d,e)=>c?Object.assign(Object.assign({},b[a]),{types:Object.assign(Object.assign({},b[a]&&b[a].types?b[a].types:{}),{[d]:e||!0})}):{},J=a=>/^\w*$/.test(a),K=a=>n(a.replace(/["|']|\]/g,"").split(/\.|\[/));function L(a,c,i){let b=-1,d=J(c)?[c]:K(c),g=d.length,k=g-1;for(;++b<g;){let e=d[b],h=i;if(b!==k){let f=a[e];h=j(f)||Array.isArray(f)?f:isNaN(+d[b+1])?{}:[]}a[e]=h,a=a[e]}return a}let M=(c,d,f)=>{for(let g of f||Object.keys(c)){let b=p(c,g);if(b){let a=b._f,e=s(b,"_f");if(a&&d(a.name)){if(a.ref.focus&&o(a.ref.focus()))break;if(a.refs){a.refs[0].focus();break}}else j(e)&&M(e,d)}}};var N=()=>{let a="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,c=>{let b=(16*Math.random()+a)%16|0;return("x"==c?b:3&b|8).toString(16)})},O=(b,c,a={})=>a.shouldFocus||o(a.shouldFocus)?a.focusName||`${b}.${o(a.focusIndex)?c:a.focusIndex}.`:"",P=(b,a,c)=>!c&&(a.watchAll||a.watch.has(b)||[...a.watch].some(a=>b.startsWith(a)&&/^\.\w+/.test(b.slice(a.length))));function Q(a,b){return[...a,...z(b)]}function R(a){let b,d=Array.isArray(a);if(a instanceof Date)b=new Date(a);else if(a instanceof Set)b=new Set(a);else if(!(d||j(a)))return a;else for(let c in b=d?[]:{},a){if(E(a[c])){b=a;break}b[c]=R(a[c])}return b}var S=a=>Array.isArray(a)?a.map(()=>void 0):void 0;function T(a,b,c){return[...a.slice(0,b),...z(c),...a.slice(b),]}var U=(a,c,b)=>Array.isArray(a)?(o(a[b])&&(a[b]=void 0),a.splice(b,0,a.splice(c,1)[0]),a):[];function V(a,b){return[...z(b),...z(a)]}var W=(b,a)=>o(a)?[]:function(c,d){let b=0,a=[...c];for(let e of d)a.splice(e-b,1),b++;return n(a).length?a:[]}(b,z(a).sort((a,b)=>a-b)),X=(a,b,c)=>{var d;a[b]=(d=a[c],a[c]=a[b],d)},Y=(a,b,c)=>(a[b]=c,a);function Z(g){let h=u(),{control:b=h.control,name:a,keyName:f="id",shouldUnregister:i}=g,[e,m]=d.useState(b._getFieldArray(a)),n=d.useRef(b._getFieldArray(a).map(N)),j=d.useRef(e),k=d.useRef(a),o=d.useRef(!1);k.current=a,j.current=e,b._names.array.add(a);let l=d.useCallback(({values:c,name:a})=>{if(a===k.current||!a){let b=p(c,k.current,[]);m(b),n.current=b.map(N)}},[]);B({callback:l,subject:b._subjects.array});let c=d.useCallback(c=>{o.current=!0,b._updateFieldArray(a,c)},[b,a]);return d.useEffect(()=>{b._stateFlags.action=!1,P(a,b._names)&&b._subjects.state.next({}),o.current&&b._executeSchema([a]).then(d=>{let c=p(d.errors,a);c&&c.type&&!p(b._formState.errors,a)&&(L(b._formState.errors,a,c),b._subjects.state.next({errors:b._formState.errors}))}),b._subjects.watch.next({name:a,values:b._formValues}),b._names.focus&&M(b._fields,a=>a.startsWith(b._names.focus)),b._names.focus="",b._proxyFormState.isValid&&b._updateValid()},[e,a,b]),d.useEffect(()=>(p(b._formValues,a)||b._updateFieldArray(a),()=>{(b._options.shouldUnregister||i)&&b.unregister(a)}),[a,b,f,i]),{swap:d.useCallback((e,f)=>{let d=b._getFieldArray(a);X(d,e,f),X(n.current,e,f),c(d),m(d),b._updateFieldArray(a,d,X,{argA:e,argB:f},!1)},[c,a,b]),move:d.useCallback((e,f)=>{let d=b._getFieldArray(a);U(d,e,f),U(n.current,e,f),c(d),m(d),b._updateFieldArray(a,d,U,{argA:e,argB:f},!1)},[c,a,b]),prepend:d.useCallback((e,g)=>{let f=z(R(e)),d=V(b._getFieldArray(a),f);b._names.focus=O(a,0,g),n.current=V(n.current,f.map(N)),c(d),m(d),b._updateFieldArray(a,d,V,{argA:S(e)})},[c,a,b]),append:d.useCallback((e,g)=>{let f=z(R(e)),d=Q(b._getFieldArray(a),f);b._names.focus=O(a,d.length-1,g),n.current=Q(n.current,f.map(N)),c(d),m(d),b._updateFieldArray(a,d,Q,{argA:S(e)})},[c,a,b]),remove:d.useCallback(d=>{let e=W(b._getFieldArray(a),d);n.current=W(n.current,d),c(e),m(e),b._updateFieldArray(a,e,W,{argA:d})},[c,a,b]),insert:d.useCallback((d,f,h)=>{let g=z(R(f)),e=T(b._getFieldArray(a),d,g);b._names.focus=O(a,d,h),n.current=T(n.current,d,g.map(N)),c(e),m(e),b._updateFieldArray(a,e,T,{argA:d,argB:S(f)})},[c,a,b]),update:d.useCallback((e,f)=>{let d=Y(b._getFieldArray(a),e,f);n.current=[...d].map((b,a)=>b&&a!==e?n.current[a]:N()),c(d),m([...d]),b._updateFieldArray(a,d,Y,{argA:e,argB:f},!0,!1)},[c,a,b]),replace:d.useCallback(e=>{let d=z(R(e));n.current=d.map(N),c([...d]),m([...d]),b._updateFieldArray(a,[...d],a=>a,{},!0,!1)},[c,a,b]),fields:d.useMemo(()=>e.map((a,b)=>Object.assign(Object.assign({},a),{[f]:n.current[b]||N()})),[e,f])}}function $(){let a=[];return{get observers(){return a},next(b){for(let c of a)c.next(b)},subscribe:b=>(a.push(b),{unsubscribe(){a=a.filter(a=>a!==b)}}),unsubscribe(){a=[]}}}var _=a=>h(a)||!i(a);function aa(a,b){if(_(a)||_(b))return a===b;if(g(a)&&g(b))return a.getTime()===b.getTime();let f=Object.keys(a),h=Object.keys(b);if(f.length!==h.length)return!1;for(let e of f){let c=a[e];if(!h.includes(e))return!1;if("ref"!==e){let d=b[e];if(g(c)&&g(d)||j(c)&&j(d)||Array.isArray(c)&&Array.isArray(d)?!aa(c,d):c!==d)return!1}}return!0}var ab=a=>({isOnSubmit:!a||a===b.onSubmit,isOnBlur:a===b.onBlur,isOnChange:a===b.onChange,isOnAll:a===b.all,isOnTouch:a===b.onTouched}),ac=a=>"boolean"==typeof a,ad=a=>"file"===a.type,ae=a=>a instanceof HTMLElement,af=a=>"select-multiple"===a.type,ag=a=>"radio"===a.type,ah=a=>ag(a)||f(a),ai="undefined"!=typeof window&& void 0!==window.HTMLElement&&"undefined"!=typeof document,aj=a=>ae(a)&&a.isConnected;function ak(b,g){let c=J(g)?[g]:K(g),k=1==c.length?b:function(a,c){let d=c.slice(0,-1).length,b=0;for(;b<d;)a=o(a)?b++:a[c[b++]];return a}(b,c),l=c[c.length-1],d;k&&delete k[l];for(let e=0;e<c.slice(0,-1).length;e++){let h=-1,a,i=c.slice(0,-(e+1)),m=i.length-1;for(e>0&&(d=b);++h<i.length;){let f=i[h];a=a?a[f]:b[f],m===h&&(j(a)&&x(a)||Array.isArray(a)&&!a.filter(a=>j(a)&&!x(a)||ac(a)||Array.isArray(a)&&a.length).length)&&(d?delete d[f]:delete b[f]),d=a}}return b}function al(a,c={}){let d=Array.isArray(a);if(j(a)||d)for(let b in a)Array.isArray(a[b])||j(a[b])&&!F(a[b])?(c[b]=Array.isArray(a[b])?[]:{},al(a[b],c[b])):h(a[b])||(c[b]=!0);return c}function am(b,d,c){let e=Array.isArray(b);if(j(b)||e)for(let a in b)Array.isArray(b[a])||j(b[a])&&!F(b[a])?o(d)||_(c[a])?c[a]=Array.isArray(b[a])?al(b[a],[]):Object.assign({},al(b[a])):am(b[a],h(d)?{}:d[a],c[a]):c[a]=!aa(b[a],d[a]);return c}var an=(b,a)=>am(b,a,al(a));let ao={value:!1,isValid:!1},ap={value:!0,isValid:!0};var aq=a=>{if(Array.isArray(a)){if(a.length>1){let b=a.filter(a=>a&&a.checked&&!a.disabled).map(a=>a.value);return{value:b,isValid:!!b.length}}return a[0].checked&&!a[0].disabled?a[0].attributes&&!o(a[0].attributes.value)?o(a[0].value)||""===a[0].value?ap:{value:a[0].value,isValid:!0}:ap:ao}return ao},ar=(a,{valueAsNumber:c,valueAsDate:d,setValueAs:b})=>o(a)?a:c?""===a?NaN:+a:d&&C(a)?new Date(a):b?b(a):a;let as={isValid:!1,value:null};var at=a=>Array.isArray(a)?a.reduce((b,a)=>a&&a.checked&&!a.disabled?{isValid:!0,value:a.value}:b,as):as;function au(b){let a=b.ref;return(b.refs?b.refs.every(a=>a.disabled):a.disabled)?void 0:ad(a)?a.files:ag(a)?at(b.refs).value:af(a)?[...a.selectedOptions].map(({value:a})=>a):f(a)?aq(b.refs).value:ar(o(a.value)?b.ref.value:a.value,b)}var av=(a,e,f,g)=>{let b={};for(let c of a){let d=p(e,c);d&&L(b,c,d._f)}return{criteriaMode:f,names:[...a],fields:b,shouldUseNativeValidation:g}},aw=a=>a instanceof RegExp,ax=a=>o(a)?void 0:aw(a)?a.source:j(a)?aw(a.value)?a.value.source:a.value:a,ay=a=>a.mount&&(a.required||a.min||a.max||a.maxLength||a.minLength||a.pattern||a.validate);function az(e,h,a){let f=p(e,a);if(f||J(a))return{error:f,name:a};let c=a.split(".");for(;c.length;){let b=c.join("."),g=p(h,b),d=p(e,b);if(g&&!Array.isArray(g)&&a!==b)break;if(d&&d.type)return{name:b,error:d};c.pop()}return{name:a}}var aA=(b,e,c,d,a)=>!a.isOnAll&&(!c&&a.isOnTouch?!(e||b):(c?d.isOnBlur:a.isOnBlur)?!b:(c?!d.isOnChange:!a.isOnChange)||b),aB=(a,b)=>!n(p(a,b)).length&&ak(a,b),aC=a=>C(a)||d.isValidElement(a);function aD(a,b,c="validate"){if(aC(a)||Array.isArray(a)&&a.every(aC)||ac(a)&&!a)return{type:c,message:aC(a)?a:"",ref:b}}var aE=a=>j(a)&&!aw(a)?a:{value:a,message:""},aF=async(S,a,c,Z)=>{let{ref:d,refs:o,required:k,maxLength:F,minLength:G,min:H,max:J,pattern:K,validate:i,name:e,valueAsNumber:T,mount:U,disabled:V}=S._f;if(!U||V)return{};let p=o?o[0]:d,g=a=>{Z&&p.reportValidity&&(p.setCustomValidity(ac(a)?"":a||" "),p.reportValidity())},b={},L=ag(d),M=f(d),q=(T||ad(d))&&!d.value||""===a||Array.isArray(a)&&!a.length,s=I.bind(null,e,c,b),N=(a,h,i,c=r.maxLength,f=r.minLength)=>{let g=a?h:i;b[e]=Object.assign({type:a?c:f,message:g,ref:d},s(a?c:f,g))};if(k&&(!(L||M)&&(q||h(a))||ac(a)&&!a||M&&!aq(o).isValid||L&&!at(o).isValid)){let{value:W,message:w}=aC(k)?{value:!!k,message:k}:aE(k);if(W&&(b[e]=Object.assign({type:r.required,message:w,ref:p},s(r.required,w)),!c))return g(w),b}if(!q&&(!h(H)||!h(J))){let t,y,l=aE(J),m=aE(H);if(isNaN(a)){let O=d.valueAsDate||new Date(a);C(l.value)&&(t=O>new Date(l.value)),C(m.value)&&(y=O<new Date(m.value))}else{let P=d.valueAsNumber||+a;h(l.value)||(t=P>l.value),h(m.value)||(y=P<m.value)}if((t||y)&&(N(!!t,l.message,m.message,r.max,r.min),!c))return g(b[e].message),b}if((F||G)&&!q&&C(a)){let z=aE(F),A=aE(G),Q=!h(z.value)&&a.length>z.value,X=!h(A.value)&&a.length<A.value;if((Q||X)&&(N(Q,z.message,A.message),!c))return g(b[e].message),b}if(K&&!q&&C(a)){let{value:R,message:B}=aE(K);if(aw(R)&&!a.match(R)&&(b[e]=Object.assign({type:r.pattern,message:B,ref:d},s(r.pattern,B)),!c))return g(B),b}if(i){if(E(i)){let Y=await i(a),u=aD(Y,p);if(u&&(b[e]=Object.assign(Object.assign({},u),s(r.validate,u.message)),!c))return g(u.message),b}else if(j(i)){let n={};for(let D in i){if(!x(n)&&!c)break;let v=aD(await i[D](a),p,D);v&&(n=Object.assign(Object.assign({},v),s(D,v.message)),g(v.message),c&&(b[e]=n))}if(!x(n)&&(b[e]=Object.assign({ref:p},n),!c))return b}}return g(!0),b};let aG={mode:b.onSubmit,reValidateMode:b.onChange,shouldFocusError:!0};function aH(e={}){let a=d.useRef(),[i,l]=d.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});a.current?a.current.control._options=e:a.current=Object.assign(Object.assign({},function(t={}){let a=Object.assign(Object.assign({},aG),t),c={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},u={},d=a.defaultValues||{},v=a.shouldUnregister?{}:R(d),e={action:!1,mount:!1,watch:!1},i={mount:new Set,unMount:new Set,array:new Set,watch:new Set},K,N=0,O={},w={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},y={watch:$(),array:$(),state:$()},Q=ab(a.mode),S=ab(a.reValidateMode),T=a.criteriaMode===b.all,U=(a,b)=>(...c)=>{clearTimeout(N),N=window.setTimeout(()=>a(...c),b)},A=async d=>{let b=!1;return w.isValid&&(b=a.resolver?x((await B()).errors):await ag(u,!0),d||b===c.isValid||(c.isValid=b,y.state.next({isValid:b}))),b},V=(a,b)=>(L(c.errors,a,b),y.state.next({errors:c.errors})),W=(a,c,f,g)=>{let h=p(u,a);if(h){let b=p(v,a,o(f)?p(d,a):f);o(b)||g&&g.defaultChecked||c?L(v,a,c?b:au(h._f)):al(a,b),e.mount&&A()}},X=(a,h,f,i,j)=>{let b=!1,e={name:a},g=p(c.touchedFields,a);if(w.isDirty){let k=c.isDirty;c.isDirty=e.isDirty=F(),b=k!==e.isDirty}if(w.dirtyFields&&(!f||i)){let l=p(c.dirtyFields,a),m=aa(p(d,a),h);m?ak(c.dirtyFields,a):L(c.dirtyFields,a,!0),e.dirtyFields=c.dirtyFields,b=b||l!==p(c.dirtyFields,a)}return f&&!g&&(L(c.touchedFields,a,f),e.touchedFields=c.touchedFields,b=b||w.touchedFields&&g!==f),b&&j&&y.state.next(e),b?e:{}},Y=async(i,a,d,b,e)=>{let f=p(c.errors,a),g=w.isValid&&c.isValid!==d;if(t.delayError&&b?(K=K||U(V,t.delayError))(a,b):(clearTimeout(N),b?L(c.errors,a,b):ak(c.errors,a)),((b?!aa(f,b):f)||!x(e)||g)&&!i){let h=Object.assign(Object.assign(Object.assign({},e),g?{isValid:d}:{}),{errors:c.errors,name:a});c=Object.assign(Object.assign({},c),h),y.state.next(h)}O[a]--,w.isValidating&&!Object.values(O).some(a=>a)&&(y.state.next({isValidating:!1}),O={})},B=async b=>a.resolver?await a.resolver(Object.assign({},v),a.context,av(b||i.mount,u,a.criteriaMode,a.shouldUseNativeValidation)):{},Z=async d=>{let{errors:a}=await B();if(d)for(let b of d){let e=p(a,b);e?L(c.errors,b,e):ak(c.errors,b)}else c.errors=a;return a},ag=async(h,e,f={valid:!0})=>{for(let j in h){let d=h[j];if(d){let b=d._f,i=s(d,"_f");if(b){let g=await aF(d,p(v,b.name),T,a.shouldUseNativeValidation);if(g[b.name]&&(f.valid=!1,e))break;e||(g[b.name]?L(c.errors,b.name,g[b.name]):ak(c.errors,b.name))}i&&await ag(i,e,f)}}return f.valid},F=(a,b)=>(a&&b&&L(v,a,b),!aa(J(),d)),G=(a,b,c)=>{let f=Object.assign({},e.mount?v:o(b)?d:C(a)?{[a]:b}:b);return D(a,i,f,c)},al=(b,d,c={})=>{let g=p(u,b),e=d;if(g){let a=g._f;a&&(a.disabled||L(v,b,ar(d,a)),e=ai&&ae(a.ref)&&h(d)?"":d,af(a.ref)?[...a.ref.options].forEach(a=>a.selected=e.includes(a.value)):a.refs?f(a.ref)?a.refs.length>1?a.refs.forEach(a=>a.checked=Array.isArray(e)?!!e.find(b=>b===a.value):e===a.value):a.refs[0]&&(a.refs[0].checked=!!e):a.refs.forEach(a=>a.checked=a.value===e):ad(a.ref)?a.ref.value="":(a.ref.value=e,a.ref.type||y.watch.next({name:b})))}(c.shouldDirty||c.shouldTouch)&&X(b,e,c.shouldTouch,c.shouldDirty,!0),c.shouldValidate&&I(b)},am=(c,d,e)=>{for(let f in d){let a=d[f],b=`${c}.${f}`,h=p(u,b);!i.array.has(c)&&_(a)&&(!h||h._f)||g(a)?al(b,a,e):am(b,a,e)}},H=(a,g,e={})=>{let f=p(u,a),j=i.array.has(a),b=R(g);L(v,a,b),j?(y.array.next({name:a,values:v}),(w.isDirty||w.dirtyFields)&&e.shouldDirty&&(c.dirtyFields=an(d,v),y.state.next({name:a,dirtyFields:c.dirtyFields,isDirty:F(a,b)}))):!f||f._f||h(b)?al(a,b,e):am(a,b,e),P(a,i)&&y.state.next({}),y.watch.next({name:a})},ao=async e=>{let m=e.target,b=m.name,d=p(u,b);if(d){let g,h,n=m.type?au(d._f):k(e),f=e.type===q.BLUR||e.type===q.FOCUS_OUT,s=!ay(d._f)&&!a.resolver&&!p(c.errors,b)&&!d._f.deps||aA(f,p(c.touchedFields,b),c.isSubmitted,S,Q),j=P(b,i,f);L(v,b,n),f?d._f.onBlur&&d._f.onBlur(e):d._f.onChange&&d._f.onChange(e);let l=X(b,n,f,!1),t=!x(l)||j;if(f||y.watch.next({name:b,type:e.type}),s)return t&&y.state.next(Object.assign({name:b},j?{}:l));if(!f&&j&&y.state.next({}),O[b]=(O[b],1),y.state.next({isValidating:!0}),a.resolver){let{errors:o}=await B([b]),w=az(c.errors,u,b),r=az(o,u,w.name||b);g=r.error,b=r.name,h=x(o)}else g=(await aF(d,p(v,b),T,a.shouldUseNativeValidation))[b],h=await A(!0);d._f.deps&&I(d._f.deps),Y(!1,b,h,g,l)}},I=async(b,g={})=>{let d,e,f=z(b);if(y.state.next({isValidating:!0}),a.resolver){let h=await Z(o(b)?b:f);d=x(h),e=b?!f.some(a=>p(h,a)):d}else b?((e=(await Promise.all(f.map(async b=>{let a=p(u,b);return await ag(a&&a._f?{[b]:a}:a)}))).every(Boolean))||c.isValid)&&A():e=d=await ag(u);return y.state.next(Object.assign(Object.assign(Object.assign({},!C(b)||w.isValid&&d!==c.isValid?{}:{name:b}),a.resolver?{isValid:d}:{}),{errors:c.errors,isValidating:!1})),g.shouldFocus&&!e&&M(u,a=>p(c.errors,a),b?f:i.mount),e},J=a=>{let b=Object.assign(Object.assign({},d),e.mount?v:{});return o(a)?b:C(a)?p(b,a):a.map(a=>p(b,a))},j=(a,b)=>({invalid:!!p((b||c).errors,a),isDirty:!!p((b||c).dirtyFields,a),isTouched:!!p((b||c).touchedFields,a),error:p((b||c).errors,a)}),l=(f,e={})=>{for(let b of f?z(f):i.mount)i.mount.delete(b),i.array.delete(b),p(u,b)&&(e.keepValue||(ak(u,b),ak(v,b)),e.keepError||ak(c.errors,b),e.keepDirty||ak(c.dirtyFields,b),e.keepTouched||ak(c.touchedFields,b),a.shouldUnregister||e.keepDefaultValue||ak(d,b));y.watch.next({}),y.state.next(Object.assign(Object.assign({},c),e.keepDirty?{isDirty:F()}:{})),e.keepIsValid||A()},r=(c,b={})=>{let d=p(u,c),f=ac(b.disabled);return L(u,c,{_f:Object.assign(Object.assign(Object.assign({},d&&d._f?d._f:{ref:{name:c}}),{name:c,mount:!0}),b)}),i.mount.add(c),d?f&&L(v,c,b.disabled?void 0:p(v,c,au(d._f))):W(c,!0,b.value),Object.assign(Object.assign(Object.assign({},f?{disabled:b.disabled}:{}),a.shouldUseNativeValidation?{required:!!b.required,min:ax(b.min),max:ax(b.max),minLength:ax(b.minLength),maxLength:ax(b.maxLength),pattern:ax(b.pattern)}:{}),{name:c,onChange:ao,onBlur:ao,ref(g){if(g){r(c,b),d=p(u,c);let f=o(g.value)&&g.querySelectorAll&&g.querySelectorAll("input,select,textarea")[0]||g,h=ah(f),j=d._f.refs||[];(h?!j.find(a=>a===f):f!==d._f.ref)&&(L(u,c,{_f:Object.assign(Object.assign({},d._f),h?{refs:j.concat(f).filter(aj),ref:{type:f.type,name:c}}:{ref:f})}),W(c,!1,void 0,f))}else(d=p(u,c,{}))._f&&(d._f.mount=!1),(a.shouldUnregister||b.shouldUnregister)&&!(m(i.array,c)&&e.action)&&i.unMount.add(c)}})};return{control:{register:r,unregister:l,getFieldState:j,_executeSchema:B,_getWatch:G,_getDirty:F,_updateValid:A,_removeUnmounted(){for(let b of i.unMount){let a=p(u,b);a&&(a._f.refs?a._f.refs.every(a=>!aj(a)):!aj(a._f.ref))&&l(b)}i.unMount=new Set},_updateFieldArray(a,h=[],f,b,g=!0,i=!0){if(b&&f){if(e.action=!0,i&&Array.isArray(p(u,a))){let j=f(p(u,a),b.argA,b.argB);g&&L(u,a,j)}if(w.errors&&i&&Array.isArray(p(c.errors,a))){let k=f(p(c.errors,a),b.argA,b.argB);g&&L(c.errors,a,k),aB(c.errors,a)}if(w.touchedFields&&Array.isArray(p(c.touchedFields,a))){let l=f(p(c.touchedFields,a),b.argA,b.argB);g&&L(c.touchedFields,a,l)}w.dirtyFields&&(c.dirtyFields=an(d,v)),y.state.next({isDirty:F(a,h),dirtyFields:c.dirtyFields,errors:c.errors,isValid:c.isValid})}else L(v,a,h)},_getFieldArray:a=>n(p(e.mount?v:d,a,t.shouldUnregister?p(d,a,[]):[])),_subjects:y,_proxyFormState:w,get _fields(){return u},get _formValues(){return v},get _stateFlags(){return e},set _stateFlags(value){e=value},get _defaultValues(){return d},get _names(){return i},set _names(value){i=value},get _formState(){return c},set _formState(value){c=value},get _options(){return a},set _options(value){a=Object.assign(Object.assign({},a),value)}},trigger:I,register:r,handleSubmit:(b,d)=>async e=>{e&&(e.preventDefault&&e.preventDefault(),e.persist&&e.persist());let f=!0,g=R(v);y.state.next({isSubmitting:!0});try{if(a.resolver){let{errors:h,values:j}=await B();c.errors=h,g=j}else await ag(u);x(c.errors)&&Object.keys(c.errors).every(a=>p(g,a))?(y.state.next({errors:{},isSubmitting:!0}),await b(g,e)):(d&&await d(Object.assign({},c.errors),e),a.shouldFocusError&&M(u,a=>p(c.errors,a),i.mount))}catch(k){throw f=!1,k}finally{c.isSubmitted=!0,y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:x(c.errors)&&f,submitCount:c.submitCount+1,errors:c.errors})}},watch:(a,b)=>E(a)?y.watch.subscribe({next:c=>a(G(void 0,b),c)}):G(a,b,!0),setValue:H,getValues:J,reset(b,a={}){let g=b||d,h=R(g),j=b&&!x(b)?h:d;if(a.keepDefaultValues||(d=g),!a.keepValues){if(ai&&o(b))for(let l of i.mount){let f=p(u,l);if(f&&f._f){let k=Array.isArray(f._f.refs)?f._f.refs[0]:f._f.ref;try{ae(k)&&k.closest("form").reset();break}catch(m){}}}v=t.shouldUnregister?a.keepDefaultValues?R(d):{}:h,u={},y.array.next({values:j}),y.watch.next({values:j})}i={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},e.mount=!w.isValid||!!a.keepIsValid,e.watch=!!t.shouldUnregister,y.state.next({submitCount:a.keepSubmitCount?c.submitCount:0,isDirty:a.keepDirty?c.isDirty:!!a.keepDefaultValues&&!aa(b,d),isSubmitted:!!a.keepIsSubmitted&&c.isSubmitted,dirtyFields:a.keepDirty?c.dirtyFields:a.keepDefaultValues&&b?Object.entries(b).reduce((b,[a,c])=>Object.assign(Object.assign({},b),{[a]:c!==p(d,a)}),{}):{},touchedFields:a.keepTouched?c.touchedFields:{},errors:a.keepErrors?c.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},resetField(a,b={}){p(u,a)&&(o(b.defaultValue)?H(a,p(d,a)):(H(a,b.defaultValue),L(d,a,b.defaultValue)),b.keepTouched||ak(c.touchedFields,a),b.keepDirty||(ak(c.dirtyFields,a),c.isDirty=b.defaultValue?F(a,p(d,a)):F()),!b.keepError&&(ak(c.errors,a),w.isValid&&A()),y.state.next(Object.assign({},c)))},clearErrors(a){a?z(a).forEach(a=>ak(c.errors,a)):c.errors={},y.state.next({errors:c.errors})},unregister:l,setError(b,e,d){let a=(p(u,b,{_f:{}})._f||{}).ref;L(c.errors,b,Object.assign(Object.assign({},e),{ref:a})),y.state.next({name:b,errors:c.errors,isValid:!1}),d&&d.shouldFocus&&a&&a.focus&&a.focus()},setFocus(c,d={}){let a=p(u,c)._f,b=a.refs?a.refs[0]:a.ref;d.shouldSelect?b.select():b.focus()},getFieldState:j}}(e)),{formState:i});let c=a.current.control,j=d.useCallback(a=>{y(a,c._proxyFormState,!0)&&(c._formState=Object.assign(Object.assign({},c._formState),a),l(Object.assign({},c._formState)))},[c]);return B({subject:c._subjects.state,callback:j}),d.useEffect(()=>{c._stateFlags.mount||(c._proxyFormState.isValid&&c._updateValid(),c._stateFlags.mount=!0),c._stateFlags.watch&&(c._stateFlags.watch=!1,c._subjects.state.next({})),c._removeUnmounted()}),a.current.formState=w(i,c._proxyFormState),a.current}}}])