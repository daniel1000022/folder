(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6984],{67008:function(d,c){"use strict";var b,a;(a=b||(b={}))[a.CreationOverview=0]="CreationOverview",a[a.UserAcquisition=1]="UserAcquisition",a[a.Engagement=2]="Engagement",a[a.Retention=3]="Retention",a[a.Monetization=4]="Monetization",a[a.ItemMonetizationDeveloperProducts=5]="ItemMonetizationDeveloperProducts",a[a.ItemMonetizationPasses=6]="ItemMonetizationPasses",a[a.ItemMonetizationAvatarItems=7]="ItemMonetizationAvatarItems",a[a.ImmersiveAds=8]="ImmersiveAds",a[a.Subscriptions=9]="Subscriptions",a[a.MemoryStores=10]="MemoryStores",a[a.EngagementBasedPayouts=11]="EngagementBasedPayouts",a[a.Performance=12]="Performance",a[a.ErrorReport=13]="ErrorReport",a[a.Audience=14]="Audience",c.Z=b},74953:function(f,e,d){"use strict";d.d(e,{O:function(){return j},Z:function(){return k}});var a,g=d(10253),b=d(14924),c=d(67008),h=(a={},(0,b.Z)(a,c.Z.UserAcquisition,"/analytics/acquisition"),(0,b.Z)(a,c.Z.CreationOverview,"/overview"),(0,b.Z)(a,c.Z.Engagement,"/analytics/engagement"),(0,b.Z)(a,c.Z.Retention,"/analytics/retention"),(0,b.Z)(a,c.Z.Monetization,"/analytics/monetization"),(0,b.Z)(a,c.Z.ImmersiveAds,"/analytics/immersive-ads"),(0,b.Z)(a,c.Z.Subscriptions,"/analytics/experience-subscriptions"),(0,b.Z)(a,c.Z.MemoryStores,"/analytics/memory-stores"),(0,b.Z)(a,c.Z.EngagementBasedPayouts,"/monetization/engagement-payouts"),(0,b.Z)(a,c.Z.Performance,"/analytics/performance"),(0,b.Z)(a,c.Z.ErrorReport,"/analytics/errors"),(0,b.Z)(a,c.Z.Audience,"/analytics/audience"),(0,b.Z)(a,c.Z.ItemMonetizationDeveloperProducts,"/monetization/developer-products"),(0,b.Z)(a,c.Z.ItemMonetizationPasses,"monetization/passes"),(0,b.Z)(a,c.Z.ItemMonetizationAvatarItems,"monetization/avatar-items"),a),i=d(61308);function j(a,d){var b,c={};return c[i.Z.MaxTime]=(null!==(b=a.periodEndDate)&& void 0!==b?b:d).getTime().toString(),a.periodStartDate&&(c[i.Z.MinTime]=a.periodStartDate.getTime().toString()),c}var k=function(e,a,f){var b,c,d="/dashboard/creations/experiences/".concat(f).concat(h[e]);return 0===Object.keys(a).length?d:"".concat(d,"?").concat((b=a,c=new URLSearchParams,Object.entries(b).forEach(function(d){var b=(0,g.Z)(d,2),e=b[0],a=b[1];Array.isArray(a)?a.forEach(function(a){c.append(e,a)}):c.append(e,a)}),c.toString()))}},37501:function(d,b,a){"use strict";var e=a(51438),f=a(16483),g=a(77424),h=a(87309),i=a(35111),j=a(9649),k=a(84807),l=a(59258),c=new(function(){function b(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:(0,l.N)("experience-subscriptions");(0,e.Z)(this,b),this.developerSubscriptionsApi=new g.z(new f.VK({robloxSiteDomain:"roblox.com",basePath:a,credentials:"include"}))}var a=b.prototype;return a.canUserAccessSubscriptions=function(a){return this.developerSubscriptionsApi.developerSubscriptionProductsGetDeveloperSubscriptionPermission({experienceId:a})},a.uploadImage=function(a,b,c,d){return this.developerSubscriptionsApi.developerSubscriptionProductsUploadDeveloperSubscriptionImage({experienceId:a,subscriptionProductId:b,actingUserId:c,imageFile:d})},a.getExperienceSubscription=function(a,b){return this.developerSubscriptionsApi.developerSubscriptionProductsGetDeveloperSubscriptionProductById({experienceId:a,subscriptionProductId:b})},a.getExperienceSubscriptions=function(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:50;return this.developerSubscriptionsApi.developerSubscriptionProductsGetDeveloperSubscriptionProductsByUniverse({experienceId:a,cursor:b,resultsPerPage:c})},a.getExperienceAppStoreName=function(a){return this.developerSubscriptionsApi.developerSubscriptionProductsGetExperienceAppStoreNameByUniverseId({experienceId:a})},a.createExperienceSubscription=function(a,b,c,d,e){return this.developerSubscriptionsApi.developerSubscriptionProductsCreateDeveloperSubscriptionProduct({experienceId:a,developerSubscriptionProductsCreateDeveloperSubscriptionProductRequest:{productName:b,productDescription:c,productType:d,basePriceId:e}})},a.updateExperienceSubscription=function(a,b,c){return this.developerSubscriptionsApi.developerSubscriptionProductsUpdateDeveloperSubscriptionProduct({experienceId:a,subscriptionProductId:b,developerSubscriptionProductsUpdateDeveloperSubscriptionProductRequest:{imageAssetId:c}})},a.activateExperienceSubscription=function(a,b){return this.developerSubscriptionsApi.developerSubscriptionProductsActivateDeveloperSubscription({experienceId:a,subscriptionProductId:b})},a.deactivateExperienceSubscription=function(a,b){return this.developerSubscriptionsApi.developerSubscriptionProductsDeactivateDeveloperSubscription({experienceId:a,subscriptionProductId:b})},a.deleteExperienceSubscription=function(a,b){return this.developerSubscriptionsApi.developerSubscriptionProductsDeleteDeveloperSubscription({experienceId:a,subscriptionProductId:b})},a.getPriceInfo=function(a){return this.developerSubscriptionsApi.developerSubscriptionProductsGetDeveloperSubscriptionPricing({experienceId:a})},a.getAnalytics=function(b,c,d,e,f,a,g){var i={metric:b,granularity:g,startTime:d,endTime:e,breakdown:c,filter:a?[{dimension:h.bb.DeveloperSubscriptionProduct,values:[a]}]:[]};return this.developerSubscriptionsApi.developerSubscriptionProductsGetDeveloperSubscriptionsAnalytics({experienceId:f,developerSubscriptionProductsGetDeveloperSubscriptionsAnalyticsRequest:i})},a.getChartAnalytics=function(c,e,f,g,d){var a=null,b=null;switch(c){case k.o.Sales:a=i.UR.DeveloperSubscriptionSales,b=[];break;case k.o.SalesByProduct:a=i.UR.DeveloperSubscriptionSales,b=[h.bb.DeveloperSubscriptionProduct];break;case k.o.SalesBySubscriptionType:a=i.UR.DeveloperSubscriptionSales,b=[h.bb.SubscriptionType];break;case k.o.SalesByPlatform:a=i.UR.DeveloperSubscriptionSales,b=[h.bb.PurchasePlatform];break;case k.o.Revenue:a=i.UR.DeveloperSubscriptionRevenue,b=[];break;case k.o.RevenueByProduct:a=i.UR.DeveloperSubscriptionRevenue,b=[h.bb.DeveloperSubscriptionProduct];break;case k.o.RevenueByPlatform:a=i.UR.DeveloperSubscriptionRevenue,b=[h.bb.PurchasePlatform];break;case k.o.CancellationsBySubscriptionType:a=i.UR.DeveloperSubscriptionCancellations,b=[h.bb.SubscriptionType];break;default:var l=c;throw Error("Unrecognized chartKey ".concat(l,"."))}var m={metric:a,granularity:j.$b.Day,startTime:e,endTime:f,breakdown:b,filter:d?[{dimension:h.bb.DeveloperSubscriptionProduct,values:[d]}]:[]};return this.developerSubscriptionsApi.developerSubscriptionProductsGetDeveloperSubscriptionsAnalytics({experienceId:g,developerSubscriptionProductsGetDeveloperSubscriptionsAnalyticsRequest:m})},a.getOrSuggestShortenedExperienceName=function(a){return this.developerSubscriptionsApi.developerSubscriptionProductsGetOrSuggestShortenedExperienceName({experienceId:a})},a.confirmShortenedExperienceName=function(a,b){return this.developerSubscriptionsApi.developerSubscriptionProductsConfirmShortenedExperienceName({experienceId:a,confirmShortenedExperienceNameRequest:{shortenedName:b}})},b}());b.ZP=c},32139:function(f,b,a){"use strict";var g=a(47568),h=a(51438),c=a(34051),i=a.n(c),j=a(16483),k=a(77968),l=a(22396),m=a(25047),n=a(59258),o=a(83826),d=function(){function b(){var c=arguments.length>0&& void 0!==arguments[0]?arguments[0]:(0,n.N)("universes");(0,h.Z)(this,b);var a=new j.VK({robloxSiteDomain:"roblox.com",basePath:c,credentials:"include"});this.placesApi=new k._(a),this.searchApi=new l.W(a)}var a=b.prototype;return a.addPlaceToUniverse=function(a,b){var c=this;return(0,g.Z)(i().mark(function d(){var e;return i().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,c.placesApi.placesAddPlaceToUniverse(a,b);case 3:d.next=15;break;case 5:return d.prev=5,d.t0=d.catch(0),d.next=9,(0,o.Z)(d.t0);case 9:if(!(e=d.sent)){d.next=14;break}throw new m.Z(e.code,e.message);case 14:throw d.t0;case 15:case"end":return d.stop()}},d,null,[[0,5]])}))()},a.removePlaceFromUniverse=function(a,b){var c=this;return(0,g.Z)(i().mark(function d(){var e;return i().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,c.placesApi.placesRemovePlaceFromUniverse(a,b);case 3:d.next=15;break;case 5:return d.prev=5,d.t0=d.catch(0),d.next=9,(0,o.Z)(d.t0);case 9:if(!(e=d.sent)){d.next=14;break}throw new m.Z(e.code,e.message);case 14:throw d.t0;case 15:case"end":return d.stop()}},d,null,[[0,5]])}))()},a.getOwnedPlacesByContext=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},b=arguments.length>1?arguments[1]:void 0,c=this;return(0,g.Z)(i().mark(function d(){var e;return i().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.abrupt("return",c.placesApi.placesGetOwnedPlacesByCreationContext(a,b));case 4:return d.prev=4,d.t0=d.catch(0),d.next=8,(0,o.Z)(d.t0);case 8:if(!(e=d.sent)){d.next=13;break}throw new m.Z(e.code,e.message);case 13:throw d.t0;case 14:case"end":return d.stop()}},d,null,[[0,4]])}))()},a.getOwnedPlacesByContextV2=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{},b=arguments.length>1?arguments[1]:void 0,c=this;return(0,g.Z)(i().mark(function d(){var e;return i().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.abrupt("return",c.placesApi.placesGetOwnedPlacesByCreationContext(a,b));case 4:return d.prev=4,d.t0=d.catch(0),d.next=8,(0,o.Z)(d.t0);case 8:if(!(e=d.sent)){d.next=13;break}throw new m.Z(e.code,e.message);case 13:throw d.t0;case 14:case"end":return d.stop()}},d,null,[[0,4]])}))()},a.getJoinRestrictions=function(a,b){var c=this;return(0,g.Z)(i().mark(function d(){var e;return i().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.abrupt("return",c.placesApi.placesGetJoinRestrictions(a,b));case 4:return d.prev=4,d.t0=d.catch(0),d.next=8,(0,o.Z)(d.t0);case 8:if(!(e=d.sent)){d.next=13;break}throw new m.Z(e.code,e.message);case 13:throw d.t0;case 14:case"end":return d.stop()}},d,null,[[0,4]])}))()},a.updateJoinRestrictions=function(a,b){var c=this;return(0,g.Z)(i().mark(function d(){var e;return i().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,c.placesApi.placesUpdateJoinRestrictions(a,b);case 3:d.next=15;break;case 5:return d.prev=5,d.t0=d.catch(0),d.next=9,(0,o.Z)(d.t0);case 9:if(!(e=d.sent)){d.next=14;break}throw new m.Z(e.code,e.message);case 14:throw d.t0;case 15:case"end":return d.stop()}},d,null,[[0,5]])}))()},a.searchUniverses=function(a){var b=this;return(0,g.Z)(i().mark(function c(){return i().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",b.searchApi.searchSearchUniverses(a));case 1:case"end":return c.stop()}},c)}))()},a.migrateUniverse=function(a,b){var c=this;return(0,g.Z)(i().mark(function d(){var e;return i().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,c.placesApi.placesMigrateUniverse(a,b);case 3:d.next=15;break;case 5:return d.prev=5,d.t0=d.catch(0),d.next=9,(0,o.Z)(d.t0);case 9:if(!(e=d.sent)){d.next=14;break}throw new m.Z(e.code,e.message);case 14:throw d.t0;case 15:case"end":return d.stop()}},d,null,[[0,5]])}))()},b}(),e=new d;b.Z=e},48622:function(d,c,a){"use strict";var e=a(26042),f=a(69396),b=a(41497),g={isForSale:!1,canBeFree:!1,canBePaid:!1,canBeSold:!0,price:0,premiumDiscountPercentage:0,premiumPrice:0,maxPrice:0,minPrice:0,marketFeeRate:0},h=[b.Cj.OnSale,b.Cj.Free];c.Z=function(j,m){var d=j.status,c=j.priceConfiguration,k=j.assetType,l=m.allowedAssetTypesForRelease,n=m.allowedAssetTypesForFree,a=(0,f.Z)((0,e.Z)({},g),{isForSale:!!d&&h.includes(d),price:null==c?void 0:c.priceInRobux,premiumDiscountPercentage:null==c?void 0:c.premiumDiscountPercentage,premiumPrice:null==c?void 0:c.premiumPriceInRobux});if(l&&l[k]){var o=l[k],i=o.allowedPriceRange,p=o.marketplaceFeesPercentage;a.maxPrice=(null==i?void 0:i.maxRobux)||0,a.minPrice=(null==i?void 0:i.minRobux)||0,a.marketFeeRate=p?p/100:0,d===b.Cj.Free&&(a.price=0,a.premiumPrice=0),a.canBePaid=!0}return n&&n.includes(k)&&(a.canBeFree=!0,(d===b.Cj.Free|| void 0===a.price)&&(a.price=0)),a}},99249:function(j,f,a){"use strict";a.d(f,{Z:function(){return aC}});var d,b,k=a(85893),l=a(67294),m=a(11163),e=a(1989),g=a(51134),n=a(61110),o=a(43182),p=a(23529),q=a(65085),r=a(35269),s=a(55665),h=a(85550),t=a(6221),u=a(9993),v=a(91749),w=a(29684),x=a(74953),y=a(67008),z=a(47568),A=a(82670),i=a(34051),B=a.n(i),C=a(12717),D=a(57919),E=a(62858),F=a(32139),G=a(25047),H=a(25155),I=function(a){var y,m=a.creation,n=a.handleClose,p=a.isDisabled,f=(0,l.useState)(!1),b=f[0],I=f[1],c=(0,C.R)(),r=c.open,g=c.close,h=c.configure,i=(0,o.D)(),s=i.enqueue,u=i.close,d=(0,e.$G)().translate,v=(0,l.useCallback)(function(a){s({message:a,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:t.JH,autoHide:!0,onClose:u})},[s,u]),w=(0,l.useCallback)((0,z.Z)(B().mark(function a(){var b,c,e,f;return B().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(I(!0),a.prev=1,void 0!==m.universeId){a.next=4;break}throw new G.Z(H.Z.UnknownError,d("Response.UnknownError"));case 4:return a.next=6,F.Z.migrateUniverse({universeId:m.universeId});case 6:v((0,k.jsx)("span",{"data-testid":"success-message",children:d("Message.MigrateUniverseSuccess",{universeName:null!==(b=m.name)&& void 0!==b?b:""})})),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(1),c=(0,k.jsx)("span",{"data-testid":"error-message",children:d("Response.UnknownError")}),(0,A.Z)(a.t0,G.Z)&&Object.values(H.Z).includes(a.t0.code)&&(e=a.t0.code,f=H.Z[e],c=(0,k.jsx)("span",{"data-testid":"error-message",children:d("Error.".concat(f))})),v(c);case 15:return a.prev=15,I(!1),g(),n(),a.finish(15);case 20:case"end":return a.stop()}},a,null,[[1,10,15,20]])})),[m,v,d,n,g]),j=(0,l.useMemo)(function(){return(0,k.jsx)(D.Z,{color:"destructive",onConfirm:w,onCancel:g,title:(0,k.jsxs)("div",{children:[d("Title.MigrateUniverse"),(0,k.jsx)("br",{}),(0,k.jsx)(E.Z,{variant:"subtitle1",color:"secondary",children:m.name})]}),content:(0,k.jsxs)("div",{children:[d("Description.MigrateUniverseTopDialog",{universeName:null!==(y=m.name)&& void 0!==y?y:""}),(0,k.jsx)("br",{}),(0,k.jsx)("br",{}),d("Description.MigrateUniverseBottomDialog")]}),confirmText:d("Action.Restart"),cancelText:d("Action.Cancel"),loading:b})},[b,w,d,g]),x=(0,l.useCallback)(function(){h(j),r()},[h,r,j]);return(0,l.useEffect)(function(){b&&h(j)},[b,j,h]),(0,k.jsx)(q.Z,{"data-testid":"experience-menu-item-migrate-universe",onClick:x,disabled:b||p,children:(0,k.jsx)(E.Z,{color:"error",children:d("Action.MigrateUniverse")})})},J=a(85465);(b=d||(d={}))[b.UnknownError=0]="UnknownError",b[b.InvalidUniverse=1]="InvalidUniverse",b[b.NoRootPlace=2]="NoRootPlace",b[b.InvalidUniversePermissions=3]="InvalidUniversePermissions",b[b.InvalidRootPlace=6]="InvalidRootPlace",b[b.MaxPlacesReached=7]="MaxPlacesReached",b[b.EndpointNotEnabled=13]="EndpointNotEnabled";var K=d,L=function(a){var m=a.creation,n=a.handleClose,p=a.isDisabled,f=(0,l.useState)(!1),b=f[0],y=f[1],c=(0,C.R)(),r=c.open,g=c.close,h=c.configure,i=(0,o.D)(),s=i.enqueue,u=i.close,d=(0,e.$G)().translate,v=(0,l.useCallback)(function(a){s({message:a,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:t.JH,autoHide:!0,onClose:u})},[s,u]),w=(0,l.useCallback)((0,z.Z)(B().mark(function a(){var b,c,e;return B().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(y(!0),a.prev=1,void 0!==m.universeId){a.next=4;break}throw new G.Z(K.UnknownError,d("Response.UnknownError"));case 4:return a.next=6,J.ZP.shutDownAllServers(m.universeId);case 6:v((0,k.jsx)("span",{"data-testid":"success-message",children:d("Message.ShutDownSuccess")})),a.next=14;break;case 9:a.prev=9,a.t0=a.catch(1),b=(0,k.jsx)("span",{"data-testid":"error-message",children:d("Response.UnknownError")}),(0,A.Z)(a.t0,G.Z)&&Object.values(K).includes(a.t0.code)&&(e=K[c=a.t0.code],b=(0,k.jsx)("span",{"data-testid":"error-message",children:d("Error.".concat(e))})),v(b);case 14:return a.prev=14,y(!1),g(),n(),a.finish(14);case 19:case"end":return a.stop()}},a,null,[[1,9,14,19]])})),[m,v,d,n,g]),j=(0,l.useMemo)(function(){return(0,k.jsx)(D.Z,{color:"destructive",onConfirm:w,onCancel:g,title:d("Title.ShutDownServers"),content:d("Description.ShutDownAllServers"),confirmText:d("Action.OK"),cancelText:d("Action.Cancel"),loading:b})},[b,w,d,g]),x=(0,l.useCallback)(function(){h(j),r()},[h,r,j]);return(0,l.useEffect)(function(){b&&h(j)},[b,j,h]),(0,k.jsx)(q.Z,{"data-testid":"experience-menu-item-shut-down-server",onClick:x,disabled:b||p,children:(0,k.jsx)(E.Z,{color:"error",children:d("Action.ShutDownAllServers")})})},M=a(26042),N=a(69396),O=a(76862),P=a(48304),Q=a(37501),R=a(17877),c=a(29781),S=a(84600),T=a(77914),U=a(43618),V=a(4673),W=a(7832),X=a(17079),Y=a(35054),Z=a(59839),$=a(52613),_=a(43792),aa=a(87536),ab=a(19269),ac=a(84588),ad=a(61238),ae=a(1284),af=a(37067),ag={name:{required:"Message.RequiredFieldMissed",maxLength:25,pattern:{value:/^[a-zA-Z0-9.,:/!?@#&' ]+$/,message:"Message.AllowedSENCharacters"},validate:{minLength:function(a){return a.length>=2||"Error.SENNameLength"}}},confirmedName:{required:"Message.RequiredFieldMissed",maxLength:25}},ah={name:"",confirmedName:""},ai=function(a){var m,e=a.suggestedName,b=a.translate,n=a.translateHTML,o=a.onCancel,p=a.onSuccess,q=a.universeId,s=a.showCenterMsg,f=(0,af.Z)(),t=f.createButton,u=f.inputFormPadding,c=(0,aa.cI)({mode:ab.Z.OnTouched,reValidateMode:ab.Z.OnChange,defaultValues:{name:e||ah.name,confirmedName:e||ah.confirmedName},shouldUnregister:!0}),d=c.formState,v=c.handleSubmit,w=c.watch,g=c.control,h=c.setValue,x=c.setError,i=d.isSubmitting,F=d.errors,y=d.isValid,A=d.isValidating,G=w("name"),j=(0,l.useState)(!1),C=j[0],H=j[1],D=(0,l.useCallback)((m=(0,z.Z)(B().mark(function a(c){var d,e,f,g;return B().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(q){a.next=2;break}return a.abrupt("return",Promise.resolve());case 2:return d=c.confirmedName?c.confirmedName.trim():c.name.trim(),a.prev=3,a.next=6,Q.ZP.confirmShortenedExperienceName(q,d);case 6:s(b("Message.SENCreationSuccess"),!0),p(),a.next=33;break;case 10:if(a.prev=10,a.t0=a.catch(3),(null==(e=(0,ae.Z)(a.t0))?void 0:e.status)!==500){a.next=16;break}return s(b("Error.UnknownSubscriptionError"),!1),a.abrupt("return",Promise.resolve());case 16:return a.next=18,null==e?void 0:e.json();case 18:f=a.sent,a.t1=f.failureReason,a.next=a.t1===ad.S9.ShortenedNameModerated?22:a.t1===ad.S9.ShortenedNameTaken?28:32;break;case 22:return h("name",null!==(g=f.hint)&& void 0!==g?g:c.name),h("confirmedName",""),x("name",{type:"manual",message:"Error.ModeratedName"}),H(!0),a.abrupt("break",33);case 28:return x("name",{type:"manual",message:"Error.NameTaken"}),h("confirmedName",""),H(!0),a.abrupt("break",33);case 32:s(b("Error.UnknownSubscriptionError"),!1);case 33:return a.abrupt("return",Promise.resolve());case 34:case"end":return a.stop()}},a,null,[[3,10]])})),function(a){return m.apply(this,arguments)}),[p,x,h,s,b,q]),I=(0,l.useCallback)(function(){h("confirmedName",""),H(!0)},[h]);return(0,k.jsxs)(l.Fragment,{children:[(0,k.jsx)(S.Z,{children:b("Heading.SEN")}),(0,k.jsxs)(T.Z,{dividers:!0,children:[(0,k.jsxs)(U.D,{children:[(0,k.jsx)(E.Z,{children:n("Description.SENContext",[{opening:"LinkStart",closing:"LinkEnd",content:function(a){return(0,k.jsx)(P.L,{href:ac.KV,target:"_blank",color:"primary",children:a})}}])}),(0,k.jsx)("br",{}),(0,k.jsx)("br",{}),(0,k.jsx)(E.Z,{children:b("Description.SENActivationWarning")})]}),(0,k.jsxs)(V.Z,{container:!0,item:!0,direction:"column",xs:12,mt:3,classes:{root:u},children:[(0,k.jsx)(V.Z,{item:!0,xs:12,children:(0,k.jsx)(aa.Qr,{name:"name",control:g,rules:ag.name,render:function(c){var a=c.field;return(0,k.jsx)(W.Z,(0,N.Z)((0,M.Z)({},a),{variant:"filled",error:!!F.name,fullWidth:!0,multiline:!0,required:!0,id:"name",disabled:!C,label:b("Heading.SEN"),InputProps:{endAdornment:(0,k.jsx)(X.I,{position:"end",children:(0,k.jsx)(Y.Z,{"data-testid":"show-password-button",onClick:I,"aria-label":"",children:!C&&(0,k.jsx)(r.U,{fontSize:"medium",color:"secondary"})})}),inputProps:{maxLength:ag.name.maxLength}},helperText:(0,k.jsx)(E.Z,{variant:"subtitle2",children:F.name&&F.name.message?b(F.name.message):(0,k.jsx)(l.Fragment,{children:C&&"".concat(b("Label.CharacterCountLimit",{count:a.value.length.toString(),limit:ag.name.maxLength.toString()}),". ").concat(b("Message.UniqueNames"),"\n").concat(b("Message.AllowedSENCharacters"))})})}))}})}),C&&(0,k.jsx)(V.Z,{item:!0,xs:12,children:(0,k.jsx)(aa.Qr,{name:"confirmedName",control:g,rules:(0,N.Z)((0,M.Z)({},ag.confirmedName),{validate:function(a){return(null==a?void 0:a.trim())===G.trim()||"Error.NamesDoNotMatch"}}),render:function(a){var c=a.field;return(0,k.jsx)(W.Z,(0,N.Z)((0,M.Z)({},c),{variant:"filled",error:!!F.confirmedName,fullWidth:!0,multiline:!0,required:!0,hidden:!C,id:"confirmedName",label:b("Heading.ConfirmSEN"),inputProps:{maxLength:ag.confirmedName.maxLength},helperText:(0,k.jsx)(E.Z,{variant:"subtitle2",children:F.confirmedName&&F.confirmedName.message?b(F.confirmedName.message):b("Label.NameCaseSensitive")})}))}})})]})]}),(0,k.jsx)(Z.Z,{children:(0,k.jsxs)(V.Z,{container:!0,direction:"column",alignItems:"center",children:[(0,k.jsx)(O.A,{severity:"warning",variant:"outlined",sx:{border:0},children:(0,k.jsx)($.A,{children:b("Warning.CannotChangeSENAfterConfirmation")})}),(0,k.jsxs)(V.Z,{container:!0,direction:"row",justifyContent:"center",mt:2,children:[(0,k.jsx)(_.Z,{variant:"outlined",color:"secondary",onClick:o,disabled:i,size:"large",children:b("Action.Cancel")}),(0,k.jsx)(_.Z,{classes:{root:t},variant:"contained",color:"primary",onClick:v(D),disabled:!A&&!y,size:"large",loading:i,children:b("Action.Confirm")})]})]})})]})},aj=(0,e.Zh)(function(c){var a=c.creation,g=c.handleClose,x=c.updateItem,h=(0,o.D)(),y=h.enqueue,A=h.close,i=(0,e.$G)(),b=i.translate,F=i.translateHTML,d=(0,C.R)(),G=d.open,j=d.close,m=d.configure,n=(0,l.useState)(!1),p=n[0],K=n[1],r=(0,l.useState)(""),s=r[0],L=r[1],u=(0,l.useState)(!1),v=u[0],S=u[1],f=(0,l.useCallback)(function(a,b){y({children:(0,k.jsx)(O.A,{severity:b?"success":"error",children:a}),anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:t.JH,autoHide:!0,onClose:A})},[y,A]),H=(0,l.useCallback)((0,z.Z)(B().mark(function b(){var c,d,e,f;return B().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!a.universeId){b.next=9;break}return b.next=3,Q.ZP.getOrSuggestShortenedExperienceName(a.universeId);case 3:d=(c=b.sent).shortenedName,e=c.suggestedShortenedName,f=void 0===d,S(f),L(f?null!=e?e:"":void 0);case 9:case"end":return b.stop()}},b)})),[a.universeId]),I=(0,l.useCallback)((0,z.Z)(B().mark(function c(){var d,e,h,i;return B().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return K(!0),e=(null===(d=a.subscriptionProductId)|| void 0===d?void 0:d.startsWith("EXP-"))?a.subscriptionProductId.substring(4):a.subscriptionProductId,c.prev=3,c.next=7,Q.ZP.activateExperienceSubscription(null!==(h=a.universeId)&& void 0!==h?h:0,null!=e?e:"");case 7:(i=c.sent.success)?(x((0,N.Z)((0,M.Z)({},a),{productStatus:2})),f(b("Message.ActivateSubscriptionSuccess"),i)):f(b("Error.UnknownSubscriptionError"),!1),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(3),f(b("Error.UnknownSubscriptionError"),!1);case 14:K(!1),j(),g();case 17:case"end":return c.stop()}},c,null,[[3,11]])})),[a,j,g,x,f,b]),w=(0,l.useMemo)(function(){var c,d;return v?(0,k.jsx)(ai,{universeId:null!==(c=a.universeId)&& void 0!==c?c:0,translate:b,translateHTML:F,suggestedName:null!=s?s:"",onCancel:function(){j(),g()},onSuccess:function(){S(!1),L(void 0),j(),g()},showCenterMsg:f}):(0,k.jsx)(D.Z,{onConfirm:I,onCancel:j,title:b("Heading.ActivateSubscription"),content:(0,k.jsxs)(E.Z,{color:"primary",children:[b("Message.ActivateSubscriptionPrompt",{name:null!==(d=a.name)&& void 0!==d?d:""}),(0,k.jsx)("br",{}),(0,k.jsx)("br",{}),F("Message.AgreeToTermsAndUse",[{opening:"LinkStart",closing:"LinkEnd",content:function(a){return(0,k.jsx)(P.L,{href:"https://en.help.roblox.com/hc/articles/19694609252884/",target:"_blank",children:a})}}])]}),confirmText:b("Action.Activate"),cancelText:b("Action.Cancel"),loading:p})},[b,j,v,I,a.name,a.universeId,p,F,s,f,g]),J=(0,l.useCallback)(function(){H().catch(function(){f(b("Error.UnknownSubscriptionError"),!1)})},[H,f,b]);return((0,l.useEffect)(function(){p&&m(w)},[p,w,m]),(0,l.useEffect)(function(){(void 0===s||v)&&(m(w),G())},[m,w,G,v,s]),a.productStatus!==R.zX.Inactive)?null:(0,k.jsx)(l.Fragment,{children:(0,k.jsx)(q.Z,{onClick:J,children:(0,k.jsx)(E.Z,{children:b("Action.Activate")})},"Action.Activate")})},[c.Z.ConfigureItem,c.Z.Creations,c.Z.ExperienceSubscriptions]),ak=function(a){var b=a.creation,m=a.handleClose,n=a.updateItem,f=(0,o.D)(),p=f.enqueue,r=f.close,c=(0,e.$G)().translate,d=(0,C.R)(),s=d.open,g=d.close,h=d.configure;(0,v.rV)().settings;var i=(0,l.useState)(!1),u=i[0],A=i[1],w=(0,l.useCallback)(function(a,b){p({children:(0,k.jsx)(O.A,{severity:b?"success":"error",children:a}),anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:t.JH,autoHide:!0,onClose:r})},[p,r]),x=(0,l.useCallback)((0,z.Z)(B().mark(function a(){var d,e,f,h;return B().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return A(!0),e=(null===(d=b.subscriptionProductId)|| void 0===d?void 0:d.startsWith("EXP-"))?b.subscriptionProductId.substring(4):b.subscriptionProductId,a.prev=3,a.next=7,Q.ZP.deactivateExperienceSubscription(null!==(f=b.universeId)&& void 0!==f?f:0,null!=e?e:"");case 7:(h=a.sent.success)?(n((0,N.Z)((0,M.Z)({},b),{productStatus:1})),w(c("Message.DeactivateSubscriptionSuccess"),h)):w(c("Error.UnknownSubscriptionError"),!1),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(3),w(c("Error.UnknownSubscriptionError"),!1);case 14:A(!1),g(),m();case 17:case"end":return a.stop()}},a,null,[[3,11]])})),[b,g,n,w,c]),j=(0,l.useMemo)(function(){var a;return(0,k.jsx)(D.Z,{onConfirm:x,onCancel:g,title:c("Heading.DeactivateSubscription"),content:(0,k.jsx)(E.Z,{color:"primary",children:c("Message.DeactivateSubscriptionPrompt",{name:null!==(a=b.name)&& void 0!==a?a:""})}),confirmText:c("Action.Deactivate"),cancelText:c("Action.Cancel"),loading:u})},[x,g,c,b.name]),y=(0,l.useCallback)(function(){h(j),s()},[h,j,m,s]);return((0,l.useEffect)(function(){u&&h(j)},[u,j,h]),b.productStatus!==R.zX.Active)?null:(0,k.jsx)(q.Z,{onClick:y,children:(0,k.jsx)(E.Z,{children:c("Action.Deactivate")})},"Action.Deactivate")},al=a(85277),am=(0,e.Zh)(function(g){var b=g.creation,r=g.removeItem,h=(0,o.D)(),s=h.enqueue,u=h.close,d=(0,e.$G)().translate,f=(0,C.R)(),i=f.open,j=f.close,m=f.configure,v=(0,af.Z)().createButton,a=(0,aa.cI)({mode:ab.Z.OnTouched,reValidateMode:ab.Z.OnChange,defaultValues:{confirmedId:""},shouldUnregister:!0}),c=a.formState,w=(a.handleSubmit,a.watch),x=a.control;a.setError;var y=c.isSubmitting,A=c.errors;c.isValid,c.isValidating;var n=w("confirmedId"),D=(0,l.useCallback)(function(a,b){s({children:(0,k.jsx)(O.A,{severity:b?"success":"error",children:a}),anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:t.JH,autoHide:!0,onClose:u})},[s,u]),F=(0,l.useCallback)((0,z.Z)(B().mark(function a(){var c,e,f,g,h,i;return B().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e=(null===(c=b.subscriptionProductId)|| void 0===c?void 0:c.startsWith("EXP-"))?b.subscriptionProductId.substring(4):b.subscriptionProductId,a.next=6,Q.ZP.deleteExperienceSubscription(null!==(f=b.universeId)&& void 0!==f?f:0,null!=e?e:"");case 6:(g=a.sent.success)?(r(),D(d("Message.SubscriptionDeleted"),g)):D(d("Message.SubscriptionDeletionError"),!1),a.next=17;break;case 10:return a.prev=10,a.t0=a.catch(0),h=(0,ae.Z)(a.t0),a.next=15,(0,al.Z)(h);case 15:D(d(i=a.sent),!1);case 17:j();case 18:case"end":return a.stop()}},a,null,[[0,10]])})),[b.universeId,b.subscriptionProductId,j,r,D,d]),p=(0,l.useMemo)(function(){var a,c;return(0,k.jsxs)(l.Fragment,{children:[(0,k.jsx)(S.Z,{children:d("Heading.DeleteSubscription")}),(0,k.jsxs)(T.Z,{dividers:!0,children:[(0,k.jsx)(E.Z,{color:"primary",children:d("Message.DeleteSubscriptionConfirmation")}),(0,k.jsx)("br",{}),(0,k.jsx)("br",{}),(0,k.jsx)(E.Z,{color:"primary",children:d("Message.SubscriptionDigitConfirmation",{subscriptionName:null!==(c=b.name)&& void 0!==c?c:""})}),(0,k.jsx)("br",{}),(0,k.jsx)("br",{}),(0,k.jsx)(aa.Qr,{name:"confirmedId",control:x,rules:{validate:function(c){var a;return(null==c?void 0:c.trim())===(null===(a=b.subscriptionProductId)|| void 0===a?void 0:a.slice(-4))||""}},render:function(a){var b=a.field;return(0,k.jsx)(W.Z,(0,N.Z)((0,M.Z)({},b),{variant:"filled",error:!!A.confirmedId,fullWidth:!0,required:!0,id:"confirmedId",label:d("Label.Last4SubscriptionIdDigits"),InputProps:{inputProps:{maxLength:4}}}))}})]}),(0,k.jsx)(Z.Z,{children:(0,k.jsxs)(V.Z,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"center",children:[(0,k.jsx)(_.Z,{variant:"outlined",color:"secondary",onClick:j,disabled:y,size:"large",children:d("Action.KeepSubscription")}),(0,k.jsx)(_.Z,{classes:{root:v},variant:"contained",color:"primary",onClick:F,disabled:n!==(null===(a=b.subscriptionProductId)|| void 0===a?void 0:a.slice(-4)),size:"large",loading:y,children:d("Action.Delete")})]})})]})},[j,n,x,v,b.name,b.subscriptionProductId,F,A.confirmedId,y,d]),G=(0,l.useCallback)(function(){m(p),i()},[m,p,i]);return(0,l.useEffect)(function(){n&&4===n.length&&(m(p),i())},[m,p,n,i]),(0,k.jsx)(q.Z,{onClick:G,children:(0,k.jsx)(E.Z,{color:"error",children:d("Action.Delete")})},"Action.Delete")},[c.Z.ExperienceSubscriptions,c.Z.Creations]),an=function(a){var r=a.itemType,b=a.creation,s=a.removeItem,v=a.handleClose,w=a.isDisabled,g=(0,l.useState)(!1),d=g[0],K=g[1],f=(0,C.R)(),x=f.open,h=f.close,i=f.configure,j=(0,e.$G)(),c=j.translate,y=j.translateHTML,m=(0,o.D)(),A=m.enqueue,F=m.close,G=(0,l.useCallback)(function(a){A({message:a,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:t.JH,autoHide:!0,onClose:F})},[A,F]),H=(0,l.useCallback)(function(){h()},[h]),n=(0,l.useCallback)((0,z.Z)(B().mark(function a(){var d,e,f,g;return B().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:K(!0),a.t0=r,a.next=a.t0===u.Z.Game?5:(a.t0,u.Z.LibraryAsset,8);break;case 5:return d=J.ZP.setUniverseConfiguration(null!==(e=b.universeId)&& void 0!==e?e:0,!b.isArchived),a.abrupt("break",10);case 8:d=b.isArchived?J.ZP.restoreAsset(null!==(f=b.assetId)&& void 0!==f?f:0):J.ZP.archiveAsset(null!==(g=b.assetId)&& void 0!==g?g:0);case 10:return a.prev=10,a.next=13,d;case 13:s(),G(b.isArchived?c("Message.RestoreSuccess"):c("Message.ArchiveSuccess")),a.next=20;break;case 17:a.prev=17,a.t1=a.catch(10),G(c("Response.UnknownError"));case 20:return a.prev=20,K(!1),H(),v(),a.finish(20);case 25:case"end":return a.stop()}},a,null,[[10,17,20,25]])})),[r,b,s,G,c,v,H]),p=(0,l.useMemo)(function(){return(0,k.jsx)(D.Z,{onConfirm:n,onCancel:h,title:c("Action.Confirm"),content:y("Description.Archive",null,{lineBreak:(0,k.jsxs)(l.Fragment,{children:[(0,k.jsx)("br",{}),(0,k.jsx)("br",{})]})}),confirmText:c("Action.OK"),cancelText:c("Action.Cancel"),loading:d})},[d,n,c,y,h]),I=(0,l.useCallback)(function(){i(p),x()},[p,i,x]);return(0,l.useEffect)(function(){d&&i(p)},[d,p,i]),(0,k.jsx)(q.Z,{onClick:b.isArchived||!b.isActive?n:I,disabled:d||w,children:b.isArchived?(0,k.jsx)(E.Z,{color:"success",children:c("Action.Restore")}):(0,k.jsx)(E.Z,{color:"error",children:c("Action.Archive")})})},ao=a(53696),ap=a(95417),aq=function(a){var I,J,b=a.creation,p=a.removeItem,r=a.handleClose,s=a.isDisabled,f=(0,l.useState)(!1),g=f[0],K=f[1],c=(0,C.R)(),t=c.open,h=c.close,i=c.configure,j=(0,o.D)(),u=j.enqueue,v=j.close,d=(0,e.$G)().translate,m=(0,ap.Z)().gameDetails,w=(0,l.useCallback)(function(a,b){b?u({message:a,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHide:!0,onClose:v}):u({children:(0,k.jsx)(O.A,{severity:"error",children:a}),autoHide:!0,onClose:v})},[u,v]),x=(0,l.useCallback)((0,z.Z)(B().mark(function a(){var c,e,f,g;return B().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(K(!0),a.prev=1,!(void 0===b.universeId|| void 0===b.placeId|| void 0===b.name)){a.next=4;break}throw new G.Z(H.Z.UnknownError,d("Response.UnknownError"));case 4:return c={universeId:b.universeId,placeId:b.placeId},a.next=7,F.Z.removePlaceFromUniverse(c);case 7:p(),w(d("Message.RemovedSuccess",{placeName:b.name}),!0),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(1),e=d("Response.UnknownError"),(0,A.Z)(a.t0,G.Z)&&Object.values(H.Z).includes(a.t0.code)&&(f=a.t0.code,g=H.Z[f],e=d("Error.".concat(g))),w(e,!1);case 16:return a.prev=16,K(!1),h(),r(),a.finish(16);case 21:case"end":return a.stop()}},a,null,[[1,11,16,21]])})),[h,p,b.name,b.placeId,b.universeId,r,w,d]),n=(0,l.useMemo)(function(){return(0,k.jsx)(D.Z,{color:"destructive",onConfirm:x,onCancel:h,title:d("Title.RemovePlace"),content:d("Description.RemovePlaces",{placeName:null!==(I=b.name)&& void 0!==I?I:"",experienceName:null!==(J=null==m?void 0:m.name)&& void 0!==J?J:""}),confirmText:d("Action.Remove"),cancelText:d("Action.Cancel"),loading:g})},[x,h,d,b.name,null==m?void 0:m.name,g]),y=(0,l.useCallback)(function(){i(n),t()},[i,t,n]);return(0,l.useEffect)(function(){g&&i(n)},[i,g,n]),(0,k.jsx)(q.Z,{"data-testid":"experience-menu-item-remove-place",onClick:y,disabled:s,children:(0,k.jsx)(E.Z,{color:"error",children:d("Action.RemovePlaces")})})},ar=a(6165),as=a(99932),at=a(22782),au=a(41497),av=a(71950),aw=a(48622),ax=a(23191),ay=function(b){var c,a=b.creation,i=b.updateItem,j=b.handleClose,m=(0,av.Z)(),n=a.status,p=a.priceConfiguration,r=a.assetType,s=null!==(c=a.assetId)&& void 0!==c?c:0,d=(0,e.$G)().translate,f=(0,l.useMemo)(function(){return(0,aw.Z)({status:n,priceConfiguration:p,assetType:r},m)},[r,m,p,n]),g=(0,l.useState)(!1),u=g[0],C=g[1],h=(0,o.D)(),v=h.enqueue,w=h.close,x=(0,l.useCallback)(function(a){v({message:a,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:t.JH,autoHide:!0,onClose:w})},[v,w]),y=(0,l.useCallback)((0,z.Z)(B().mark(function b(){var c;return B().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return C(!0),b.prev=1,b.next=5,as.ZP.releaseAsset(s,at.gR.OffSale,null!==(c=f.price)&& void 0!==c?c:0);case 5:x(d("Message.TakeOffSaleSuccess")),i((0,N.Z)((0,M.Z)({},a),{status:au.Cj.OffSale,price:null})),b.next=12;break;case 9:b.prev=9,b.t0=b.catch(1),(0,A.Z)(b.t0,G.Z)&&Object.values(ar.Z).includes(b.t0.code)?x(d(ax.Z[b.t0.code])):x(d("Message.TakeOffSaleFailed"));case 12:return b.prev=12,C(!1),j(),b.finish(12);case 16:case"end":return b.stop()}},b,null,[[1,9,12,16]])})),[s,f.price,a,j,x,d,i]);return f.isForSale?(0,k.jsx)(q.Z,{onClick:y,disabled:u,children:(0,k.jsx)(E.Z,{color:"error",children:d("Action.TakeOffSale")})}):null},az=function(b){var J,n,p=b.creation,r=b.handleClose,s=b.isDisabled,f=(0,l.useState)(!1),c=f[0],L=f[1],d=(0,C.R)(),u=d.open,g=d.close,h=d.configure,i=(0,o.D)(),w=i.enqueue,x=i.close,a=(0,e.$G)().translate,y=(0,v.rV)().settings,j=(0,l.useCallback)(function(a){w({message:a,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:t.JH,autoHide:!0,onClose:x})},[w,x]),F=(0,l.useCallback)((n=(0,z.Z)(B().mark(function b(c,d){var e,f,g,h;return B().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return(e=new FormData).append("placeId",c.toString()),e.append("replaceInstance",d.toString()),b.next=5,fetch("https://www.".concat("roblox.com","/games/shutdown-all-instances"),{method:"POST",body:e,credentials:"include"});case 5:return f=b.sent,b.next=9,fetch("https://www.".concat("roblox.com","/games/shutdown-all-instances"),{method:"POST",body:e,headers:{"x-csrf-token":null!==(g=f.headers.get("x-csrf-token"))&& void 0!==g?g:""},credentials:"include"});case 9:j((0,k.jsx)("span",{"data-testid":"success-message",children:y.enableRestartServersForUpdates?a("Message.RestartServersSuccess",{placeName:null!==(h=p.name)&& void 0!==h?h:""}):a("Message.MigrateSuccess")}));case 11:case"end":return b.stop()}},b)})),function(a,b){return n.apply(this,arguments)}),[j,a]),H=(0,l.useCallback)((0,z.Z)(B().mark(function b(){var c,d,e;return B().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(L(!0),b.prev=1,!(void 0===p.universeId|| void 0===p.placeId|| void 0===p.name)){b.next=4;break}throw new G.Z(K.UnknownError,a("Response.UnknownError"));case 4:return b.next=6,F(p.placeId,!0);case 6:b.next=13;break;case 8:b.prev=8,b.t0=b.catch(1),c=(0,k.jsx)("span",{"data-testid":"error-message",children:a("Response.UnknownError")}),(0,A.Z)(b.t0,G.Z)&&Object.values(K).includes(b.t0.code)&&(e=K[d=b.t0.code],c=(0,k.jsx)("span",{"data-testid":"error-message",children:a("Error.".concat(e))})),j(c);case 13:return b.prev=13,L(!1),g(),r(),b.finish(13);case 18:case"end":return b.stop()}},b,null,[[1,8,13,18]])})),[p,j,a,r,g,F]),m=(0,l.useMemo)(function(){return(0,k.jsx)(D.Z,{color:"destructive",onConfirm:H,onCancel:g,title:y.enableRestartServersForUpdates?(0,k.jsxs)("div",{children:[a("Title.RestartServers"),(0,k.jsx)("br",{}),(0,k.jsx)(E.Z,{variant:"subtitle1",color:"secondary",children:p.name})]}):a("Title.MigrateServers"),content:y.enableRestartServersForUpdates?(0,k.jsxs)("div",{children:[a("Description.RestartServersTopDialog",{placeName:null!==(J=p.name)&& void 0!==J?J:""}),(0,k.jsx)("br",{}),(0,k.jsx)("br",{}),a("Description.RestartServersBottomDialog")]}):a("Description.MigratePlaceServers"),confirmText:a(y.enableRestartServersForUpdates?"Action.Restart":"Action.OK"),cancelText:a("Action.Cancel"),loading:c})},[c,H,a,g]),I=(0,l.useCallback)(function(){h(m),u()},[h,u,m]);return(0,l.useEffect)(function(){c&&h(m)},[c,m,h]),(0,k.jsx)(q.Z,{"data-testid":"experience-menu-item-migrate-server",onClick:I,disabled:c||s,children:(0,k.jsx)(E.Z,{color:"error",children:a(y.enableRestartServersForUpdates?"Action.RestartServers":"Action.MigrateToLatestUpdate")})})},aA=h.$,aB=(0,g.Z)(function(a){return(0,n.c)({icon:{paddingLeft:5},redText:{color:a.palette.error.dark,"&:hover":{color:a.palette.error.dark}}})}),aC=function(f){var N,b=f.itemType,a=f.creation,i=f.removeItem,C=f.updateItemPrivacy,j=f.updateItem,D=f.url,g=f.handleClose,n=f.menuOpen,E=f.anchorEl,z=f.creatorIsEligibleForGuidelines,c=void 0===z||z,F=f.toggleEnableItem,d=(0,e.$G)().translate,A=(0,o.D)(),G=A.enqueue,H=A.close,J=(0,v.rV)().settings,B=aB(),K=B.redText,M=B.icon,O=(0,m.useRouter)(),h=(0,l.useMemo)(function(){return!!F&& void 0!==a.universeProductConfigEnabled},[F,a.universeProductConfigEnabled]),P=(0,l.useCallback)(function(a){G({message:(0,k.jsx)("span",{"data-testid":"success-message",children:a}),anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:t.JH,autoHide:!0,onClose:H})},[G,H]),Q=function(b,a,c){b.preventDefault(),navigator.clipboard.writeText(null!=a?a:"").then(function(){d&&c&&P(d("Message.CopySuccess",{item:c}))}),g()};return(0,k.jsxs)(p.Z,{"data-testid":"experience-options-menu",open:void 0!==n&&n,anchorEl:E,onClose:g,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[D&&!h&&[(0,k.jsx)(q.Z,{onClick:function(){var a;null===(a=window.open(D,"_blank"))|| void 0===a||a.focus()},disabled:!c,children:d("Action.OpenInNewTab")},"Action.OpenInNewTab"),(0,k.jsx)(q.Z,{onClick:function(a){Q(a,D,d("Label.URL"))},disabled:!c,children:d("Action.CopyURL")},"Action.CopyURL")],b===u.Z.Game&&[(0,k.jsxs)(q.Z,{disabled:!c,onClick:function(){var b,c;null===(b=window.open(aA(u.Z.Game,null!==(c=a.assetId)&& void 0!==c?c:0)||"","_blank"))|| void 0===b||b.focus()},children:[d("Action.OpenExperienceDetails"),(0,k.jsx)(r.aL,{className:M})]},"Action.OpenExperienceDetails"),(0,k.jsx)(q.Z,{onClick:function(b){Q(b,String(a.universeId),d("Label.UniverseID"))},disabled:!c,children:d("Action.CopyUniverseID")},"Action.CopyUniverseID")],b!==u.Z.Places&&b!==u.Z.CreatedPlaces&&!h&&(0,k.jsx)(q.Z,{onClick:function(f){var c,e="Label.AssetID";switch(b){case u.Z.DeveloperProduct:c=a.productId;break;case u.Z.Bundle:c=a.bundleId;break;case u.Z.ExperienceSubscription:e="Label.ProductID",c=a.subscriptionProductId;break;default:c=a.assetId}Q(f,String(c),d(e))},disabled:!c,children:function(){switch(b){case u.Z.Game:return d("Action.CopyStartPlaceID");case u.Z.Bundle:return d("Action.CopyBundleID");case u.Z.ExperienceSubscription:return d("Action.CopySubscriptionID");default:return d("Action.CopyAssetID")}}()}),(b===u.Z.CatalogAsset||b===u.Z.LibraryAsset)&&!h&&(0,k.jsx)(q.Z,{onClick:function(b){Q(b,"rbxassetid://".concat(a.assetId),d("Label.AssetURI"))},children:d("Action.CopyAssetURI")}),b===u.Z.CatalogAsset&&h&&(0,k.jsx)(q.Z,{className:a.universeProductConfigEnabled?K:"",value:+!a.universeProductConfigEnabled,onClick:function(a){F(!!a.target.value),g()},children:a.universeProductConfigEnabled?d("Label.DisableSale"):d("Label.EnableSale")}),b===u.Z.Game&&[(0,k.jsx)(s.D,{},"topDivider"),(0,k.jsx)(q.Z,{"data-testid":"experience-menu-item-localization",onClick:function(){return O.push("/dashboard/creations/experiences/".concat(a.universeId,"/localization"))},disabled:!c,children:d("Action.ConfigureLocalization")},d("Action.ConfigureLocalization")),(0,k.jsx)(q.Z,{"data-testid":"experience-menu-item-badge",onClick:function(){return O.push("/dashboard/creations/experiences/".concat(a.universeId,"/badges/create"))},disabled:!c,children:d("Action.CreateBadge")},"Action.CreateBadge"),(0,k.jsx)(q.Z,{"data-testid":"experience-menu-item-devEx",onClick:function(){return O.push((0,x.Z)(y.Z.Performance,{},null!==(N=a.universeId)&& void 0!==N?N:0))},disabled:!c,children:d("Action.ViewRealTimeStats")},d("Action.ViewRealTimeStats")),(0,k.jsx)(s.D,{},"divider")],b===u.Z.Game&&!a.isArchived&&[(0,k.jsx)(ao.Z,{creation:a,updateItemPrivacy:C,handleClose:g,isDisabled:!c},"Action.PrivacyUpdate")],b===u.Z.ExperienceSubscription&&[(0,k.jsx)(aj,{creation:a,handleClose:g,updateItem:j},"Action.Activate"),(0,k.jsx)(ak,{creation:a,handleClose:g,updateItem:j},"Action.Deactivate"),(0,k.jsx)(am,{creation:a,removeItem:i},"Action.Delete")],b===u.Z.Game&&!a.isArchived&&[(0,k.jsx)(L,{creation:a,handleClose:g,isDisabled:!c},"Action.ShutDownServers")],b===u.Z.Game&&!a.isArchived&&[(0,k.jsx)(I,{creation:a,handleClose:g,isDisabled:!c},"Action.MigrateUniverse")],a.isDirectlyArchivable&&(0,k.jsx)(an,{itemType:b,creation:a,removeItem:i,handleClose:g,isDisabled:!c}),(b===u.Z.Places||b===u.Z.CreatedPlaces)&&!a.isStartPlace&&(0,k.jsx)(aq,{creation:a,removeItem:i,handleClose:g,isDisabled:!c},"Action.RemovePlaces"),b===u.Z.Places&&J.enableMigrationOptionForPlaces&&(0,k.jsx)(az,{creation:a,handleClose:g,isDisabled:!c},"Action.MigrateToLatestUpdate"),w.P$.has(a.assetType)&&(0,k.jsx)(ay,{creation:a,updateItem:j,handleClose:g},"Action.ToggleSale")]})}},53696:function(d,b,a){"use strict";var e=a(47568),c=a(34051),f=a.n(c),g=a(85893),h=a(67294),i=a(12717),j=a(43182),k=a(57919),l=a(65085),m=a(62858),n=a(6221),o=a(1989),p=a(85465);b.Z=function(a){var c=a.creation,x=a.updateItemPrivacy,y=a.handleClose,z=a.isDisabled,r=(0,h.useState)(!1),d=r[0],G=r[1],q=(0,i.R)(),A=q.open,s=q.close,t=q.configure,b=(0,o.$G)().translate,u=(0,j.D)(),B=u.enqueue,C=u.close,D=(0,h.useCallback)(function(a){B({message:a,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:n.JH,autoHide:!0,onClose:C})},[B,C]),E=(0,h.useCallback)(function(){s()},[s]),v=(0,h.useCallback)((0,e.Z)(f().mark(function a(){var d,e,g;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return G(!0),g=c.isActive?p.ZP.deactivateGame(null!==(d=c.universeId)&& void 0!==d?d:0):p.ZP.activateGame(null!==(e=c.universeId)&& void 0!==e?e:0),a.prev=3,a.next=6,g;case 6:x(!c.isActive),D(b("Message.PrivacyUpdateSuccess")),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(3),D(b("Response.UnknownError"));case 13:return a.prev=13,G(!1),E(),y(),a.finish(13);case 18:case"end":return a.stop()}},a,null,[[3,10,13,18]])})),[c,E,D,b,y,x]),w=(0,h.useMemo)(function(){return(0,g.jsx)(k.Z,{onConfirm:v,onCancel:s,title:b("Action.Confirm"),content:b("Description.MakePrivate"),confirmText:b("Action.OK"),cancelText:b("Action.Cancel"),loading:d})},[d,v,b,s]),F=(0,h.useCallback)(function(){t(w),A()},[w,A,t]);return(0,h.useEffect)(function(){d&&t(w)},[d,w,t]),(0,g.jsx)(l.Z,{onClick:c.isActive?F:v,disabled:d||z,children:c.isActive?(0,g.jsx)(m.Z,{color:"error",children:b("Action.MakePrivate")}):(0,g.jsx)(m.Z,{color:"success",children:b("Action.MakePublic")})})}},25155:function(d,c){"use strict";var b,a;(a=b||(b={}))[a.UnknownError=0]="UnknownError",a[a.InvalidRequest=1]="InvalidRequest",a[a.Forbidden=2]="Forbidden",a[a.NotFound=3]="NotFound",a[a.Unauthorized=4]="Unauthorized",a[a.Conflict=5]="Conflict",a[a.InternalError=6]="InternalError",c.Z=b},37067:function(e,b,a){"use strict";var f=a(14924),c=a(51134),g=a(61110),d=(0,c.Z)(function(a){return(0,g.c)({formContainer:(0,f.Z)({width:"100%","& > *:not(:last-child)":{paddingBottom:48}},a.breakpoints.down("sm"),{paddingLeft:12,paddingRight:12}),createProductInfoText:{marginTop:16,overflow:"auto"},inputFormPadding:{width:"100%","& > *:not(:last-child)":{paddingBottom:32}},createButton:(0,f.Z)({marginLeft:12},a.breakpoints.down("sm"),{marginLeft:0,marginTop:12}),errorMessageStyle:{marginTop:5,marginLeft:5},buttonContainerStyle:{marginTop:32},copyIconStyle:{marginLeft:5}})});b.Z=d},85277:function(l,e,d){"use strict";d.d(e,{Z:function(){return n}});var a,f,g=d(47568),h=d(34051),i=d.n(h),b=d(14924),c=d(61238),j=(a={},(0,b.Z)(a,c.S9.Invalid,"Error.SubscriptionError"),(0,b.Z)(a,c.S9.InvalidInput,"Error.SubscriptionError"),(0,b.Z)(a,c.S9.InvalidProduct,"Error.SubscriptionError"),(0,b.Z)(a,c.S9.ProductNotFound,"Error.NotFound"),(0,b.Z)(a,c.S9.TooManyRequests,"Error.SubscriptionError"),(0,b.Z)(a,c.S9.CreationLimitExceeded,"Error.CreationLimitExceeded"),(0,b.Z)(a,c.S9.NotEligibleForDeveloperSubscriptions,"Error.Unauthorized"),(0,b.Z)(a,c.S9.PendingProductUpdate,"Error.SubscriptionError"),(0,b.Z)(a,c.S9.Unauthorized,"Error.Unauthorized"),(0,b.Z)(a,c.S9.InternalError,"Error.SubscriptionError"),(0,b.Z)(a,c.S9.ImageUploadError,"Error.UploadImageFailure"),(0,b.Z)(a,c.S9.UniverseNotFound,"Error.SubscriptionError"),(0,b.Z)(a,c.S9.ProductNameAlreadyTaken,"Error.SubscriptionNameAlreadyUsed"),(0,b.Z)(a,c.S9.CannotChangeAppStoreName,"Error.AppStoreNameTaken"),(0,b.Z)(a,c.S9.ExperienceAppStoreNameAlreadyTaken,"Error.AppStoreExperienceNameTaken"),(0,b.Z)(a,c.S9.ProductContentModerated,"Error.SubscriptionContentModerated"),a),m=j,k=(f=(0,g.Z)(i().mark(function a(b){var c,d,e,f;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(c="Error.SubscriptionError",!b){a.next=13;break}return a.prev=2,a.next=5,b.json();case 5:c=null!==(f=m[null!==(e=(d=a.sent).failureReason)&& void 0!==e?e:0])&& void 0!==f?f:"Error.SubscriptionError",a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),c="Error.SubscriptionError";case 13:return a.abrupt("return",c);case 14:case"end":return a.stop()}},a,null,[[2,10]])})),function(a){return f.apply(this,arguments)}),n=k},29684:function(k,g,b){"use strict";b.d(g,{DQ:function(){return n},En:function(){return r},"P$":function(){return o},Vj:function(){return m},Vy:function(){return p},"c$":function(){return q},fg:function(){return l}});var c,e,d=b(14924),a=b(70840),i=b(9993),f=b(92304),h=b(32164),l=new Set([a.Z.MyExperiences,a.Z.SharedExperiences,a.Z.Audio,a.Z.Decal,a.Z.MeshPart,a.Z.Video]),m=new Set([a.Z.MyExperiences,a.Z.SharedExperiences,a.Z.Audio,a.Z.Decal,a.Z.Image,a.Z.MeshPart,a.Z.Video]),n=new Set([a.Z.MyExperiences,a.Z.SharedExperiences,a.Z.UpcomingEvent,a.Z.PastEvent,a.Z.DraftEvent]),o=new Set([a.Z.TShirt,a.Z.Shirt,a.Z.Pants,a.Z.Hat,a.Z.HairAccessory,a.Z.FaceAccessory,a.Z.NeckAccessory,a.Z.ShoulderAccessory,a.Z.FrontAccessory,a.Z.BackAccessory,a.Z.WaistAccessory,a.Z.TShirtAccessory,a.Z.ShirtAccessory,a.Z.PantsAccessory,a.Z.JacketAccessory,a.Z.SweaterAccessory,a.Z.ShortsAccessory,a.Z.DressSkirtAccessory]),p=new Set([]),q=(c={},(0,d.Z)(c,f.AY.GameCreated,"Label.DateOfCreation"),(0,d.Z)(c,f.AY.GameName,"Label.Alphabetical"),(0,d.Z)(c,f.AY.LastUpdated,"Label.LastUpdatedDate"),c),r=(e={},(0,d.Z)(e,h.iU.CreatedUtc,"Label.DateOfCreation"),(0,d.Z)(e,h.iU.StartUtc,"Label.StartDate"),e),j=[{type:a.Z.Place,nameKey:"Label.Experiences",submenuItems:[{type:a.Z.MyExperiences,nameKey:"Label.MyExperiences"},{type:a.Z.SharedExperiences,nameKey:"Label.SharedExperiences"}]},{type:a.Z.Event,nameKey:"Label.Events",submenuItems:[{type:a.Z.UpcomingEvent,nameKey:"Label.UpcomingEventsMenuName"},{type:a.Z.PastEvent,nameKey:"Label.PastEventsMenuName"},{type:a.Z.DraftEvent,nameKey:"Label.DraftEventsMenuName"}]},{type:a.Z.TShirt,nameKey:"Label.AvatarItems",submenuItems:[{type:a.Z.HairAccessory,nameKey:"Label.Bodies",itemType:i.Z.Bundle},{type:a.Z.TShirtAccessory,nameKey:"Label.Clothing"},{type:a.Z.Hat,nameKey:"Label.Accessories"},{type:a.Z.TShirt,nameKey:"Label.Classics"}]},{type:a.Z.Decal,nameKey:"Label.DevelopmentItems",submenuItems:[{type:a.Z.Model,nameKey:"Label.ModelsAndPackages"},{type:a.Z.Plugin,nameKey:"Label.Plugins"},{type:a.Z.Audio,nameKey:"Label.Audios"},{type:a.Z.Decal,nameKey:"Label.Decals"},{type:a.Z.Image,nameKey:"Label.Images"},{type:a.Z.Video,nameKey:"Label.Videos"},{type:a.Z.MeshPart,nameKey:"Label.Meshes"},{type:a.Z.Animation,nameKey:"Label.Animations"}]}];g.ZP=j},11324:function(d,b,c){"use strict";var a=(0,c(67294).createContext)(void 0);a.displayName="Metadata",b.Z=a},71950:function(c,b,a){"use strict";a.d(b,{Z:function(){return f}});var d=a(67294),e=a(11324);function f(){return(0,d.useContext)(e.Z)}},84807:function(g,e,f){"use strict";var b,c,a,d;f.d(e,{o:function(){return b},u:function(){return c}}),(a=b||(b={})).Sales="Sales",a.Revenue="Revenue",a.SalesByProduct="SalesByProduct",a.RevenueByProduct="RevenueByProduct",a.SalesBySubscriptionType="SalesBySubscriptionType",a.CancellationsBySubscriptionType="CancellationsBySubscriptionType",a.SalesByPlatform="SalesByPlatform",a.RevenueByPlatform="RevenueByPlatform",(d=c||(c={})).Stacked="Stacked",d.Spline="Spline"},23191:function(g,e,d){"use strict";var a,b=d(14924),c=d(6165),f=(a={},(0,b.Z)(a,c.Z.UnknownError,"Response.UnknownError"),(0,b.Z)(a,c.Z.InvalidFile,"Error.Publish.InvalidFile"),(0,b.Z)(a,c.Z.MissingFile,"Error.Publish.MissingFile"),(0,b.Z)(a,c.Z.TooManyAttempts,"Error.Publish.TooManyAttempts"),(0,b.Z)(a,c.Z.InvalidItem,"Error.Publish.InvalidItem"),(0,b.Z)(a,c.Z.InvalidPermissions,"Error.Publish.InvalidPermissions"),(0,b.Z)(a,c.Z.NoRootPlace,"Error.Publish.NoRootPlace"),(0,b.Z)(a,c.Z.InvalidAssetType,"Error.Publish.InvalidAssetType"),(0,b.Z)(a,c.Z.InvalidQuotaResourceType,"Error.Publish.InvalidQuotaResourceType"),a);e.Z=f},19269:function(d,c){"use strict";var b,a;(a=b||(b={})).OnChange="onChange",a.OnBlur="onBlur",a.OnSubmit="onSubmit",a.OnTouched="onTouched",a.All="all",c.Z=b},6165:function(d,c,e){"use strict";var b,a;(a=b||(b={}))[a.UnknownError=0]="UnknownError",a[a.InvalidFile=1]="InvalidFile",a[a.MissingFile=2]="MissingFile",a[a.TooManyAttempts=3]="TooManyAttempts",a[a.InvalidItem=4]="InvalidItem",a[a.InvalidPermissions=5]="InvalidPermissions",a[a.NoRootPlace=6]="NoRootPlace",a[a.InvalidAssetType=7]="InvalidAssetType",a[a.InvalidQuotaResourceType=8]="InvalidQuotaResourceType",c.Z=b},3351:function(d,b,a){"use strict";a.d(b,{Ds:function(){return j},Fq:function(){return l},RB:function(){return i},Se:function(){return n},TV:function(){return k},VZ:function(){return p},fm:function(){return q},lc:function(){return o},uf:function(){return m}});var e=a(29815),f=a(59031),c=a(36377),g=a.n(c),h=void 0,i=function(a){return 864e5*a},j=function(a){var b,c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:300,d=h;return[function(){for(var f=arguments.length,g=Array(f),e=0;e<f;e++)g[e]=arguments[e];var h=d;clearTimeout(b),b=setTimeout(function(){a.apply(h,g)},c)},function(){clearTimeout(b)}]},k=function(c,f){for(var h=g()(f),a=(0,e.Z)(c),b=c.length;b;){var d=Math.floor(h()*b),i=a[b-=1];a[b]=a[d],a[d]=i}return a},l=function(b,a){return a<16?"".concat(b,"0").concat(a.toString(16)):"".concat(b).concat(a.toString(16))},m=function(a){return a<1?a.toFixed(1):a<1e3?Math.round(a).toString():(0,f.YX)(a).toString()},n=function(b,c){for(var d=[],a=0;a<b.length;a+=c){var e=b.slice(a,a+c);d.push(e)}return d},o=function(a){var b;return a.split("-").reduce(function(c,a){return c+(null!==(b=a[0])&& void 0!==b?b:"").toUpperCase()+a.slice(1)},"")},p=function(a,b){return a.size===b.size&&Array.from(a.values()).every(function(a){return b.has(a)})},q=function(b,a){return 0===a.length?a:a.charAt(0).toLocaleUpperCase(b||"en-US")+a.slice(1).toLocaleLowerCase(b||"en-US")}},75042:function(){}}])